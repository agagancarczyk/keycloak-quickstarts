{"version":3,"file":"RealmSettingsSection-84f0b6b5.js","sources":["../../../../node_modules/lodash-es/uniqWith.js","../../../../node_modules/@patternfly/react-table/dist/esm/components/Table/EditableTextCell.js","../../src/utils/useCurrentUser.ts","../../src/realm-settings/EmailTab.tsx","../../src/realm-settings/event-config/EventsTypeTable.tsx","../../src/realm-settings/event-config/AddEventTypesDialog.tsx","../../src/realm-settings/event-config/EventConfigForm.tsx","../../src/realm-settings/event-config/EventListenersForm.tsx","../../src/realm-settings/event-config/EventsTab.tsx","../../src/realm-settings/GeneralTab.tsx","../../src/realm-settings/keys/KeysListTab.tsx","../../src/realm-settings/keys/key-providers/KeyProviderModal.tsx","../../src/realm-settings/keys/key-providers/KeyProvidersPicker.tsx","../../src/realm-settings/keys/KeysProvidersTab.tsx","../../src/realm-settings/keys/KeysTab.tsx","../../src/realm-settings/AddMessageBundleModal.tsx","../../src/realm-settings/LocalizationTab.tsx","../../src/realm-settings/LoginTab.tsx","../../src/realm-settings/PartialExport.tsx","../../src/realm-settings/PartialImport.tsx","../../src/realm-settings/PoliciesTab.tsx","../../src/realm-settings/ProfilesTab.tsx","../../src/realm-settings/security-defences/HelpLinkTextInput.tsx","../../src/realm-settings/security-defences/HeadersForm.tsx","../../src/realm-settings/security-defences/Time.tsx","../../src/realm-settings/security-defences/BruteForceDetection.tsx","../../src/realm-settings/security-defences/SecurityDefenses.tsx","../../src/realm-settings/SessionsTab.tsx","../../src/realm-settings/ThemesTab.tsx","../../src/realm-settings/TokensTab.tsx","../../src/realm-settings/user-profile/AttributesGroupTab.tsx","../../src/realm-settings/user-profile/AttributesTab.tsx","../../src/realm-settings/user-profile/JsonEditorTab.tsx","../../src/realm-settings/user-profile/UserProfileTab.tsx","../../src/realm-settings/DefaultGroupsTab.tsx","../../src/realm-settings/UserRegistration.tsx","../../src/realm-settings/RealmSettingsTabs.tsx","../../src/realm-settings/RealmSettingsSection.tsx"],"sourcesContent":["import baseUniq from './_baseUniq.js';\n\n/**\n * This method is like `_.uniq` except that it accepts `comparator` which\n * is invoked to compare elements of `array`. The order of result values is\n * determined by the order they occur in the array.The comparator is invoked\n * with two arguments: (arrVal, othVal).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n *\n * _.uniqWith(objects, _.isEqual);\n * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n */\nfunction uniqWith(array, comparator) {\n  comparator = typeof comparator == 'function' ? comparator : undefined;\n  return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n}\n\nexport default uniqWith;\n","import * as React from 'react';\nimport { TextInput } from '@patternfly/react-core/dist/esm/components/TextInput';\nimport inlineStyles from '@patternfly/react-styles/css/components/InlineEdit/inline-edit';\nimport formStyles from '@patternfly/react-styles/css/components/Form/form';\nimport { css } from '@patternfly/react-styles';\nexport const EditableTextCell = ({ value, rowIndex, cellIndex, props, handleTextInputChange, inputAriaLabel, isDisabled = false }) => (React.createElement(React.Fragment, null,\n    React.createElement(\"div\", { className: inlineStyles.inlineEditValue }, value),\n    React.createElement(\"div\", { className: inlineStyles.inlineEditInput },\n        React.createElement(TextInput, { isDisabled: isDisabled, value: props.editableValue !== undefined ? props.editableValue : value, validated: props.isValid !== false ? 'default' : 'error', type: \"text\", onChange: (newValue, event) => {\n                handleTextInputChange(newValue, event, rowIndex, cellIndex);\n            }, \"aria-label\": inputAriaLabel }),\n        React.createElement(\"div\", { className: css(formStyles.formHelperText, formStyles.modifiers.error), \"aria-live\": \"polite\" }, props.errorText))));\nEditableTextCell.displayName = 'EditableTextCell';\n//# sourceMappingURL=EditableTextCell.js.map","import UserRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/userRepresentation\";\nimport { useState } from \"react\";\nimport { useAdminClient, useFetch } from \"../context/auth/AdminClient\";\nimport { useWhoAmI } from \"../context/whoami/WhoAmI\";\n\nexport function useCurrentUser() {\n  const { whoAmI } = useWhoAmI();\n  const { adminClient } = useAdminClient();\n  const [currentUser, setCurrentUser] = useState<UserRepresentation>();\n\n  const userId = whoAmI.getUserId();\n\n  useFetch(() => adminClient.users.findOne({ id: userId }), setCurrentUser, [\n    userId,\n  ]);\n\n  return currentUser;\n}\n","import type RealmRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/realmRepresentation\";\nimport {\n  ActionGroup,\n  ActionListItem,\n  Alert,\n  AlertActionLink,\n  AlertVariant,\n  Button,\n  Checkbox,\n  FormGroup,\n  PageSection,\n  Switch,\n} from \"@patternfly/react-core\";\nimport { useState } from \"react\";\nimport { Controller, useForm, useWatch } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\n\nimport { useAlerts } from \"../components/alert/Alerts\";\nimport { FormAccess } from \"../components/form-access/FormAccess\";\nimport { HelpItem } from \"ui-shared\";\nimport { KeycloakTextInput } from \"../components/keycloak-text-input/KeycloakTextInput\";\nimport { PasswordInput } from \"../components/password-input/PasswordInput\";\nimport { FormPanel } from \"../components/scroll-form/FormPanel\";\nimport { useAdminClient } from \"../context/auth/AdminClient\";\nimport { useRealm } from \"../context/realm-context/RealmContext\";\nimport { toUser } from \"../user/routes/User\";\nimport { emailRegexPattern } from \"../util\";\nimport { useCurrentUser } from \"../utils/useCurrentUser\";\nimport useToggle from \"../utils/useToggle\";\n\nimport \"./realm-settings-section.css\";\n\ntype RealmSettingsEmailTabProps = {\n  realm: RealmRepresentation;\n};\n\nexport const RealmSettingsEmailTab = ({\n  realm: initialRealm,\n}: RealmSettingsEmailTabProps) => {\n  const { t } = useTranslation(\"realm-settings\");\n  const { adminClient } = useAdminClient();\n  const { realm: realmName } = useRealm();\n  const { addAlert, addError } = useAlerts();\n  const currentUser = useCurrentUser();\n\n  const [realm, setRealm] = useState(initialRealm);\n  const {\n    register,\n    control,\n    handleSubmit,\n    watch,\n    reset: resetForm,\n    getValues,\n    formState: { errors },\n  } = useForm<RealmRepresentation>({ defaultValues: realm });\n\n  const reset = () => resetForm(realm);\n  const watchFromValue = watch(\"smtpServer.from\", \"\");\n  const watchHostValue = watch(\"smtpServer.host\", \"\");\n  const [isTesting, toggleTest] = useToggle();\n\n  const authenticationEnabled = useWatch({\n    control,\n    name: \"smtpServer.auth\",\n    defaultValue: \"\",\n  });\n\n  const save = async (form: RealmRepresentation) => {\n    try {\n      const savedRealm = { ...realm, ...form };\n\n      // For default value, back end is expecting null instead of empty string\n      if (savedRealm.smtpServer?.port === \"\") savedRealm.smtpServer.port = null;\n\n      await adminClient.realms.update({ realm: realmName }, savedRealm);\n      setRealm(savedRealm);\n      addAlert(t(\"saveSuccess\"), AlertVariant.success);\n    } catch (error) {\n      addError(\"realm-settings:saveError\", error);\n    }\n  };\n\n  const testConnection = async () => {\n    const toNumber = (value: string) => Number(value);\n    const toBoolean = (value: string) => value === true.toString();\n    const valueMapper = new Map<string, (value: string) => unknown>([\n      [\"port\", toNumber],\n      [\"ssl\", toBoolean],\n      [\"starttls\", toBoolean],\n      [\"auth\", toBoolean],\n    ]);\n\n    const serverSettings = { ...getValues()[\"smtpServer\"] };\n\n    for (const [key, mapperFn] of valueMapper.entries()) {\n      serverSettings[key] = mapperFn(serverSettings[key]);\n    }\n\n    // For default value, back end is expecting null instead of 0\n    if (serverSettings.port === 0) serverSettings.port = null;\n\n    try {\n      toggleTest();\n      await adminClient.realms.testSMTPConnection(\n        { realm: realm.realm! },\n        serverSettings\n      );\n      addAlert(t(\"testConnectionSuccess\"), AlertVariant.success);\n    } catch (error) {\n      addError(\"realm-settings:testConnectionError\", error);\n    }\n    toggleTest();\n  };\n\n  return (\n    <PageSection variant=\"light\">\n      <FormPanel title={t(\"template\")} className=\"kc-email-template\">\n        <FormAccess\n          isHorizontal\n          role=\"manage-realm\"\n          className=\"pf-u-mt-lg\"\n          onSubmit={handleSubmit(save)}\n        >\n          <FormGroup\n            label={t(\"from\")}\n            fieldId=\"kc-display-name\"\n            isRequired\n            validated={errors.smtpServer?.from ? \"error\" : \"default\"}\n            helperTextInvalid={t(\"users:emailInvalid\")}\n          >\n            <KeycloakTextInput\n              type=\"email\"\n              id=\"kc-sender-email-address\"\n              data-testid=\"sender-email-address\"\n              placeholder=\"Sender email address\"\n              validated={errors.smtpServer?.from ? \"error\" : \"default\"}\n              {...register(\"smtpServer.from\", {\n                pattern: emailRegexPattern,\n                required: true,\n              })}\n            />\n          </FormGroup>\n          <FormGroup\n            label={t(\"fromDisplayName\")}\n            fieldId=\"kc-from-display-name\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:fromDisplayName\")}\n                fieldLabelId=\"realm-settings:authentication\"\n              />\n            }\n          >\n            <KeycloakTextInput\n              id=\"kc-from-display-name\"\n              data-testid=\"from-display-name\"\n              placeholder=\"Display name for Sender email address\"\n              {...register(\"smtpServer.fromDisplayName\")}\n            />\n          </FormGroup>\n          <FormGroup\n            label={t(\"replyTo\")}\n            fieldId=\"kc-reply-to\"\n            validated={errors.smtpServer?.replyTo ? \"error\" : \"default\"}\n            helperTextInvalid={t(\"users:emailInvalid\")}\n          >\n            <KeycloakTextInput\n              type=\"email\"\n              id=\"kc-reply-to\"\n              placeholder=\"Reply to email address\"\n              validated={errors.smtpServer?.replyTo ? \"error\" : \"default\"}\n              {...register(\"smtpServer.replyTo\", {\n                pattern: emailRegexPattern,\n              })}\n            />\n          </FormGroup>\n          <FormGroup\n            label={t(\"replyToDisplayName\")}\n            fieldId=\"kc-reply-to-display-name\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:replyToDisplayName\")}\n                fieldLabelId=\"realm-settings:replyToDisplayName\"\n              />\n            }\n          >\n            <KeycloakTextInput\n              id=\"kc-reply-to-display-name\"\n              placeholder='Display name for \"reply to\" email address'\n              {...register(\"smtpServer.replyToDisplayName\")}\n            />\n          </FormGroup>\n          <FormGroup\n            label={t(\"envelopeFrom\")}\n            fieldId=\"kc-envelope-from\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:envelopeFrom\")}\n                fieldLabelId=\"realm-settings:envelopeFrom\"\n              />\n            }\n          >\n            <KeycloakTextInput\n              id=\"kc-envelope-from\"\n              placeholder=\"Sender envelope email address\"\n              {...register(\"smtpServer.envelopeFrom\")}\n            />\n          </FormGroup>\n        </FormAccess>\n      </FormPanel>\n      <FormPanel\n        className=\"kc-email-connection\"\n        title={t(\"connectionAndAuthentication\")}\n      >\n        <FormAccess\n          isHorizontal\n          role=\"manage-realm\"\n          className=\"pf-u-mt-lg\"\n          onSubmit={handleSubmit(save)}\n        >\n          <FormGroup\n            label={t(\"host\")}\n            fieldId=\"kc-host\"\n            isRequired\n            validated={errors.smtpServer?.host ? \"error\" : \"default\"}\n            helperTextInvalid={t(\"common:required\")}\n          >\n            <KeycloakTextInput\n              id=\"kc-host\"\n              placeholder=\"SMTP host\"\n              validated={errors.smtpServer?.host ? \"error\" : \"default\"}\n              {...register(\"smtpServer.host\", { required: true })}\n            />\n          </FormGroup>\n          <FormGroup label={t(\"port\")} fieldId=\"kc-port\">\n            <KeycloakTextInput\n              id=\"kc-port\"\n              placeholder=\"SMTP port (defaults to 25)\"\n              {...register(\"smtpServer.port\")}\n            />\n          </FormGroup>\n          <FormGroup label={t(\"encryption\")} fieldId=\"kc-html-display-name\">\n            <Controller\n              name=\"smtpServer.ssl\"\n              control={control}\n              defaultValue=\"false\"\n              render={({ field }) => (\n                <Checkbox\n                  id=\"kc-enable-ssl\"\n                  data-testid=\"enable-ssl\"\n                  label={t(\"enableSSL\")}\n                  isChecked={field.value === \"true\"}\n                  onChange={(value) => field.onChange(\"\" + value)}\n                />\n              )}\n            />\n            <Controller\n              name=\"smtpServer.starttls\"\n              control={control}\n              defaultValue=\"false\"\n              render={({ field }) => (\n                <Checkbox\n                  id=\"kc-enable-start-tls\"\n                  data-testid=\"enable-start-tls\"\n                  label={t(\"enableStartTLS\")}\n                  isChecked={field.value === \"true\"}\n                  onChange={(value) => field.onChange(\"\" + value)}\n                />\n              )}\n            />\n          </FormGroup>\n          <FormGroup\n            hasNoPaddingTop\n            label={t(\"authentication\")}\n            fieldId=\"kc-authentication\"\n          >\n            <Controller\n              name=\"smtpServer.auth\"\n              control={control}\n              defaultValue=\"\"\n              render={({ field }) => (\n                <Switch\n                  id=\"kc-authentication-switch\"\n                  data-testid=\"email-authentication-switch\"\n                  label={t(\"common:enabled\")}\n                  labelOff={t(\"common:disabled\")}\n                  isChecked={field.value === \"true\"}\n                  onChange={(value) => {\n                    field.onChange(\"\" + value);\n                  }}\n                  aria-label={t(\"authentication\")}\n                />\n              )}\n            />\n          </FormGroup>\n          {authenticationEnabled === \"true\" && (\n            <>\n              <FormGroup\n                label={t(\"username\")}\n                fieldId=\"kc-username\"\n                isRequired\n                validated={errors.smtpServer?.user ? \"error\" : \"default\"}\n                helperTextInvalid={t(\"common:required\")}\n              >\n                <KeycloakTextInput\n                  id=\"kc-username\"\n                  data-testid=\"username-input\"\n                  placeholder=\"Login username\"\n                  validated={errors.smtpServer?.user ? \"error\" : \"default\"}\n                  {...register(\"smtpServer.user\", { required: true })}\n                />\n              </FormGroup>\n              <FormGroup\n                label={t(\"password\")}\n                fieldId=\"kc-username\"\n                isRequired\n                validated={errors.smtpServer?.password ? \"error\" : \"default\"}\n                helperTextInvalid={t(\"common:required\")}\n                labelIcon={\n                  <HelpItem\n                    helpText={t(\"realm-settings-help:password\")}\n                    fieldLabelId=\"realm-settings:password\"\n                  />\n                }\n              >\n                <PasswordInput\n                  id=\"kc-password\"\n                  data-testid=\"password-input\"\n                  aria-label={t(\"password\")}\n                  validated={errors.smtpServer?.password ? \"error\" : \"default\"}\n                  {...register(\"smtpServer.password\", { required: true })}\n                />\n              </FormGroup>\n            </>\n          )}\n          {currentUser && (\n            <FormGroup id=\"descriptionTestConnection\">\n              {currentUser.email ? (\n                <Alert\n                  variant=\"info\"\n                  isInline\n                  title={t(\"testConnectionHint.withEmail\", {\n                    email: currentUser.email,\n                  })}\n                />\n              ) : (\n                <Alert\n                  variant=\"warning\"\n                  isInline\n                  title={t(\"testConnectionHint.withoutEmail\", {\n                    userName: currentUser.username,\n                  })}\n                  actionLinks={\n                    <AlertActionLink\n                      component={(props) => (\n                        <Link\n                          {...props}\n                          to={toUser({\n                            realm: realmName,\n                            id: currentUser.id!,\n                            tab: \"settings\",\n                          })}\n                        />\n                      )}\n                    >\n                      {t(\"testConnectionHint.withoutEmailAction\")}\n                    </AlertActionLink>\n                  }\n                />\n              )}\n            </FormGroup>\n          )}\n          <ActionGroup>\n            <ActionListItem>\n              <Button\n                variant=\"primary\"\n                type=\"submit\"\n                data-testid=\"email-tab-save\"\n              >\n                {t(\"common:save\")}\n              </Button>\n            </ActionListItem>\n            <ActionListItem>\n              <Button\n                variant=\"secondary\"\n                onClick={() => testConnection()}\n                data-testid=\"test-connection-button\"\n                isDisabled={\n                  !(emailRegexPattern.test(watchFromValue) && watchHostValue) ||\n                  !currentUser?.email\n                }\n                aria-describedby=\"descriptionTestConnection\"\n                isLoading={isTesting}\n                spinnerAriaValueText={t(\"testingConnection\")}\n              >\n                {t(\"common:testConnection\")}\n              </Button>\n            </ActionListItem>\n            <ActionListItem>\n              <Button\n                variant=\"link\"\n                onClick={reset}\n                data-testid=\"email-tab-revert\"\n              >\n                {t(\"common:revert\")}\n              </Button>\n            </ActionListItem>\n          </ActionGroup>\n        </FormAccess>\n      </FormPanel>\n    </PageSection>\n  );\n};\n","import { useTranslation } from \"react-i18next\";\nimport { Button, ToolbarItem } from \"@patternfly/react-core\";\n\nimport {\n  Action,\n  KeycloakDataTable,\n} from \"../../components/table-toolbar/KeycloakDataTable\";\nimport { ListEmptyState } from \"../../components/list-empty-state/ListEmptyState\";\n\nexport type EventType = {\n  id: string;\n};\n\ntype EventsTypeTableProps = {\n  ariaLabelKey?: string;\n  eventTypes: string[];\n  addTypes?: () => void;\n  onSelect?: (value: EventType[]) => void;\n  onDelete?: (value: EventType) => void;\n};\n\nexport function EventsTypeTable({\n  ariaLabelKey = \"userEventsRegistered\",\n  eventTypes,\n  addTypes,\n  onSelect,\n  onDelete,\n}: EventsTypeTableProps) {\n  const { t } = useTranslation(\"realm-settings\");\n\n  const data = eventTypes.map((type) => ({\n    id: t(`eventTypes.${type}.name`),\n    description: t(`eventTypes.${type}.description`),\n  }));\n  return (\n    <KeycloakDataTable\n      ariaLabelKey={ariaLabelKey}\n      searchPlaceholderKey=\"realm-settings:searchEventType\"\n      loader={data}\n      onSelect={onSelect ? onSelect : undefined}\n      canSelectAll={!!onSelect}\n      toolbarItem={\n        addTypes && (\n          <ToolbarItem>\n            <Button id=\"addTypes\" onClick={addTypes} data-testid=\"addTypes\">\n              {t(\"addSavedTypes\")}\n            </Button>\n          </ToolbarItem>\n        )\n      }\n      actions={\n        !onDelete\n          ? []\n          : [\n              {\n                title: t(\"common:remove\"),\n                onRowClick: onDelete,\n              } as Action<EventType>,\n            ]\n      }\n      columns={[\n        {\n          name: \"id\",\n          displayKey: \"realm-settings:eventType\",\n        },\n        {\n          name: \"description\",\n          displayKey: \"description\",\n        },\n      ]}\n      emptyState={\n        <ListEmptyState\n          message={t(\"emptyEvents\")}\n          instructions={t(\"emptyEventsInstructions\")}\n        />\n      }\n    />\n  );\n}\n","import { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Button, Modal, ModalVariant } from \"@patternfly/react-core\";\n\nimport { EventsTypeTable, EventType } from \"./EventsTypeTable\";\nimport { useServerInfo } from \"../../context/server-info/ServerInfoProvider\";\n\ntype AddEventTypesDialogProps = {\n  onConfirm: (selected: EventType[]) => void;\n  onClose: () => void;\n  configured: string[];\n};\n\nexport const AddEventTypesDialog = ({\n  onConfirm,\n  onClose,\n  configured,\n}: AddEventTypesDialogProps) => {\n  const { t } = useTranslation(\"realm-settings\");\n  const { enums } = useServerInfo();\n\n  const [selectedTypes, setSelectedTypes] = useState<EventType[]>([]);\n  return (\n    <Modal\n      variant={ModalVariant.medium}\n      title={t(\"addTypes\")}\n      isOpen={true}\n      onClose={onClose}\n      actions={[\n        <Button\n          data-testid=\"addEventTypeConfirm\"\n          key=\"confirm\"\n          variant=\"primary\"\n          onClick={() => onConfirm(selectedTypes)}\n        >\n          {t(\"common:add\")}\n        </Button>,\n        <Button\n          data-testid=\"moveCancel\"\n          key=\"cancel\"\n          variant=\"link\"\n          onClick={onClose}\n        >\n          {t(\"common:cancel\")}\n        </Button>,\n      ]}\n    >\n      <EventsTypeTable\n        ariaLabelKey=\"addTypes\"\n        onSelect={(selected) => setSelectedTypes(selected)}\n        eventTypes={enums![\"eventType\"].filter(\n          (type) => !configured.includes(type)\n        )}\n      />\n    </Modal>\n  );\n};\n","import {\n  ActionGroup,\n  Button,\n  Divider,\n  FormGroup,\n  Switch,\n} from \"@patternfly/react-core\";\nimport { Controller, UseFormReturn } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { useConfirmDialog } from \"../../components/confirm-dialog/ConfirmDialog\";\nimport { HelpItem } from \"ui-shared\";\nimport { TimeSelector } from \"../../components/time-selector/TimeSelector\";\n\nexport type EventsType = \"admin\" | \"user\";\n\ntype EventConfigFormProps = {\n  type: EventsType;\n  form: UseFormReturn;\n  reset: () => void;\n  clear: () => void;\n};\n\nexport const EventConfigForm = ({\n  type,\n  form,\n  reset,\n  clear,\n}: EventConfigFormProps) => {\n  const { t } = useTranslation(\"realm-settings\");\n  const {\n    control,\n    watch,\n    setValue,\n    formState: { isDirty },\n  } = form;\n  const eventKey = type === \"admin\" ? \"adminEventsEnabled\" : \"eventsEnabled\";\n  const eventsEnabled: boolean = watch(eventKey);\n\n  const [toggleDisableDialog, DisableConfirm] = useConfirmDialog({\n    titleKey: \"realm-settings:events-disable-title\",\n    messageKey: \"realm-settings:events-disable-confirm\",\n    continueButtonLabel: \"realm-settings:confirm\",\n    onConfirm: () => setValue(eventKey, false),\n  });\n\n  return (\n    <>\n      <DisableConfirm />\n      <FormGroup\n        hasNoPaddingTop\n        label={t(\"saveEvents\")}\n        fieldId={eventKey}\n        labelIcon={\n          <HelpItem\n            helpText={t(`realm-settings-help:save-${type}-events`)}\n            fieldLabelId=\"realm-settings:saveEvents\"\n          />\n        }\n      >\n        <Controller\n          name={eventKey}\n          defaultValue={false}\n          control={control}\n          render={({ field }) => (\n            <Switch\n              data-testid={eventKey}\n              id={`${eventKey}-switch`}\n              label={t(\"common:on\")}\n              labelOff={t(\"common:off\")}\n              isChecked={field.value}\n              onChange={(value) => {\n                if (!value) {\n                  toggleDisableDialog();\n                } else {\n                  field.onChange(value);\n                }\n              }}\n              aria-label={t(\"saveEvents\")}\n            />\n          )}\n        />\n      </FormGroup>\n      {eventsEnabled && (\n        <>\n          {type === \"admin\" && (\n            <FormGroup\n              hasNoPaddingTop\n              label={t(\"includeRepresentation\")}\n              fieldId=\"includeRepresentation\"\n              labelIcon={\n                <HelpItem\n                  helpText={t(\"realm-settings-help:includeRepresentation\")}\n                  fieldLabelId=\"realm-settings:includeRepresentation\"\n                />\n              }\n            >\n              <Controller\n                name=\"adminEventsDetailsEnabled\"\n                defaultValue={false}\n                control={control}\n                render={({ field }) => (\n                  <Switch\n                    data-testid=\"includeRepresentation\"\n                    id=\"includeRepresentation\"\n                    label={t(\"common:on\")}\n                    labelOff={t(\"common:off\")}\n                    isChecked={field.value}\n                    onChange={field.onChange}\n                    aria-label={t(\"includeRepresentation\")}\n                  />\n                )}\n              />\n            </FormGroup>\n          )}\n          <FormGroup\n            label={t(\"expiration\")}\n            fieldId=\"expiration\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:expiration\")}\n                fieldLabelId=\"realm-settings:expiration\"\n              />\n            }\n          >\n            <Controller\n              name={\n                type === \"user\" ? \"eventsExpiration\" : \"adminEventsExpiration\"\n              }\n              defaultValue=\"\"\n              control={control}\n              render={({ field }) => (\n                <TimeSelector\n                  value={field.value}\n                  onChange={field.onChange}\n                  units={[\"minute\", \"hour\", \"day\"]}\n                />\n              )}\n            />\n          </FormGroup>\n        </>\n      )}\n      <ActionGroup>\n        <Button\n          variant=\"primary\"\n          type=\"submit\"\n          id={`save-${type}`}\n          data-testid={`save-${type}`}\n          isDisabled={!isDirty}\n        >\n          {t(\"common:save\")}\n        </Button>\n        <Button variant=\"link\" onClick={reset}>\n          {t(\"common:revert\")}\n        </Button>\n      </ActionGroup>\n      <Divider />\n      <FormGroup\n        label={type === \"user\" ? t(\"clearUserEvents\") : t(\"clearAdminEvents\")}\n        fieldId={`clear-${type}-events`}\n        labelIcon={\n          <HelpItem\n            helpText={t(`realm-settings-help:${type}-clearEvents`)}\n            fieldLabelId={`realm-settings:clear-${type}-events`}\n          />\n        }\n      >\n        <Button\n          variant=\"danger\"\n          id={`clear-${type}-events`}\n          data-testid={`clear-${type}-events`}\n          onClick={() => clear()}\n        >\n          {type === \"user\" ? t(\"clearUserEvents\") : t(\"clearAdminEvents\")}\n        </Button>\n      </FormGroup>\n    </>\n  );\n};\n","import {\n  ActionGroup,\n  Button,\n  FormGroup,\n  Select,\n  SelectOption,\n  SelectVariant,\n} from \"@patternfly/react-core\";\nimport { useState } from \"react\";\nimport { Controller, UseFormReturn } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { HelpItem } from \"ui-shared\";\nimport { useServerInfo } from \"../../context/server-info/ServerInfoProvider\";\n\ntype EventListenersFormProps = {\n  form: UseFormReturn;\n  reset: () => void;\n};\n\nexport const EventListenersForm = ({\n  form,\n  reset,\n}: EventListenersFormProps) => {\n  const { t } = useTranslation(\"realm-settings\");\n  const {\n    control,\n    formState: { isDirty },\n  } = form;\n\n  const [selectEventListenerOpen, setSelectEventListenerOpen] = useState(false);\n  const serverInfo = useServerInfo();\n  const eventListeners = serverInfo.providers?.eventsListener.providers;\n\n  return (\n    <>\n      <FormGroup\n        hasNoPaddingTop\n        label={t(\"eventListeners\")}\n        fieldId={\"kc-eventListeners\"}\n        labelIcon={\n          <HelpItem\n            helpText={t(\"eventListenersHelpText\")}\n            fieldLabelId=\"realm-settings:eventListeners\"\n          />\n        }\n      >\n        <Controller\n          name=\"eventsListeners\"\n          defaultValue=\"\"\n          control={control}\n          render={({ field }) => (\n            <Select\n              name=\"eventsListeners\"\n              className=\"kc_eventListeners_select\"\n              data-testid=\"eventListeners-select\"\n              chipGroupProps={{\n                numChips: 3,\n                expandedText: t(\"common:hide\"),\n                collapsedText: t(\"common:showRemaining\"),\n              }}\n              variant={SelectVariant.typeaheadMulti}\n              typeAheadAriaLabel=\"Select\"\n              onToggle={(isOpen) => setSelectEventListenerOpen(isOpen)}\n              selections={field.value}\n              onSelect={(_, selectedValue) => {\n                const option = selectedValue.toString();\n                const changedValue = field.value.includes(option)\n                  ? field.value.filter((item: string) => item !== option)\n                  : [...field.value, option];\n                field.onChange(changedValue);\n              }}\n              onClear={(operation) => {\n                operation.stopPropagation();\n                field.onChange([]);\n              }}\n              isOpen={selectEventListenerOpen}\n              aria-labelledby={\"eventsListeners\"}\n            >\n              {Object.keys(eventListeners!).map((event) => (\n                <SelectOption key={event} value={event} />\n              ))}\n            </Select>\n          )}\n        />\n      </FormGroup>\n      <ActionGroup>\n        <Button\n          variant=\"primary\"\n          type=\"submit\"\n          data-testid={\"saveEventListenerBtn\"}\n          isDisabled={!isDirty}\n        >\n          {t(\"common:save\")}\n        </Button>\n        <Button\n          variant=\"link\"\n          data-testid={\"revertEventListenerBtn\"}\n          onClick={reset}\n        >\n          {t(\"common:revert\")}\n        </Button>\n      </ActionGroup>\n    </>\n  );\n};\n","import type { RealmEventsConfigRepresentation } from \"@keycloak/keycloak-admin-client/lib/defs/realmEventsConfigRepresentation\";\nimport type RealmRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/realmRepresentation\";\nimport {\n  AlertVariant,\n  ButtonVariant,\n  PageSection,\n  Tab,\n  Tabs,\n  TabTitleText,\n} from \"@patternfly/react-core\";\nimport { isEqual } from \"lodash-es\";\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { useAlerts } from \"../../components/alert/Alerts\";\nimport { useConfirmDialog } from \"../../components/confirm-dialog/ConfirmDialog\";\nimport { FormAccess } from \"../../components/form-access/FormAccess\";\nimport { useAdminClient, useFetch } from \"../../context/auth/AdminClient\";\nimport { useRealm } from \"../../context/realm-context/RealmContext\";\nimport { convertToFormValues } from \"../../util\";\nimport { AddEventTypesDialog } from \"./AddEventTypesDialog\";\nimport { EventConfigForm, EventsType } from \"./EventConfigForm\";\nimport { EventListenersForm } from \"./EventListenersForm\";\nimport { EventsTypeTable, EventType } from \"./EventsTypeTable\";\n\ntype EventsTabProps = {\n  realm: RealmRepresentation;\n};\n\ntype EventsConfigForm = RealmEventsConfigRepresentation & {\n  adminEventsExpiration?: number;\n};\n\nexport const EventsTab = ({ realm }: EventsTabProps) => {\n  const { t } = useTranslation(\"realm-settings\");\n  const form = useForm<EventsConfigForm>();\n  const { setValue, handleSubmit } = form;\n\n  const [key, setKey] = useState(0);\n  const refresh = () => setKey(new Date().getTime());\n  const [tableKey, setTableKey] = useState(0);\n  const reload = () => setTableKey(new Date().getTime());\n\n  const [activeTab, setActiveTab] = useState(\"event\");\n  const [events, setEvents] = useState<RealmEventsConfigRepresentation>();\n  const [type, setType] = useState<EventsType>();\n  const [addEventType, setAddEventType] = useState(false);\n\n  const { adminClient } = useAdminClient();\n  const { addAlert, addError } = useAlerts();\n  const { realm: realmName } = useRealm();\n\n  const setupForm = (eventConfig?: EventsConfigForm) => {\n    setEvents(eventConfig);\n    convertToFormValues(eventConfig || {}, setValue);\n  };\n\n  const clear = async (type: EventsType) => {\n    setType(type);\n    toggleDeleteDialog();\n  };\n\n  const [toggleDeleteDialog, DeleteConfirm] = useConfirmDialog({\n    titleKey: \"realm-settings:deleteEvents\",\n    messageKey: \"realm-settings:deleteEventsConfirm\",\n    continueButtonLabel: \"common:clear\",\n    continueButtonVariant: ButtonVariant.danger,\n    onConfirm: async () => {\n      try {\n        switch (type) {\n          case \"admin\":\n            await adminClient.realms.clearAdminEvents({ realm: realmName });\n            break;\n          case \"user\":\n            await adminClient.realms.clearEvents({ realm: realmName });\n            break;\n        }\n        addAlert(t(`${type}-events-cleared`), AlertVariant.success);\n      } catch (error) {\n        addError(`realm-settings:${type}-events-cleared-error`, error);\n      }\n    },\n  });\n\n  useFetch(\n    () => adminClient.realms.getConfigEvents({ realm: realmName }),\n    (eventConfig) => {\n      setupForm({\n        ...eventConfig,\n        adminEventsExpiration: realm.attributes?.adminEventsExpiration,\n      });\n      reload();\n    },\n    [key]\n  );\n\n  const save = async (config: EventsConfigForm) => {\n    const updatedEventListener = !isEqual(\n      events?.eventsListeners,\n      config.eventsListeners\n    );\n\n    const { adminEventsExpiration, ...eventConfig } = config;\n    if (realm.attributes?.adminEventsExpiration !== adminEventsExpiration) {\n      await adminClient.realms.update(\n        { realm: realmName },\n        {\n          ...realm,\n          attributes: { ...(realm.attributes || {}), adminEventsExpiration },\n        }\n      );\n    }\n\n    try {\n      await adminClient.realms.updateConfigEvents(\n        { realm: realmName },\n        eventConfig\n      );\n      setupForm({ ...events, ...eventConfig, adminEventsExpiration });\n      addAlert(\n        updatedEventListener\n          ? t(\"realm-settings:saveEventListenersSuccess\")\n          : t(\"realm-settings:eventConfigSuccessfully\"),\n        AlertVariant.success\n      );\n    } catch (error) {\n      addError(\n        updatedEventListener\n          ? t(\"realm-settings:saveEventListenersError\")\n          : t(\"realm-settings:eventConfigError\"),\n        error\n      );\n    }\n  };\n\n  const addEventTypes = async (eventTypes: EventType[]) => {\n    const eventsTypes = eventTypes.map((type) => type.id);\n    const enabledEvents = events!.enabledEventTypes?.concat(eventsTypes);\n    await addEvents(enabledEvents);\n  };\n\n  const addEvents = async (events: string[] = []) => {\n    const eventConfig = { ...form.getValues(), enabledEventTypes: events };\n    await save(eventConfig);\n    setAddEventType(false);\n    refresh();\n  };\n\n  return (\n    <>\n      <DeleteConfirm />\n      {addEventType && (\n        <AddEventTypesDialog\n          onConfirm={(eventTypes) => addEventTypes(eventTypes)}\n          configured={events?.enabledEventTypes || []}\n          onClose={() => setAddEventType(false)}\n        />\n      )}\n      <Tabs\n        activeKey={activeTab}\n        onSelect={(_, key) => setActiveTab(key as string)}\n      >\n        <Tab\n          eventKey=\"event\"\n          title={<TabTitleText>{t(\"eventListeners\")}</TabTitleText>}\n          data-testid=\"rs-event-listeners-tab\"\n        >\n          <PageSection>\n            <FormAccess\n              role=\"manage-events\"\n              isHorizontal\n              onSubmit={handleSubmit(save)}\n            >\n              <EventListenersForm form={form} reset={() => setupForm(events)} />\n            </FormAccess>\n          </PageSection>\n        </Tab>\n        <Tab\n          eventKey=\"user\"\n          title={<TabTitleText>{t(\"userEventsSettings\")}</TabTitleText>}\n          data-testid=\"rs-events-tab\"\n        >\n          <PageSection>\n            <FormAccess\n              role=\"manage-events\"\n              isHorizontal\n              onSubmit={handleSubmit(save)}\n            >\n              <EventConfigForm\n                type=\"user\"\n                form={form}\n                reset={() => setupForm(events)}\n                clear={() => clear(\"user\")}\n              />\n            </FormAccess>\n          </PageSection>\n          {events?.eventsEnabled && (\n            <PageSection>\n              <EventsTypeTable\n                key={tableKey}\n                addTypes={() => setAddEventType(true)}\n                eventTypes={events.enabledEventTypes || []}\n                onDelete={(value) => {\n                  const enabledEventTypes = events.enabledEventTypes?.filter(\n                    (e) => e !== value.id\n                  );\n                  addEvents(enabledEventTypes);\n                  setEvents({ ...events, enabledEventTypes });\n                }}\n              />\n            </PageSection>\n          )}\n        </Tab>\n        <Tab\n          eventKey=\"admin\"\n          title={<TabTitleText>{t(\"adminEventsSettings\")}</TabTitleText>}\n          data-testid=\"rs-admin-events-tab\"\n        >\n          <PageSection>\n            <FormAccess\n              role=\"manage-events\"\n              isHorizontal\n              onSubmit={handleSubmit(save)}\n            >\n              <EventConfigForm\n                type=\"admin\"\n                form={form}\n                reset={() => setupForm(events)}\n                clear={() => clear(\"admin\")}\n              />\n            </FormAccess>\n          </PageSection>\n        </Tab>\n      </Tabs>\n    </>\n  );\n};\n","import type RealmRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/realmRepresentation\";\nimport {\n  ActionGroup,\n  Button,\n  ClipboardCopy,\n  FormGroup,\n  PageSection,\n  Select,\n  SelectOption,\n  SelectVariant,\n  Stack,\n  StackItem,\n  Switch,\n} from \"@patternfly/react-core\";\nimport { useEffect, useState } from \"react\";\nimport { Controller, FormProvider, useForm } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { FormattedLink } from \"../components/external-link/FormattedLink\";\nimport { FormAccess } from \"../components/form-access/FormAccess\";\nimport { HelpItem } from \"ui-shared\";\nimport { KeyValueInput } from \"../components/key-value-form/KeyValueInput\";\nimport { KeycloakTextInput } from \"../components/keycloak-text-input/KeycloakTextInput\";\nimport { useAdminClient } from \"../context/auth/AdminClient\";\nimport { useRealm } from \"../context/realm-context/RealmContext\";\nimport {\n  addTrailingSlash,\n  convertAttributeNameToForm,\n  convertToFormValues,\n} from \"../util\";\nimport useIsFeatureEnabled, { Feature } from \"../utils/useIsFeatureEnabled\";\n\ntype RealmSettingsGeneralTabProps = {\n  realm: RealmRepresentation;\n  save: (realm: RealmRepresentation) => void;\n};\n\nexport const RealmSettingsGeneralTab = ({\n  realm,\n  save,\n}: RealmSettingsGeneralTabProps) => {\n  const { t } = useTranslation(\"realm-settings\");\n  const { adminClient } = useAdminClient();\n  const { realm: realmName } = useRealm();\n  const form = useForm<RealmRepresentation>();\n  const {\n    register,\n    control,\n    handleSubmit,\n    setValue,\n    formState: { isDirty, errors },\n  } = form;\n  const isFeatureEnabled = useIsFeatureEnabled();\n  const [open, setOpen] = useState(false);\n\n  const requireSslTypes = [\"all\", \"external\", \"none\"];\n\n  const setupForm = () => {\n    convertToFormValues(realm, setValue);\n    if (realm.attributes?.[\"acr.loa.map\"]) {\n      const result = Object.entries(\n        JSON.parse(realm.attributes[\"acr.loa.map\"])\n      ).flatMap(([key, value]) => ({ key, value }));\n      result.concat({ key: \"\", value: \"\" });\n      setValue(\n        convertAttributeNameToForm(\"attributes.acr.loa.map\") as any,\n        result\n      );\n    }\n  };\n\n  useEffect(setupForm, []);\n\n  return (\n    <PageSection variant=\"light\">\n      <FormAccess\n        isHorizontal\n        role=\"manage-realm\"\n        className=\"pf-u-mt-lg\"\n        onSubmit={handleSubmit(save)}\n      >\n        <FormGroup\n          label={t(\"realmId\")}\n          fieldId=\"kc-realm-id\"\n          isRequired\n          validated={errors.realm ? \"error\" : \"default\"}\n          helperTextInvalid={errors.realm?.message}\n        >\n          <Controller\n            name=\"realm\"\n            control={control}\n            rules={{\n              required: { value: true, message: t(\"common:required\") },\n              pattern: {\n                value: /^[a-zA-Z0-9-_]+$/,\n                message: t(\"realm:invalidRealmName\"),\n              },\n            }}\n            defaultValue=\"\"\n            render={({ field }) => (\n              <ClipboardCopy data-testid=\"realmName\" onChange={field.onChange}>\n                {field.value}\n              </ClipboardCopy>\n            )}\n          />\n        </FormGroup>\n        <FormGroup label={t(\"displayName\")} fieldId=\"kc-display-name\">\n          <KeycloakTextInput\n            id=\"kc-display-name\"\n            {...register(\"displayName\")}\n          />\n        </FormGroup>\n        <FormGroup label={t(\"htmlDisplayName\")} fieldId=\"kc-html-display-name\">\n          <KeycloakTextInput\n            id=\"kc-html-display-name\"\n            {...register(\"displayNameHtml\")}\n          />\n        </FormGroup>\n        <FormGroup\n          label={t(\"frontendUrl\")}\n          fieldId=\"kc-frontend-url\"\n          labelIcon={\n            <HelpItem\n              helpText={t(\"realm-settings-help:frontendUrl\")}\n              fieldLabelId=\"realm-settings:frontendUrl\"\n            />\n          }\n        >\n          <KeycloakTextInput\n            type=\"url\"\n            id=\"kc-frontend-url\"\n            {...register(convertAttributeNameToForm(\"attributes.frontendUrl\"))}\n          />\n        </FormGroup>\n        <FormGroup\n          label={t(\"requireSsl\")}\n          fieldId=\"kc-require-ssl\"\n          labelIcon={\n            <HelpItem\n              helpText={t(\"realm-settings-help:requireSsl\")}\n              fieldLabelId=\"realm-settings:requireSsl\"\n            />\n          }\n        >\n          <Controller\n            name=\"sslRequired\"\n            defaultValue=\"none\"\n            control={control}\n            render={({ field }) => (\n              <Select\n                toggleId=\"kc-require-ssl\"\n                onToggle={() => setOpen(!open)}\n                onSelect={(_, value) => {\n                  field.onChange(value as string);\n                  setOpen(false);\n                }}\n                selections={field.value}\n                variant={SelectVariant.single}\n                aria-label={t(\"requireSsl\")}\n                isOpen={open}\n              >\n                {requireSslTypes.map((sslType) => (\n                  <SelectOption\n                    selected={sslType === field.value}\n                    key={sslType}\n                    value={sslType}\n                  >\n                    {t(`sslType.${sslType}`)}\n                  </SelectOption>\n                ))}\n              </Select>\n            )}\n          />\n        </FormGroup>\n        <FormGroup\n          label={t(\"clients:acrToLoAMapping\")}\n          fieldId=\"acrToLoAMapping\"\n          labelIcon={\n            <HelpItem\n              helpText={t(\"clients-help:acrToLoAMapping\")}\n              fieldLabelId=\"clients:acrToLoAMapping\"\n            />\n          }\n        >\n          <FormProvider {...form}>\n            <KeyValueInput\n              name={convertAttributeNameToForm(\"attributes.acr.loa.map\")}\n            />\n          </FormProvider>\n        </FormGroup>\n        <FormGroup\n          hasNoPaddingTop\n          label={t(\"userManagedAccess\")}\n          labelIcon={\n            <HelpItem\n              helpText={t(\"realm-settings-help:userManagedAccess\")}\n              fieldLabelId=\"realm-settings:userManagedAccess\"\n            />\n          }\n          fieldId=\"kc-user-managed-access\"\n        >\n          <Controller\n            name=\"userManagedAccessAllowed\"\n            control={control}\n            defaultValue={false}\n            render={({ field }) => (\n              <Switch\n                id=\"kc-user-managed-access\"\n                data-testid=\"user-managed-access-switch\"\n                label={t(\"common:on\")}\n                labelOff={t(\"common:off\")}\n                isChecked={field.value}\n                onChange={field.onChange}\n                aria-label={t(\"userManagedAccess\")}\n              />\n            )}\n          />\n        </FormGroup>\n        {isFeatureEnabled(Feature.DeclarativeUserProfile) && (\n          <FormGroup\n            hasNoPaddingTop\n            label={t(\"userProfileEnabled\")}\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:userProfileEnabled\")}\n                fieldLabelId=\"realm-settings:userProfileEnabled\"\n              />\n            }\n            fieldId=\"kc-user-profile-enabled\"\n          >\n            <Controller\n              name={\n                convertAttributeNameToForm(\n                  \"attributes.userProfileEnabled\"\n                ) as any\n              }\n              control={control}\n              defaultValue=\"false\"\n              render={({ field }) => (\n                <Switch\n                  id=\"kc-user-profile-enabled\"\n                  data-testid=\"user-profile-enabled-switch\"\n                  label={t(\"common:on\")}\n                  labelOff={t(\"common:off\")}\n                  isChecked={field.value === \"true\"}\n                  onChange={(value) => field.onChange(value.toString())}\n                  aria-label={t(\"userProfileEnabled\")}\n                />\n              )}\n            />\n          </FormGroup>\n        )}\n        <FormGroup\n          label={t(\"endpoints\")}\n          labelIcon={\n            <HelpItem\n              helpText={t(\"realm-settings-help:endpoints\")}\n              fieldLabelId=\"realm-settings:endpoints\"\n            />\n          }\n          fieldId=\"kc-endpoints\"\n        >\n          <Stack>\n            <StackItem>\n              <FormattedLink\n                href={`${addTrailingSlash(\n                  adminClient.baseUrl\n                )}realms/${realmName}/.well-known/openid-configuration`}\n                title={t(\"openIDEndpointConfiguration\")}\n              />\n            </StackItem>\n            <StackItem>\n              <FormattedLink\n                href={`${addTrailingSlash(\n                  adminClient.baseUrl\n                )}realms/${realmName}/protocol/saml/descriptor`}\n                title={t(\"samlIdentityProviderMetadata\")}\n              />\n            </StackItem>\n          </Stack>\n        </FormGroup>\n\n        <ActionGroup>\n          <Button\n            variant=\"primary\"\n            type=\"submit\"\n            data-testid=\"general-tab-save\"\n            isDisabled={!isDirty}\n          >\n            {t(\"common:save\")}\n          </Button>\n          <Button\n            data-testid=\"general-tab-revert\"\n            variant=\"link\"\n            onClick={setupForm}\n          >\n            {t(\"common:revert\")}\n          </Button>\n        </ActionGroup>\n      </FormAccess>\n    </PageSection>\n  );\n};\n","import { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  Button,\n  ButtonVariant,\n  PageSection,\n  Select,\n  SelectOption,\n  SelectVariant,\n} from \"@patternfly/react-core\";\nimport { cellWidth } from \"@patternfly/react-table\";\nimport { FilterIcon } from \"@patternfly/react-icons\";\n\nimport type { KeyMetadataRepresentation } from \"@keycloak/keycloak-admin-client/lib/defs/keyMetadataRepresentation\";\nimport type ComponentRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/componentRepresentation\";\nimport { ListEmptyState } from \"../../components/list-empty-state/ListEmptyState\";\nimport { KeycloakDataTable } from \"../../components/table-toolbar/KeycloakDataTable\";\nimport { useConfirmDialog } from \"../../components/confirm-dialog/ConfirmDialog\";\nimport { emptyFormatter } from \"../../util\";\nimport { useAdminClient, useFetch } from \"../../context/auth/AdminClient\";\nimport { toKeysTab } from \"../routes/KeysTab\";\nimport { KeycloakSpinner } from \"../../components/keycloak-spinner/KeycloakSpinner\";\nimport { useRealm } from \"../../context/realm-context/RealmContext\";\nimport useToggle from \"../../utils/useToggle\";\n\nimport \"../realm-settings-section.css\";\n\nconst FILTER_OPTIONS = [\"ACTIVE\", \"PASSIVE\", \"DISABLED\"] as const;\ntype FilterType = (typeof FILTER_OPTIONS)[number];\n\ntype KeyData = KeyMetadataRepresentation & {\n  provider?: string;\n};\n\ntype KeysListTabProps = {\n  realmComponents: ComponentRepresentation[];\n};\n\ntype SelectFilterProps = {\n  onFilter: (filter: FilterType) => void;\n};\n\nconst SelectFilter = ({ onFilter }: SelectFilterProps) => {\n  const { t } = useTranslation(\"realm-settings\");\n  const [filterType, setFilterType] = useState<FilterType>(FILTER_OPTIONS[0]);\n\n  const [filterDropdownOpen, toggleFilter] = useToggle();\n  return (\n    <Select\n      width={300}\n      data-testid=\"filter-type-select\"\n      isOpen={filterDropdownOpen}\n      className=\"kc-filter-type-select\"\n      variant={SelectVariant.single}\n      onToggle={toggleFilter}\n      toggleIcon={<FilterIcon />}\n      onSelect={(_, value) => {\n        const filter =\n          FILTER_OPTIONS.find((o) => o === value.toString()) ||\n          FILTER_OPTIONS[0];\n        setFilterType(filter);\n        onFilter(filter);\n        toggleFilter();\n      }}\n      selections={filterType}\n    >\n      {FILTER_OPTIONS.map((option) => (\n        <SelectOption\n          key={option}\n          data-testid={`${option}-option`}\n          value={option}\n        >\n          {t(`keysFilter.${option}`)}\n        </SelectOption>\n      ))}\n    </Select>\n  );\n};\n\nexport const KeysListTab = ({ realmComponents }: KeysListTabProps) => {\n  const { t } = useTranslation(\"realm-settings\");\n  const navigate = useNavigate();\n\n  const [publicKey, setPublicKey] = useState(\"\");\n  const [certificate, setCertificate] = useState(\"\");\n\n  const { adminClient } = useAdminClient();\n  const { realm } = useRealm();\n\n  const [keyData, setKeyData] = useState<KeyData[]>();\n  const [filteredKeyData, setFilteredKeyData] = useState<KeyData[]>();\n\n  useFetch(\n    async () => {\n      const keysMetaData = await adminClient.realms.getKeys({ realm });\n      return keysMetaData.keys?.map((key) => {\n        const provider = realmComponents.find(\n          (component: ComponentRepresentation) =>\n            component.id === key.providerId\n        );\n        return { ...key, provider: provider?.name } as KeyData;\n      })!;\n    },\n    setKeyData,\n    []\n  );\n\n  const [togglePublicKeyDialog, PublicKeyDialog] = useConfirmDialog({\n    titleKey: t(\"publicKeys\").slice(0, -1),\n    messageKey: publicKey,\n    continueButtonLabel: \"common:close\",\n    continueButtonVariant: ButtonVariant.primary,\n    onConfirm: () => Promise.resolve(),\n  });\n\n  const [toggleCertificateDialog, CertificateDialog] = useConfirmDialog({\n    titleKey: t(\"certificate\"),\n    messageKey: certificate,\n    continueButtonLabel: \"common:close\",\n    continueButtonVariant: ButtonVariant.primary,\n    onConfirm: () => Promise.resolve(),\n  });\n\n  if (!keyData) {\n    return <KeycloakSpinner />;\n  }\n\n  return (\n    <PageSection variant=\"light\" padding={{ default: \"noPadding\" }}>\n      <PublicKeyDialog />\n      <CertificateDialog />\n      <KeycloakDataTable\n        isNotCompact\n        className=\"kc-keys-list\"\n        loader={filteredKeyData || keyData}\n        ariaLabelKey=\"realm-settings:keysList\"\n        searchPlaceholderKey=\"realm-settings:searchKey\"\n        searchTypeComponent={\n          <SelectFilter\n            onFilter={(filterType) =>\n              setFilteredKeyData(\n                filterType !== FILTER_OPTIONS[0]\n                  ? keyData!.filter(({ status }) => status === filterType)\n                  : undefined\n              )\n            }\n          />\n        }\n        canSelectAll\n        columns={[\n          {\n            name: \"algorithm\",\n            displayKey: \"realm-settings:algorithm\",\n            cellFormatters: [emptyFormatter()],\n            transforms: [cellWidth(15)],\n          },\n          {\n            name: \"type\",\n            displayKey: \"type\",\n            cellFormatters: [emptyFormatter()],\n            transforms: [cellWidth(10)],\n          },\n          {\n            name: \"kid\",\n            displayKey: \"realm-settings:kid\",\n            cellFormatters: [emptyFormatter()],\n            transforms: [cellWidth(10)],\n          },\n          {\n            name: \"use\",\n            displayKey: \"realm-settings:use\",\n            cellFormatters: [emptyFormatter()],\n            transforms: [cellWidth(10)],\n          },\n          {\n            name: \"provider\",\n            displayKey: \"realm-settings:provider\",\n            cellRenderer: ({ provider }: KeyData) => provider || \"\",\n            cellFormatters: [emptyFormatter()],\n            transforms: [cellWidth(10)],\n          },\n          {\n            name: \"publicKeys\",\n            displayKey: \"realm-settings:publicKeys\",\n            cellRenderer: ({ type, publicKey, certificate }: KeyData) => {\n              if (type === \"EC\") {\n                return (\n                  <Button\n                    onClick={() => {\n                      togglePublicKeyDialog();\n                      setPublicKey(publicKey!);\n                    }}\n                    variant=\"secondary\"\n                    id=\"kc-public-key\"\n                  >\n                    {t(\"publicKeys\").slice(0, -1)}\n                  </Button>\n                );\n              } else if (type === \"RSA\") {\n                return (\n                  <div className=\"button-wrapper\">\n                    <Button\n                      onClick={() => {\n                        togglePublicKeyDialog();\n                        setPublicKey(publicKey!);\n                      }}\n                      variant=\"secondary\"\n                      id={publicKey}\n                    >\n                      {t(\"publicKeys\").slice(0, -1)}\n                    </Button>\n                    <Button\n                      onClick={() => {\n                        toggleCertificateDialog();\n                        setCertificate(certificate!);\n                      }}\n                      variant=\"secondary\"\n                      id={certificate}\n                      className=\"kc-certificate\"\n                    >\n                      {t(\"certificate\")}\n                    </Button>\n                  </div>\n                );\n              } else return \"\";\n            },\n            cellFormatters: [],\n            transforms: [cellWidth(20)],\n          },\n        ]}\n        isSearching={!!filteredKeyData}\n        emptyState={\n          <ListEmptyState\n            hasIcon\n            message={t(\"noKeys\")}\n            instructions={t(\"noKeysDescription\")}\n            primaryActionText={t(\"addProvider\")}\n            onPrimaryAction={() =>\n              navigate(toKeysTab({ realm, tab: \"providers\" }))\n            }\n          />\n        }\n      />\n    </PageSection>\n  );\n};\n","import { Modal, ModalVariant } from \"@patternfly/react-core\";\nimport { useTranslation } from \"react-i18next\";\nimport { KeyProviderForm } from \"./KeyProviderForm\";\nimport type { ProviderType } from \"../../routes/KeyProvider\";\n\ntype KeyProviderModalProps = {\n  providerType: ProviderType;\n  onClose: () => void;\n};\n\nexport const KeyProviderModal = ({\n  providerType,\n  onClose,\n}: KeyProviderModalProps) => {\n  const { t } = useTranslation(\"realm-settings\");\n  return (\n    <Modal\n      className=\"add-provider-modal\"\n      variant={ModalVariant.medium}\n      title={t(\"addProvider\")}\n      isOpen\n      onClose={onClose}\n    >\n      <KeyProviderForm providerType={providerType} onClose={onClose} />\n    </Modal>\n  );\n};\n","import {\n  DataList,\n  DataListCell,\n  DataListItem,\n  DataListItemCells,\n  DataListItemRow,\n  Modal,\n} from \"@patternfly/react-core\";\nimport { useTranslation } from \"react-i18next\";\nimport { useServerInfo } from \"../../../context/server-info/ServerInfoProvider\";\nimport { KEY_PROVIDER_TYPE } from \"../../../util\";\n\ntype KeyProvidersPickerProps = {\n  onConfirm: (provider: string) => void;\n  onClose: () => void;\n};\n\nexport const KeyProvidersPicker = ({\n  onConfirm,\n  onClose,\n}: KeyProvidersPickerProps) => {\n  const { t } = useTranslation(\"realm-settings\");\n  const serverInfo = useServerInfo();\n  const keyProviderComponentTypes =\n    serverInfo.componentTypes?.[KEY_PROVIDER_TYPE] ?? [];\n  return (\n    <Modal variant=\"medium\" title={t(\"addProvider\")} isOpen onClose={onClose}>\n      <DataList\n        onSelectDataListItem={(id) => {\n          onConfirm(id);\n        }}\n        aria-label={t(\"addPredefinedMappers\")}\n        isCompact\n      >\n        {keyProviderComponentTypes.map((provider) => (\n          <DataListItem\n            aria-label={provider.id}\n            key={provider.id}\n            id={provider.id}\n          >\n            <DataListItemRow>\n              <DataListItemCells\n                dataListCells={[\n                  <DataListCell\n                    key={`name-${provider.id}`}\n                    data-testid={`option-${provider.id}`}\n                  >\n                    {provider.id}\n                  </DataListCell>,\n                  <DataListCell width={2} key={`helpText-${provider.helpText}`}>\n                    {provider.helpText}\n                  </DataListCell>,\n                ]}\n              />\n            </DataListItemRow>\n          </DataListItem>\n        ))}\n      </DataList>\n    </Modal>\n  );\n};\n","import type ComponentRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/componentRepresentation\";\nimport type ComponentTypeRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/componentTypeRepresentation\";\nimport type { KeyMetadataRepresentation } from \"@keycloak/keycloak-admin-client/lib/defs/keyMetadataRepresentation\";\nimport {\n  AlertVariant,\n  Button,\n  ButtonVariant,\n  InputGroup,\n  PageSection,\n  TextInput,\n  Toolbar,\n  ToolbarGroup,\n  ToolbarItem,\n} from \"@patternfly/react-core\";\nimport { SearchIcon } from \"@patternfly/react-icons\";\nimport { KeyboardEvent, useMemo, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\n\nimport { DraggableTable } from \"../../authentication/components/DraggableTable\";\nimport { useAlerts } from \"../../components/alert/Alerts\";\nimport { useConfirmDialog } from \"../../components/confirm-dialog/ConfirmDialog\";\nimport { useAdminClient } from \"../../context/auth/AdminClient\";\nimport { useRealm } from \"../../context/realm-context/RealmContext\";\nimport { useServerInfo } from \"../../context/server-info/ServerInfoProvider\";\nimport { KEY_PROVIDER_TYPE } from \"../../util\";\nimport useToggle from \"../../utils/useToggle\";\nimport { ProviderType, toKeyProvider } from \"../routes/KeyProvider\";\nimport { KeyProviderModal } from \"./key-providers/KeyProviderModal\";\nimport { KeyProvidersPicker } from \"./key-providers/KeyProvidersPicker\";\n\nimport \"../realm-settings-section.css\";\n\ntype ComponentData = KeyMetadataRepresentation & {\n  id?: string;\n  providerDescription?: string;\n  name?: string;\n  toggleHidden?: boolean;\n  config?: any;\n  parentId?: string;\n};\n\ntype KeysProvidersTabProps = {\n  realmComponents: ComponentRepresentation[];\n  refresh: () => void;\n};\n\nexport const KeysProvidersTab = ({\n  realmComponents,\n  refresh,\n}: KeysProvidersTabProps) => {\n  const { t } = useTranslation(\"realm-settings\");\n  const { addAlert, addError } = useAlerts();\n  const { adminClient } = useAdminClient();\n  const { realm } = useRealm();\n\n  const [searchVal, setSearchVal] = useState(\"\");\n  const [filteredComponents, setFilteredComponents] = useState<ComponentData[]>(\n    []\n  );\n\n  const [isCreateModalOpen, handleModalToggle] = useToggle();\n  const serverInfo = useServerInfo();\n  const keyProviderComponentTypes =\n    serverInfo.componentTypes?.[KEY_PROVIDER_TYPE] ?? [];\n\n  const [providerOpen, toggleProviderOpen] = useToggle();\n  const [defaultUIDisplayName, setDefaultUIDisplayName] =\n    useState<ProviderType>();\n\n  const [selectedComponent, setSelectedComponent] =\n    useState<ComponentRepresentation>();\n\n  const components = useMemo(\n    () =>\n      realmComponents.map((component) => {\n        const provider = keyProviderComponentTypes.find(\n          (componentType: ComponentTypeRepresentation) =>\n            component.providerId === componentType.id\n        );\n\n        return {\n          ...component,\n          providerDescription: provider?.helpText,\n        };\n      }),\n    [realmComponents]\n  );\n\n  const [toggleDeleteDialog, DeleteConfirm] = useConfirmDialog({\n    titleKey: \"realm-settings:deleteProviderTitle\",\n    messageKey: t(\"deleteProviderConfirm\", {\n      provider: selectedComponent?.name,\n    }),\n    continueButtonLabel: \"common:delete\",\n    continueButtonVariant: ButtonVariant.danger,\n    onConfirm: async () => {\n      try {\n        await adminClient.components.del({\n          id: selectedComponent!.id!,\n          realm: realm,\n        });\n\n        refresh();\n\n        addAlert(t(\"deleteProviderSuccess\"), AlertVariant.success);\n      } catch (error) {\n        addError(\"realm-settings:deleteProviderError\", error);\n      }\n    },\n  });\n\n  const onSearch = () => {\n    if (searchVal !== \"\") {\n      setSearchVal(searchVal);\n      const filteredComponents = components.filter(\n        (component) =>\n          component.name?.includes(searchVal) ||\n          component.providerId?.includes(searchVal)\n      );\n      setFilteredComponents(filteredComponents);\n    } else {\n      setSearchVal(\"\");\n      setFilteredComponents(components);\n    }\n  };\n\n  const handleKeyDown = (e: KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === \"Enter\") {\n      onSearch();\n    }\n  };\n\n  const handleInputChange = (value: string) => {\n    setSearchVal(value);\n  };\n\n  return (\n    <>\n      {providerOpen && (\n        <KeyProvidersPicker\n          onClose={() => toggleProviderOpen()}\n          onConfirm={(provider) => {\n            handleModalToggle();\n            setDefaultUIDisplayName(provider as ProviderType);\n            toggleProviderOpen();\n          }}\n        />\n      )}\n      {isCreateModalOpen && defaultUIDisplayName && (\n        <KeyProviderModal\n          providerType={defaultUIDisplayName}\n          onClose={() => {\n            handleModalToggle();\n            refresh();\n          }}\n        />\n      )}\n      <DeleteConfirm />\n      <PageSection variant=\"light\" padding={{ default: \"noPadding\" }}>\n        <Toolbar>\n          <ToolbarGroup className=\"providers-toolbar\">\n            <ToolbarItem>\n              <InputGroup>\n                <TextInput\n                  name={\"inputGroupName\"}\n                  id={\"inputGroupName\"}\n                  data-testid=\"provider-search-input\"\n                  type=\"search\"\n                  aria-label={t(\"common:search\")}\n                  placeholder={t(\"common:search\")}\n                  onChange={handleInputChange}\n                  onKeyDown={handleKeyDown}\n                />\n                <Button\n                  variant={ButtonVariant.control}\n                  aria-label={t(\"common:search\")}\n                  onClick={onSearch}\n                >\n                  <SearchIcon />\n                </Button>\n              </InputGroup>\n            </ToolbarItem>\n            <ToolbarItem>\n              <Button\n                data-testid=\"addProviderDropdown\"\n                className=\"add-provider-dropdown\"\n                onClick={() => toggleProviderOpen()}\n              >\n                {t(\"addProvider\")}\n              </Button>\n            </ToolbarItem>\n          </ToolbarGroup>\n        </Toolbar>\n        <DraggableTable\n          variant=\"compact\"\n          className=\"kc-draggable-table\"\n          keyField=\"id\"\n          data={\n            filteredComponents.length === 0 ? components : filteredComponents\n          }\n          onDragFinish={async (_, itemOrder) => {\n            const updateAll = components.map((component: ComponentData) => {\n              const componentToSave = { ...component };\n              delete componentToSave.providerDescription;\n\n              return adminClient.components.update(\n                { id: component.id! },\n                {\n                  ...componentToSave,\n                  config: {\n                    priority: [\n                      (\n                        itemOrder.length -\n                        itemOrder.indexOf(component.id!) +\n                        100\n                      ).toString(),\n                    ],\n                  },\n                }\n              );\n            });\n\n            try {\n              await Promise.all(updateAll);\n              refresh();\n              addAlert(t(\"saveProviderListSuccess\"), AlertVariant.success);\n            } catch (error) {\n              addError(\"realm-settings:saveProviderError\", error);\n            }\n          }}\n          columns={[\n            {\n              name: \"name\",\n              displayKey: \"realm-settings:name\",\n              cellRenderer: (component) => (\n                <Link\n                  key={component.name}\n                  data-testid=\"provider-name-link\"\n                  to={toKeyProvider({\n                    realm,\n                    id: component.id!,\n                    providerType: component.providerId as ProviderType,\n                  })}\n                >\n                  {component.name}\n                </Link>\n              ),\n            },\n            {\n              name: \"providerId\",\n              displayKey: \"realm-settings:provider\",\n            },\n            {\n              name: \"providerDescription\",\n              displayKey: \"realm-settings:providerDescription\",\n            },\n          ]}\n          actions={[\n            {\n              title: t(\"common:delete\"),\n              onClick: (_key, _idx, component) => {\n                setSelectedComponent(component as ComponentRepresentation);\n                toggleDeleteDialog();\n              },\n            },\n          ]}\n        />\n      </PageSection>\n    </>\n  );\n};\n","import { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Tab, TabTitleText } from \"@patternfly/react-core\";\n\nimport type ComponentRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/componentRepresentation\";\nimport { useAdminClient, useFetch } from \"../../context/auth/AdminClient\";\nimport { useRealm } from \"../../context/realm-context/RealmContext\";\nimport { KEY_PROVIDER_TYPE } from \"../../util\";\nimport {\n  RoutableTabs,\n  useRoutableTab,\n} from \"../../components/routable-tabs/RoutableTabs\";\nimport { KeySubTab, toKeysTab } from \"../routes/KeysTab\";\nimport { KeycloakSpinner } from \"../../components/keycloak-spinner/KeycloakSpinner\";\nimport { KeysListTab } from \"./KeysListTab\";\nimport { KeysProvidersTab } from \"./KeysProvidersTab\";\n\nconst sortByPriority = (components: ComponentRepresentation[]) => {\n  const sortedComponents = [...components].sort((a, b) => {\n    const priorityA = Number(a.config?.priority);\n    const priorityB = Number(b.config?.priority);\n\n    return (\n      (!isNaN(priorityB) ? priorityB : 0) - (!isNaN(priorityA) ? priorityA : 0)\n    );\n  });\n\n  return sortedComponents;\n};\n\nexport const KeysTab = () => {\n  const { t } = useTranslation(\"realm-settings\");\n\n  const { adminClient } = useAdminClient();\n  const { realm: realmName } = useRealm();\n\n  const [realmComponents, setRealmComponents] =\n    useState<ComponentRepresentation[]>();\n  const [key, setKey] = useState(0);\n  const refresh = () => {\n    setKey(key + 1);\n  };\n\n  useFetch(\n    () =>\n      adminClient.components.find({\n        type: KEY_PROVIDER_TYPE,\n        realm: realmName,\n      }),\n    (components) => setRealmComponents(sortByPriority(components)),\n    [key]\n  );\n\n  const useTab = (tab: KeySubTab) =>\n    useRoutableTab(toKeysTab({ realm: realmName, tab }));\n\n  const listTab = useTab(\"list\");\n  const providersTab = useTab(\"providers\");\n\n  if (!realmComponents) {\n    return <KeycloakSpinner />;\n  }\n\n  return (\n    <RoutableTabs\n      mountOnEnter\n      unmountOnExit\n      defaultLocation={toKeysTab({ realm: realmName, tab: \"list\" })}\n    >\n      <Tab\n        id=\"keysList\"\n        data-testid=\"rs-keys-list-tab\"\n        aria-label=\"keys-list-subtab\"\n        title={<TabTitleText>{t(\"keysList\")}</TabTitleText>}\n        {...listTab}\n      >\n        <KeysListTab realmComponents={realmComponents} />\n      </Tab>\n      <Tab\n        id=\"providers\"\n        data-testid=\"rs-providers-tab\"\n        aria-label=\"rs-providers-tab\"\n        title={<TabTitleText>{t(\"providers\")}</TabTitleText>}\n        {...providersTab}\n      >\n        <KeysProvidersTab realmComponents={realmComponents} refresh={refresh} />\n      </Tab>\n    </RoutableTabs>\n  );\n};\n","// @ts-nocheck\nimport {\n  Button,\n  ButtonVariant,\n  Form,\n  FormGroup,\n  Modal,\n  ModalVariant,\n  ValidatedOptions,\n} from \"@patternfly/react-core\";\nimport { SubmitHandler, UseFormReturn } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\n\nimport type { KeyValueType } from \"../components/key-value-form/key-value-convert\";\nimport { KeycloakTextInput } from \"../components/keycloak-text-input/KeycloakTextInput\";\n\ntype AddMessageBundleModalProps = {\n  id?: string;\n  form: UseFormReturn<BundleForm>;\n  save: SubmitHandler<BundleForm>;\n  handleModalToggle: () => void;\n};\n\nexport type BundleForm = {\n  messageBundle: KeyValueType;\n};\n\nexport const AddMessageBundleModal = ({\n  handleModalToggle,\n  save,\n  form: {\n    register,\n    handleSubmit,\n    formState: { errors },\n  },\n}: AddMessageBundleModalProps) => {\n  const { t } = useTranslation(\"realm-settings\");\n\n  return (\n    <Modal\n      variant={ModalVariant.small}\n      title={t(\"addMessageBundle\")}\n      isOpen\n      onClose={handleModalToggle}\n      actions={[\n        <Button\n          data-testid=\"add-bundle-confirm-button\"\n          key=\"confirm\"\n          variant=\"primary\"\n          type=\"submit\"\n          form=\"bundle-form\"\n        >\n          {t(\"common:create\")}\n        </Button>,\n        <Button\n          id=\"modal-cancel\"\n          data-testid=\"cancel\"\n          key=\"cancel\"\n          variant={ButtonVariant.link}\n          onClick={() => {\n            handleModalToggle();\n          }}\n        >\n          {t(\"common:cancel\")}\n        </Button>,\n      ]}\n    >\n      <Form id=\"bundle-form\" isHorizontal onSubmit={handleSubmit(save)}>\n        <FormGroup\n          label={t(\"common:key\")}\n          name=\"key\"\n          fieldId=\"key-id\"\n          helperTextInvalid={t(\"common:required\")}\n          validated={\n            errors.key ? ValidatedOptions.error : ValidatedOptions.default\n          }\n          isRequired\n        >\n          <KeycloakTextInput\n            data-testid=\"key-input\"\n            autoFocus\n            id=\"key-id\"\n            validated={\n              errors.key ? ValidatedOptions.error : ValidatedOptions.default\n            }\n            {...register(\"key\", { required: true })}\n          />\n        </FormGroup>\n        <FormGroup\n          label={t(\"common:value\")}\n          name=\"add-value\"\n          fieldId=\"value-id\"\n          helperTextInvalid={t(\"common:required\")}\n          validated={\n            errors.value ? ValidatedOptions.error : ValidatedOptions.default\n          }\n          isRequired\n        >\n          <KeycloakTextInput\n            data-testid=\"value-input\"\n            id=\"value-id\"\n            validated={\n              errors.value ? ValidatedOptions.error : ValidatedOptions.default\n            }\n            {...register(\"value\", { required: true })}\n          />\n        </FormGroup>\n      </Form>\n    </Modal>\n  );\n};\n","import type RealmRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/realmRepresentation\";\nimport {\n  ActionGroup,\n  AlertVariant,\n  Button,\n  Divider,\n  FormGroup,\n  PageSection,\n  Select,\n  SelectGroup,\n  SelectOption,\n  SelectVariant,\n  Switch,\n  TextContent,\n  ToolbarItem,\n} from \"@patternfly/react-core\";\nimport { SearchIcon } from \"@patternfly/react-icons\";\nimport {\n  applyCellEdits,\n  cancelCellEdits,\n  EditableTextCell,\n  IEditableTextCell,\n  IRow,\n  IRowCell,\n  RowEditType,\n  RowErrors,\n  Table,\n  TableBody,\n  TableHeader,\n  TableVariant,\n  validateCellEdits,\n} from \"@patternfly/react-table\";\nimport { cloneDeep, isEqual, uniqWith } from \"lodash-es\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { Controller, useForm, useWatch } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { useAlerts } from \"../components/alert/Alerts\";\nimport { FormAccess } from \"../components/form-access/FormAccess\";\nimport { HelpItem } from \"ui-shared\";\nimport type { KeyValueType } from \"../components/key-value-form/key-value-convert\";\nimport { ListEmptyState } from \"../components/list-empty-state/ListEmptyState\";\nimport { FormPanel } from \"../components/scroll-form/FormPanel\";\nimport { PaginatingTableToolbar } from \"../components/table-toolbar/PaginatingTableToolbar\";\nimport { useAdminClient, useFetch } from \"../context/auth/AdminClient\";\nimport { useRealm } from \"../context/realm-context/RealmContext\";\nimport { useServerInfo } from \"../context/server-info/ServerInfoProvider\";\nimport { useWhoAmI } from \"../context/whoami/WhoAmI\";\nimport { DEFAULT_LOCALE } from \"../i18n\";\nimport { convertToFormValues } from \"../util\";\nimport { AddMessageBundleModal } from \"./AddMessageBundleModal\";\n\ntype LocalizationTabProps = {\n  save: (realm: RealmRepresentation) => void;\n  refresh: () => void;\n  realm: RealmRepresentation;\n};\n\nexport enum RowEditAction {\n  Save = \"save\",\n  Cancel = \"cancel\",\n  Edit = \"edit\",\n  Delete = \"delete\",\n}\n\nexport type BundleForm = {\n  messageBundle: KeyValueType;\n};\n\nconst localeToDisplayName = (locale: string) => {\n  try {\n    return new Intl.DisplayNames([locale], { type: \"language\" }).of(locale);\n  } catch (error) {\n    return locale;\n  }\n};\n\nexport const LocalizationTab = ({ save, realm }: LocalizationTabProps) => {\n  const { t } = useTranslation(\"realm-settings\");\n  const { adminClient } = useAdminClient();\n  const [addMessageBundleModalOpen, setAddMessageBundleModalOpen] =\n    useState(false);\n\n  const [supportedLocalesOpen, setSupportedLocalesOpen] = useState(false);\n  const [defaultLocaleOpen, setDefaultLocaleOpen] = useState(false);\n  const [filterDropdownOpen, setFilterDropdownOpen] = useState(false);\n  const [selectMenuLocale, setSelectMenuLocale] = useState(DEFAULT_LOCALE);\n\n  const { setValue, getValues, control, handleSubmit, formState } = useForm();\n  const [selectMenuValueSelected, setSelectMenuValueSelected] = useState(false);\n  const [messageBundles, setMessageBundles] = useState<[string, string][]>([]);\n  const [tableRows, setTableRows] = useState<IRow[]>([]);\n\n  const themeTypes = useServerInfo().themes!;\n  const allLocales = useMemo(() => {\n    const locales = Object.values(themeTypes).flatMap((theme) =>\n      theme.flatMap(({ locales }) => (locales ? locales : []))\n    );\n    return Array.from(new Set(locales));\n  }, [themeTypes]);\n  const bundleForm = useForm<BundleForm>({ mode: \"onChange\" });\n  const { addAlert, addError } = useAlerts();\n  const { realm: currentRealm } = useRealm();\n  const { whoAmI } = useWhoAmI();\n\n  const defaultSupportedLocales = realm.supportedLocales?.length\n    ? realm.supportedLocales\n    : [DEFAULT_LOCALE];\n\n  const setupForm = () => {\n    convertToFormValues(realm, setValue);\n    setValue(\"supportedLocales\", defaultSupportedLocales);\n  };\n\n  useEffect(setupForm, []);\n\n  const watchSupportedLocales: string[] = useWatch({\n    control,\n    name: \"supportedLocales\",\n    defaultValue: defaultSupportedLocales,\n  });\n  const internationalizationEnabled = useWatch({\n    control,\n    name: \"internationalizationEnabled\",\n    defaultValue: realm.internationalizationEnabled,\n  });\n\n  const [tableKey, setTableKey] = useState(0);\n  const [max, setMax] = useState(10);\n  const [first, setFirst] = useState(0);\n  const [filter, setFilter] = useState(\"\");\n\n  const refreshTable = () => {\n    setTableKey(tableKey + 1);\n  };\n\n  useFetch(\n    async () => {\n      let result = await adminClient.realms\n        .getRealmLocalizationTexts({\n          first,\n          max,\n          realm: realm.realm!,\n          selectedLocale:\n            selectMenuLocale ||\n            getValues(\"defaultLocale\") ||\n            whoAmI.getLocale(),\n        })\n        // prevents server error in dev mode due to snowpack\n        .catch(() => []);\n\n      const searchInBundles = (idx: number) => {\n        return Object.entries(result).filter((i) => i[idx].includes(filter));\n      };\n\n      if (filter) {\n        const filtered = uniqWith(\n          searchInBundles(0).concat(searchInBundles(1)),\n          isEqual\n        );\n\n        result = Object.fromEntries(filtered);\n      }\n\n      return { result };\n    },\n    ({ result }) => {\n      const bundles = Object.entries(result).slice(first, first + max + 1);\n      setMessageBundles(bundles);\n\n      const updatedRows = bundles.map<IRow>((messageBundle) => ({\n        rowEditBtnAriaLabel: () =>\n          t(\"rowEditBtnAriaLabel\", {\n            messageBundle: messageBundle[1],\n          }),\n        rowSaveBtnAriaLabel: () =>\n          t(\"rowSaveBtnAriaLabel\", {\n            messageBundle: messageBundle[1],\n          }),\n        rowCancelBtnAriaLabel: () =>\n          t(\"rowCancelBtnAriaLabel\", {\n            messageBundle: messageBundle[1],\n          }),\n        cells: [\n          {\n            title: (value, rowIndex, cellIndex, props) => (\n              <EditableTextCell\n                value={value!}\n                rowIndex={rowIndex!}\n                cellIndex={cellIndex!}\n                props={props}\n                isDisabled\n                handleTextInputChange={handleTextInputChange}\n                inputAriaLabel={messageBundle[0]}\n              />\n            ),\n            props: {\n              value: messageBundle[0],\n            },\n          },\n          {\n            title: (value, rowIndex, cellIndex, props) => (\n              <EditableTextCell\n                value={value!}\n                rowIndex={rowIndex!}\n                cellIndex={cellIndex!}\n                props={props}\n                handleTextInputChange={handleTextInputChange}\n                inputAriaLabel={messageBundle[1]}\n              />\n            ),\n            props: {\n              value: messageBundle[1],\n            },\n          },\n        ],\n      }));\n      setTableRows(updatedRows);\n\n      return bundles;\n    },\n    [tableKey, filter, first, max]\n  );\n\n  const handleTextInputChange = (\n    newValue: string,\n    evt: any,\n    rowIndex: number,\n    cellIndex: number\n  ) => {\n    setTableRows((prev) => {\n      const newRows = cloneDeep(prev);\n      const textCell = newRows[rowIndex]?.cells?.[\n        cellIndex\n      ] as IEditableTextCell;\n      textCell.props.editableValue = newValue;\n      return newRows;\n    });\n  };\n\n  const updateEditableRows = async (\n    type: RowEditType,\n    rowIndex?: number,\n    validationErrors?: RowErrors\n  ) => {\n    if (rowIndex === undefined) {\n      return;\n    }\n    const newRows = cloneDeep(tableRows);\n    let newRow: IRow;\n    const invalid =\n      !!validationErrors && Object.keys(validationErrors).length > 0;\n\n    if (invalid) {\n      newRow = validateCellEdits(newRows[rowIndex], type, validationErrors);\n    } else if (type === RowEditAction.Cancel) {\n      newRow = cancelCellEdits(newRows[rowIndex]);\n    } else {\n      newRow = applyCellEdits(newRows[rowIndex], type);\n    }\n    newRows[rowIndex] = newRow;\n\n    // Update the copy of the retrieved data set so we can save it when the user saves changes\n\n    if (!invalid && type === RowEditAction.Save) {\n      const key = (newRow.cells?.[0] as IRowCell).props.value;\n      const value = (newRow.cells?.[1] as IRowCell).props.value;\n\n      // We only have one editable value, otherwise we'd need to save each\n      try {\n        await adminClient.realms.addLocalization(\n          {\n            realm: realm.realm!,\n            selectedLocale:\n              selectMenuLocale || getValues(\"defaultLocale\") || DEFAULT_LOCALE,\n            key,\n          },\n          value\n        );\n        addAlert(t(\"updateMessageBundleSuccess\"), AlertVariant.success);\n      } catch (error) {\n        addAlert(t(\"updateMessageBundleError\"), AlertVariant.danger);\n      }\n    }\n    setTableRows(newRows);\n  };\n\n  const handleModalToggle = () => {\n    setAddMessageBundleModalOpen(!addMessageBundleModalOpen);\n  };\n\n  const options = [\n    <SelectGroup label={t(\"defaultLocale\")} key=\"group1\">\n      <SelectOption key={DEFAULT_LOCALE} value={DEFAULT_LOCALE}>\n        {localeToDisplayName(DEFAULT_LOCALE)}\n      </SelectOption>\n    </SelectGroup>,\n    <Divider key=\"divider\" />,\n    <SelectGroup label={t(\"supportedLocales\")} key=\"group2\">\n      {watchSupportedLocales.map((locale) => (\n        <SelectOption key={locale} value={locale}>\n          {localeToDisplayName(locale)}\n        </SelectOption>\n      ))}\n    </SelectGroup>,\n  ];\n\n  const addKeyValue = async (pair: KeyValueType): Promise<void> => {\n    try {\n      await adminClient.realms.addLocalization(\n        {\n          realm: currentRealm!,\n          selectedLocale:\n            selectMenuLocale || getValues(\"defaultLocale\") || DEFAULT_LOCALE,\n          key: pair.key,\n        },\n        pair.value\n      );\n\n      adminClient.setConfig({\n        realmName: currentRealm!,\n      });\n      refreshTable();\n      addAlert(t(\"addMessageBundleSuccess\"), AlertVariant.success);\n    } catch (error) {\n      addError(t(\"addMessageBundleError\"), error);\n    }\n  };\n\n  const deleteKey = async (key: string) => {\n    try {\n      await adminClient.realms.deleteRealmLocalizationTexts({\n        realm: currentRealm!,\n        selectedLocale: selectMenuLocale,\n        key,\n      });\n      refreshTable();\n      addAlert(t(\"deleteMessageBundleSuccess\"));\n    } catch (error) {\n      addError(\"realm-settings:deleteMessageBundleError\", error);\n    }\n  };\n\n  return (\n    <>\n      {addMessageBundleModalOpen && (\n        <AddMessageBundleModal\n          handleModalToggle={handleModalToggle}\n          save={(pair: any) => {\n            addKeyValue(pair);\n            handleModalToggle();\n          }}\n          form={bundleForm}\n        />\n      )}\n      <PageSection variant=\"light\">\n        <FormAccess\n          isHorizontal\n          role=\"manage-realm\"\n          className=\"pf-u-mt-lg\"\n          onSubmit={handleSubmit(save)}\n        >\n          <FormGroup\n            label={t(\"internationalization\")}\n            fieldId=\"kc-internationalization\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:internationalization\")}\n                fieldLabelId=\"realm-settings:internationalization\"\n              />\n            }\n          >\n            <Controller\n              name=\"internationalizationEnabled\"\n              control={control}\n              defaultValue={realm.internationalizationEnabled}\n              render={({ field }) => (\n                <Switch\n                  id=\"kc-l-internationalization\"\n                  label={t(\"common:enabled\")}\n                  labelOff={t(\"common:disabled\")}\n                  isChecked={field.value}\n                  data-testid={\n                    field.value\n                      ? \"internationalization-enabled\"\n                      : \"internationalization-disabled\"\n                  }\n                  onChange={field.onChange}\n                  aria-label={t(\"internationalization\")}\n                />\n              )}\n            />\n          </FormGroup>\n          {internationalizationEnabled && (\n            <>\n              <FormGroup\n                label={t(\"supportedLocales\")}\n                fieldId=\"kc-l-supported-locales\"\n              >\n                <Controller\n                  name=\"supportedLocales\"\n                  control={control}\n                  defaultValue={defaultSupportedLocales}\n                  render={({ field }) => (\n                    <Select\n                      toggleId=\"kc-l-supported-locales\"\n                      onToggle={(open) => {\n                        setSupportedLocalesOpen(open);\n                      }}\n                      onSelect={(_, v) => {\n                        const option = v as string;\n                        if (field.value.includes(option)) {\n                          field.onChange(\n                            field.value.filter(\n                              (item: string) => item !== option\n                            )\n                          );\n                        } else {\n                          field.onChange([...field.value, option]);\n                        }\n                      }}\n                      onClear={() => {\n                        field.onChange([]);\n                      }}\n                      selections={field.value}\n                      variant={SelectVariant.typeaheadMulti}\n                      aria-label={t(\"supportedLocales\")}\n                      isOpen={supportedLocalesOpen}\n                      placeholderText={t(\"selectLocales\")}\n                    >\n                      {allLocales.map((locale) => (\n                        <SelectOption\n                          selected={field.value.includes(locale)}\n                          key={locale}\n                          value={locale}\n                        >\n                          {localeToDisplayName(locale)}\n                        </SelectOption>\n                      ))}\n                    </Select>\n                  )}\n                />\n              </FormGroup>\n              <FormGroup\n                label={t(\"defaultLocale\")}\n                fieldId=\"kc-l-default-locale\"\n              >\n                <Controller\n                  name=\"defaultLocale\"\n                  control={control}\n                  defaultValue={DEFAULT_LOCALE}\n                  render={({ field }) => (\n                    <Select\n                      toggleId=\"kc-default-locale\"\n                      onToggle={() => setDefaultLocaleOpen(!defaultLocaleOpen)}\n                      onSelect={(_, value) => {\n                        field.onChange(value as string);\n                        setDefaultLocaleOpen(false);\n                      }}\n                      selections={\n                        field.value\n                          ? localeToDisplayName(field.value)\n                          : realm.defaultLocale !== \"\"\n                          ? localeToDisplayName(\n                              realm.defaultLocale || DEFAULT_LOCALE\n                            )\n                          : t(\"placeholderText\")\n                      }\n                      variant={SelectVariant.single}\n                      aria-label={t(\"defaultLocale\")}\n                      isOpen={defaultLocaleOpen}\n                      placeholderText={t(\"placeholderText\")}\n                      data-testid=\"select-default-locale\"\n                    >\n                      {watchSupportedLocales.map((locale, idx) => (\n                        <SelectOption\n                          key={`default-locale-${idx}`}\n                          value={locale}\n                        >\n                          {localeToDisplayName(locale)}\n                        </SelectOption>\n                      ))}\n                    </Select>\n                  )}\n                />\n              </FormGroup>\n            </>\n          )}\n          <ActionGroup>\n            <Button\n              variant=\"primary\"\n              isDisabled={!formState.isDirty}\n              type=\"submit\"\n              data-testid=\"localization-tab-save\"\n            >\n              {t(\"common:save\")}\n            </Button>\n            <Button variant=\"link\" onClick={setupForm}>\n              {t(\"common:revert\")}\n            </Button>\n          </ActionGroup>\n        </FormAccess>\n\n        <FormPanel className=\"kc-message-bundles\" title=\"Edit message bundles\">\n          <TextContent className=\"messageBundleDescription\">\n            {t(\"messageBundleDescription\")}\n          </TextContent>\n          <div className=\"tableBorder\">\n            <PaginatingTableToolbar\n              count={messageBundles.length}\n              first={first}\n              max={max}\n              onNextClick={setFirst}\n              onPreviousClick={setFirst}\n              onPerPageSelect={(first, max) => {\n                setFirst(first);\n                setMax(max);\n              }}\n              inputGroupName={\"common:search\"}\n              inputGroupOnEnter={(search) => {\n                setFilter(search);\n                setFirst(0);\n                setMax(10);\n              }}\n              inputGroupPlaceholder={t(\"searchForMessageBundle\")}\n              toolbarItem={\n                <Button\n                  data-testid=\"add-bundle-button\"\n                  onClick={() => setAddMessageBundleModalOpen(true)}\n                >\n                  {t(\"addMessageBundle\")}\n                </Button>\n              }\n              searchTypeComponent={\n                <ToolbarItem>\n                  <Select\n                    width={180}\n                    data-testid=\"filter-by-locale-select\"\n                    isOpen={filterDropdownOpen}\n                    className=\"kc-filter-by-locale-select\"\n                    variant={SelectVariant.single}\n                    isDisabled={!internationalizationEnabled}\n                    onToggle={(isExpanded) => setFilterDropdownOpen(isExpanded)}\n                    onSelect={(_, value) => {\n                      setSelectMenuLocale(value.toString());\n                      setSelectMenuValueSelected(true);\n                      refreshTable();\n                      setFilterDropdownOpen(false);\n                    }}\n                    selections={\n                      selectMenuValueSelected\n                        ? localeToDisplayName(selectMenuLocale)\n                        : realm.defaultLocale !== \"\"\n                        ? localeToDisplayName(DEFAULT_LOCALE)\n                        : t(\"placeholderText\")\n                    }\n                  >\n                    {options}\n                  </Select>\n                </ToolbarItem>\n              }\n            >\n              {messageBundles.length === 0 && !filter && (\n                <ListEmptyState\n                  hasIcon\n                  message={t(\"noMessageBundles\")}\n                  instructions={t(\"noMessageBundlesInstructions\")}\n                  onPrimaryAction={handleModalToggle}\n                />\n              )}\n              {messageBundles.length === 0 && filter && (\n                <ListEmptyState\n                  hasIcon\n                  icon={SearchIcon}\n                  isSearchVariant\n                  message={t(\"common:noSearchResults\")}\n                  instructions={t(\"common:noSearchResultsInstructions\")}\n                />\n              )}\n              {messageBundles.length !== 0 && (\n                <Table\n                  aria-label={t(\"editableRowsTable\")}\n                  data-testid=\"editable-rows-table\"\n                  variant={TableVariant.compact}\n                  cells={[t(\"common:key\"), t(\"common:value\")]}\n                  rows={tableRows}\n                  onRowEdit={(_, type, _b, rowIndex, validation) =>\n                    updateEditableRows(type, rowIndex, validation)\n                  }\n                  actions={[\n                    {\n                      title: t(\"common:delete\"),\n                      onClick: (_, row) =>\n                        deleteKey(\n                          (tableRows[row].cells?.[0] as IRowCell).props.value\n                        ),\n                    },\n                  ]}\n                >\n                  <TableHeader />\n                  <TableBody />\n                </Table>\n              )}\n            </PaginatingTableToolbar>\n          </div>\n        </FormPanel>\n      </PageSection>\n    </>\n  );\n};\n","import { useTranslation } from \"react-i18next\";\nimport { FormGroup, PageSection, Switch } from \"@patternfly/react-core\";\nimport { FormAccess } from \"../components/form-access/FormAccess\";\nimport { HelpItem } from \"ui-shared\";\nimport { FormPanel } from \"../components/scroll-form/FormPanel\";\nimport type RealmRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/realmRepresentation\";\nimport { useAdminClient } from \"../context/auth/AdminClient\";\nimport { useAlerts } from \"../components/alert/Alerts\";\nimport { useRealm } from \"../context/realm-context/RealmContext\";\n\ntype RealmSettingsLoginTabProps = {\n  realm: RealmRepresentation;\n  refresh: () => void;\n};\n\ntype SwitchType = { [K in keyof RealmRepresentation]: boolean };\n\nexport const RealmSettingsLoginTab = ({\n  realm,\n  refresh,\n}: RealmSettingsLoginTabProps) => {\n  const { t } = useTranslation(\"realm-settings\");\n\n  const { addAlert, addError } = useAlerts();\n  const { adminClient } = useAdminClient();\n  const { realm: realmName } = useRealm();\n\n  const updateSwitchValue = async (switches: SwitchType | SwitchType[]) => {\n    const name = Array.isArray(switches)\n      ? Object.keys(switches[0])[0]\n      : Object.keys(switches)[0];\n\n    try {\n      await adminClient.realms.update(\n        {\n          realm: realmName,\n        },\n        Array.isArray(switches)\n          ? switches.reduce((realm, s) => Object.assign(realm, s), realm)\n          : Object.assign(realm, switches)\n      );\n      addAlert(t(\"enableSwitchSuccess\", { switch: t(name) }));\n      refresh();\n    } catch (error) {\n      addError(t(\"enableSwitchError\"), error);\n    }\n  };\n\n  return (\n    <PageSection variant=\"light\">\n      <FormPanel\n        className=\"kc-login-screen\"\n        title={t(\"loginScreenCustomization\")}\n      >\n        <FormAccess isHorizontal role=\"manage-realm\">\n          <FormGroup\n            label={t(\"registrationAllowed\")}\n            fieldId=\"kc-user-reg\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"userRegistrationHelpText\")}\n                fieldLabelId=\"realm-settings:registrationAllowed\"\n              />\n            }\n            hasNoPaddingTop\n          >\n            <Switch\n              id=\"kc-user-reg-switch\"\n              data-testid=\"user-reg-switch\"\n              value={realm.registrationAllowed ? \"on\" : \"off\"}\n              label={t(\"common:on\")}\n              labelOff={t(\"common:off\")}\n              isChecked={realm.registrationAllowed}\n              onChange={(value) => {\n                updateSwitchValue({ registrationAllowed: value });\n              }}\n              aria-label={t(\"registrationAllowed\")}\n            />\n          </FormGroup>\n          <FormGroup\n            label={t(\"resetPasswordAllowed\")}\n            fieldId=\"kc-forgot-pw\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings:forgotPasswordHelpText\")}\n                fieldLabelId=\"realm-settings:resetPasswordAllowed\"\n              />\n            }\n            hasNoPaddingTop\n          >\n            <Switch\n              id=\"kc-forgot-pw-switch\"\n              data-testid=\"forgot-pw-switch\"\n              name=\"resetPasswordAllowed\"\n              value={realm.resetPasswordAllowed ? \"on\" : \"off\"}\n              label={t(\"common:on\")}\n              labelOff={t(\"common:off\")}\n              isChecked={realm.resetPasswordAllowed}\n              onChange={(value) => {\n                updateSwitchValue({ resetPasswordAllowed: value });\n              }}\n              aria-label={t(\"resetPasswordAllowed\")}\n            />\n          </FormGroup>\n          <FormGroup\n            label={t(\"rememberMe\")}\n            fieldId=\"kc-remember-me\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings:rememberMeHelpText\")}\n                fieldLabelId=\"realm-settings:rememberMe\"\n              />\n            }\n            hasNoPaddingTop\n          >\n            <Switch\n              id=\"kc-remember-me-switch\"\n              data-testid=\"remember-me-switch\"\n              value={realm.rememberMe ? \"on\" : \"off\"}\n              label={t(\"common:on\")}\n              labelOff={t(\"common:off\")}\n              isChecked={realm.rememberMe}\n              onChange={(value) => {\n                updateSwitchValue({ rememberMe: value });\n              }}\n              aria-label={t(\"rememberMe\")}\n            />\n          </FormGroup>\n        </FormAccess>\n      </FormPanel>\n      <FormPanel className=\"kc-email-settings\" title={t(\"emailSettings\")}>\n        <FormAccess isHorizontal role=\"manage-realm\">\n          <FormGroup\n            label={t(\"registrationEmailAsUsername\")}\n            fieldId=\"kc-email-as-username\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings:emailAsUsernameHelpText\")}\n                fieldLabelId=\"realm-settings:registrationEmailAsUsername\"\n              />\n            }\n            hasNoPaddingTop\n          >\n            <Switch\n              id=\"kc-email-as-username-switch\"\n              data-testid=\"email-as-username-switch\"\n              value={realm.registrationEmailAsUsername ? \"on\" : \"off\"}\n              label={t(\"common:on\")}\n              labelOff={t(\"common:off\")}\n              isChecked={realm.registrationEmailAsUsername}\n              onChange={(value) => {\n                updateSwitchValue([\n                  {\n                    registrationEmailAsUsername: value,\n                  },\n                  {\n                    duplicateEmailsAllowed: false,\n                  },\n                ]);\n              }}\n              aria-label={t(\"registrationEmailAsUsername\")}\n            />\n          </FormGroup>\n          <FormGroup\n            label={t(\"loginWithEmailAllowed\")}\n            fieldId=\"kc-login-with-email\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings:loginWithEmailHelpText\")}\n                fieldLabelId=\"realm-settings:loginWithEmailAllowed\"\n              />\n            }\n            hasNoPaddingTop\n          >\n            <Switch\n              id=\"kc-login-with-email-switch\"\n              data-testid=\"login-with-email-switch\"\n              value={realm.loginWithEmailAllowed ? \"on\" : \"off\"}\n              label={t(\"common:on\")}\n              labelOff={t(\"common:off\")}\n              isChecked={realm.loginWithEmailAllowed}\n              onChange={(value) => {\n                updateSwitchValue([\n                  {\n                    loginWithEmailAllowed: value,\n                  },\n                  { duplicateEmailsAllowed: false },\n                ]);\n              }}\n              aria-label={t(\"loginWithEmailAllowed\")}\n            />\n          </FormGroup>\n          <FormGroup\n            label={t(\"duplicateEmailsAllowed\")}\n            fieldId=\"kc-duplicate-emails\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings:duplicateEmailsHelpText\")}\n                fieldLabelId=\"realm-settings:duplicateEmailsAllowed\"\n              />\n            }\n            hasNoPaddingTop\n          >\n            <Switch\n              id=\"kc-duplicate-emails-switch\"\n              data-testid=\"duplicate-emails-switch\"\n              label={t(\"common:on\")}\n              labelOff={t(\"common:off\")}\n              isChecked={\n                realm.duplicateEmailsAllowed ||\n                (realm.loginWithEmailAllowed &&\n                  realm.registrationEmailAsUsername)\n              }\n              onChange={(value) => {\n                updateSwitchValue({\n                  duplicateEmailsAllowed: value,\n                });\n              }}\n              isDisabled={\n                realm.loginWithEmailAllowed || realm.registrationEmailAsUsername\n              }\n              aria-label={t(\"duplicateEmailsAllowed\")}\n            />\n          </FormGroup>\n          <FormGroup\n            label={t(\"verifyEmail\")}\n            fieldId=\"kc-verify-email\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings:verifyEmailHelpText\")}\n                fieldLabelId=\"realm-settings:verifyEmail\"\n              />\n            }\n            hasNoPaddingTop\n          >\n            <Switch\n              id=\"kc-verify-email-switch\"\n              data-testid=\"verify-email-switch\"\n              name=\"verifyEmail\"\n              value={realm.verifyEmail ? \"on\" : \"off\"}\n              label={t(\"common:on\")}\n              labelOff={t(\"common:off\")}\n              isChecked={realm.verifyEmail}\n              onChange={(value) => {\n                updateSwitchValue({ verifyEmail: value });\n              }}\n              aria-label={t(\"verifyEmail\")}\n            />\n          </FormGroup>\n        </FormAccess>\n      </FormPanel>\n      <FormPanel\n        className=\"kc-user-info-settings\"\n        title={t(\"userInfoSettings\")}\n      >\n        <FormAccess isHorizontal role=\"manage-realm\">\n          <FormGroup\n            label={t(\"editUsernameAllowed\")}\n            fieldId=\"kc-edit-username\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:editUsername\")}\n                fieldLabelId=\"realm-settings:editUsernameAllowed\"\n              />\n            }\n            hasNoPaddingTop\n          >\n            <Switch\n              id=\"kc-edit-username-switch\"\n              data-testid=\"edit-username-switch\"\n              value={realm.editUsernameAllowed ? \"on\" : \"off\"}\n              label={t(\"common:on\")}\n              labelOff={t(\"common:off\")}\n              isChecked={realm.editUsernameAllowed}\n              onChange={(value) => {\n                updateSwitchValue({ editUsernameAllowed: value });\n              }}\n              aria-label={t(\"editUsernameAllowed\")}\n            />\n          </FormGroup>\n        </FormAccess>\n      </FormPanel>\n    </PageSection>\n  );\n};\n","import {\n  Alert,\n  AlertVariant,\n  Button,\n  ButtonVariant,\n  Form,\n  FormGroup,\n  Modal,\n  ModalVariant,\n  Switch,\n  Text,\n  TextContent,\n} from \"@patternfly/react-core\";\nimport { saveAs } from \"file-saver\";\nimport { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useAlerts } from \"../components/alert/Alerts\";\nimport { useAdminClient } from \"../context/auth/AdminClient\";\nimport { useRealm } from \"../context/realm-context/RealmContext\";\nimport { prettyPrintJSON } from \"../util\";\n\nimport \"./partial-export.css\";\n\nexport type PartialExportDialogProps = {\n  isOpen: boolean;\n  onClose: () => void;\n};\n\nexport const PartialExportDialog = ({\n  isOpen,\n  onClose,\n}: PartialExportDialogProps) => {\n  const { t } = useTranslation(\"realm-settings\");\n  const { realm } = useRealm();\n  const { adminClient } = useAdminClient();\n  const { addAlert, addError } = useAlerts();\n\n  const [exportGroupsAndRoles, setExportGroupsAndRoles] = useState(false);\n  const [exportClients, setExportClients] = useState(false);\n  const [isExporting, setIsExporting] = useState(false);\n\n  const showWarning = exportGroupsAndRoles || exportClients;\n\n  async function exportRealm() {\n    setIsExporting(true);\n\n    try {\n      const realmExport = await adminClient.realms.export({\n        realm,\n        exportClients,\n        exportGroupsAndRoles,\n      });\n\n      saveAs(\n        new Blob([prettyPrintJSON(realmExport)], {\n          type: \"application/json\",\n        }),\n        \"realm-export.json\"\n      );\n\n      addAlert(t(\"exportSuccess\"), AlertVariant.success);\n      onClose();\n    } catch (error) {\n      addError(\"exportFail\", error);\n    }\n\n    setIsExporting(false);\n  }\n\n  return (\n    <Modal\n      variant={ModalVariant.small}\n      title={t(\"partialExport\")}\n      isOpen={isOpen}\n      onClose={onClose}\n      actions={[\n        <Button\n          key=\"export\"\n          data-testid=\"export-button\"\n          isDisabled={isExporting}\n          onClick={exportRealm}\n        >\n          {t(\"common:export\")}\n        </Button>,\n        <Button\n          key=\"cancel\"\n          data-testid=\"cancel-button\"\n          variant={ButtonVariant.link}\n          onClick={onClose}\n        >\n          {t(\"common:cancel\")}\n        </Button>,\n      ]}\n    >\n      <TextContent>\n        <Text>{t(\"partialExportHeaderText\")}</Text>\n      </TextContent>\n      <Form\n        isHorizontal\n        className=\"keycloak__realm-settings__partial-import_form\"\n      >\n        <FormGroup\n          label={t(\"includeGroupsAndRoles\")}\n          fieldId=\"include-groups-and-roles-check\"\n          hasNoPaddingTop\n        >\n          <Switch\n            id=\"include-groups-and-roles-check\"\n            data-testid=\"include-groups-and-roles-check\"\n            isChecked={exportGroupsAndRoles}\n            onChange={setExportGroupsAndRoles}\n            label={t(\"common:on\")}\n            labelOff={t(\"common:off\")}\n            aria-label={t(\"includeGroupsAndRoles\")}\n          />\n        </FormGroup>\n        <FormGroup\n          label={t(\"includeClients\")}\n          fieldId=\"include-clients-check\"\n          hasNoPaddingTop\n        >\n          <Switch\n            id=\"include-clients-check\"\n            data-testid=\"include-clients-check\"\n            onChange={setExportClients}\n            isChecked={exportClients}\n            label={t(\"common:on\")}\n            labelOff={t(\"common:off\")}\n            aria-label={t(\"includeClients\")}\n          />\n        </FormGroup>\n      </Form>\n\n      {showWarning && (\n        <Alert\n          data-testid=\"warning-message\"\n          variant=\"warning\"\n          title={t(\"exportWarningTitle\")}\n          isInline\n        >\n          {t(\"exportWarningDescription\")}\n        </Alert>\n      )}\n    </Modal>\n  );\n};\n","import {\n  useState,\n  useEffect,\n  FormEvent,\n  ChangeEvent,\n  MouseEvent as ReactMouseEvent,\n} from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  Alert,\n  Button,\n  ButtonVariant,\n  Checkbox,\n  DataList,\n  DataListCell,\n  DataListItem,\n  DataListItemCells,\n  DataListItemRow,\n  Divider,\n  Label,\n  Modal,\n  ModalVariant,\n  Select,\n  SelectOption,\n  SelectOptionObject,\n  Stack,\n  StackItem,\n  Text,\n  TextContent,\n} from \"@patternfly/react-core\";\n\nimport { useAlerts } from \"../components/alert/Alerts\";\nimport { JsonFileUpload } from \"../components/json-file-upload/JsonFileUpload\";\nimport { KeycloakDataTable } from \"../components/table-toolbar/KeycloakDataTable\";\n\nimport { useAdminClient } from \"../context/auth/AdminClient\";\nimport { useRealm } from \"../context/realm-context/RealmContext\";\n\nimport type RealmRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/realmRepresentation\";\nimport type {\n  PartialImportRealmRepresentation,\n  PartialImportResponse,\n  PartialImportResult,\n} from \"@keycloak/keycloak-admin-client/lib/defs/realmRepresentation\";\nimport type RoleRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/roleRepresentation\";\n\nexport type PartialImportProps = {\n  open: boolean;\n  toggleDialog: () => void;\n};\n\n// An imported JSON file can either be an array of realm objects\n// or a single realm object.\ntype ImportedMultiRealm = RealmRepresentation | RealmRepresentation[];\n\ntype NonRoleResource = \"users\" | \"clients\" | \"groups\" | \"identityProviders\";\ntype RoleResource = \"realmRoles\" | \"clientRoles\";\ntype Resource = NonRoleResource | RoleResource;\n\ntype CollisionOption = \"FAIL\" | \"SKIP\" | \"OVERWRITE\";\n\ntype ResourceChecked = { [k in Resource]: boolean };\n\nconst INITIAL_RESOURCES: Readonly<ResourceChecked> = {\n  users: false,\n  clients: false,\n  groups: false,\n  identityProviders: false,\n  realmRoles: false,\n  clientRoles: false,\n};\n\nexport const PartialImportDialog = (props: PartialImportProps) => {\n  const { t } = useTranslation(\"realm-settings\");\n  const { adminClient } = useAdminClient();\n  const { realm } = useRealm();\n\n  const [importedFile, setImportedFile] = useState<ImportedMultiRealm>();\n  const isFileSelected = !!importedFile;\n  const [isRealmSelectOpen, setIsRealmSelectOpen] = useState(false);\n  const [isCollisionSelectOpen, setIsCollisionSelectOpen] = useState(false);\n  const [importInProgress, setImportInProgress] = useState(false);\n  const [collisionOption, setCollisionOption] =\n    useState<CollisionOption>(\"FAIL\");\n  const [targetRealm, setTargetRealm] = useState<RealmRepresentation>({});\n  const [importResponse, setImportResponse] = useState<PartialImportResponse>();\n  const { addError } = useAlerts();\n\n  const [resourcesToImport, setResourcesToImport] = useState(INITIAL_RESOURCES);\n  const isAnyResourceChecked = Object.values(resourcesToImport).some(\n    (checked) => checked\n  );\n\n  const resetResourcesToImport = () => {\n    setResourcesToImport(INITIAL_RESOURCES);\n  };\n\n  const resetInputState = () => {\n    setImportedFile(undefined);\n    setTargetRealm({});\n    setCollisionOption(\"FAIL\");\n    resetResourcesToImport();\n  };\n\n  // when dialog opens or closes, clear state\n  useEffect(() => {\n    setImportInProgress(false);\n    setImportResponse(undefined);\n    resetInputState();\n  }, [props.open]);\n\n  const handleFileChange = (value: ImportedMultiRealm) => {\n    resetInputState();\n    setImportedFile(value);\n\n    if (!Array.isArray(value)) {\n      setTargetRealm(value);\n    } else if (value.length > 0) {\n      setTargetRealm(value[0]);\n    }\n  };\n\n  const handleRealmSelect = (realm: string | SelectOptionObject) => {\n    setTargetRealm(realm as RealmRepresentation);\n    setIsRealmSelectOpen(false);\n    resetResourcesToImport();\n  };\n\n  const handleResourceCheckBox = (\n    checked: boolean,\n    event: FormEvent<HTMLInputElement>\n  ) => {\n    const resource = event.currentTarget.name as Resource;\n\n    setResourcesToImport({\n      ...resourcesToImport,\n      [resource]: checked,\n    });\n  };\n\n  const realmSelectOptions = (realms: RealmRepresentation[]) =>\n    realms.map((realm) => (\n      <SelectOption\n        key={realm.id}\n        value={realm}\n        data-testid={realm.id + \"-select-option\"}\n      >\n        {realm.realm || realm.id}\n      </SelectOption>\n    ));\n\n  const handleCollisionSelect = (\n    event: ChangeEvent<Element> | ReactMouseEvent<Element, MouseEvent>,\n    option: string | SelectOptionObject\n  ) => {\n    setCollisionOption(option as CollisionOption);\n    setIsCollisionSelectOpen(false);\n  };\n\n  const collisionOptions = () => {\n    return [\n      <SelectOption key=\"fail\" value=\"FAIL\">\n        {t(\"FAIL\")}\n      </SelectOption>,\n      <SelectOption key=\"skip\" value=\"SKIP\">\n        {t(\"SKIP\")}\n      </SelectOption>,\n      <SelectOption key=\"overwrite\" value=\"OVERWRITE\">\n        {t(\"OVERWRITE\")}\n      </SelectOption>,\n    ];\n  };\n\n  const targetHasResources = () => {\n    return (\n      targetHasResource(\"users\") ||\n      targetHasResource(\"groups\") ||\n      targetHasResource(\"clients\") ||\n      targetHasResource(\"identityProviders\") ||\n      targetHasRealmRoles() ||\n      targetHasClientRoles()\n    );\n  };\n\n  const targetHasResource = (resource: NonRoleResource) => {\n    const value = targetRealm[resource];\n    return value !== undefined && value.length > 0;\n  };\n\n  const targetHasRealmRoles = () => {\n    const value = targetRealm.roles?.realm;\n    return value !== undefined && value.length > 0;\n  };\n\n  const targetHasClientRoles = () => {\n    const value = targetRealm.roles?.client;\n    return value !== undefined && Object.keys(value).length > 0;\n  };\n\n  const itemCount = (resource: Resource) => {\n    if (!isFileSelected) return 0;\n\n    if (resource === \"realmRoles\") {\n      return targetRealm.roles?.realm?.length ?? 0;\n    }\n\n    if (resource === \"clientRoles\") {\n      return targetHasClientRoles()\n        ? clientRolesCount(targetRealm.roles!.client!)\n        : 0;\n    }\n\n    return targetRealm[resource]?.length ?? 0;\n  };\n\n  const clientRolesCount = (\n    clientRoles: Record<string, RoleRepresentation[]>\n  ) =>\n    Object.values(clientRoles).reduce((total, role) => total + role.length, 0);\n\n  const resourceDataListItem = (\n    resource: Resource,\n    resourceDisplayName: string\n  ) => {\n    return (\n      <DataListItem aria-labelledby={`${resource}-list-item`}>\n        <DataListItemRow>\n          <DataListItemCells\n            dataListCells={[\n              <DataListCell key={resource}>\n                <Checkbox\n                  id={`${resource}-checkbox`}\n                  label={`${itemCount(resource)} ${resourceDisplayName}`}\n                  aria-labelledby={`${resource}-checkbox`}\n                  name={resource}\n                  isChecked={resourcesToImport[resource]}\n                  onChange={handleResourceCheckBox}\n                  data-testid={resource + \"-checkbox\"}\n                />\n              </DataListCell>,\n            ]}\n          />\n        </DataListItemRow>\n      </DataListItem>\n    );\n  };\n\n  const jsonForImport = () => {\n    const jsonToImport: PartialImportRealmRepresentation = {\n      ifResourceExists: collisionOption,\n      id: targetRealm.id,\n      realm: targetRealm.realm,\n    };\n\n    if (resourcesToImport[\"users\"]) jsonToImport.users = targetRealm.users;\n    if (resourcesToImport[\"groups\"]) jsonToImport.groups = targetRealm.groups;\n    if (resourcesToImport[\"identityProviders\"])\n      jsonToImport.identityProviders = targetRealm.identityProviders;\n    if (resourcesToImport[\"clients\"])\n      jsonToImport.clients = targetRealm.clients;\n    if (resourcesToImport[\"realmRoles\"] || resourcesToImport[\"clientRoles\"]) {\n      jsonToImport.roles = targetRealm.roles;\n      if (!resourcesToImport[\"realmRoles\"]) delete jsonToImport.roles?.realm;\n      if (!resourcesToImport[\"clientRoles\"]) delete jsonToImport.roles?.client;\n    }\n    return jsonToImport;\n  };\n\n  async function doImport() {\n    if (importInProgress) return;\n\n    setImportInProgress(true);\n\n    try {\n      const importResults = await adminClient.realms.partialImport({\n        realm,\n        rep: jsonForImport(),\n      });\n      setImportResponse(importResults);\n    } catch (error) {\n      addError(\"realm-settings:importFail\", error);\n    }\n\n    setImportInProgress(false);\n  }\n\n  const importModal = () => {\n    return (\n      <Modal\n        variant={ModalVariant.medium}\n        title={t(\"partialImport\")}\n        isOpen={props.open}\n        onClose={props.toggleDialog}\n        actions={[\n          <Button\n            id=\"modal-import\"\n            data-testid=\"import-button\"\n            key=\"import\"\n            isDisabled={!isAnyResourceChecked}\n            onClick={() => {\n              doImport();\n            }}\n          >\n            {t(\"import\")}\n          </Button>,\n          <Button\n            id=\"modal-cancel\"\n            data-testid=\"cancel-button\"\n            key=\"cancel\"\n            variant={ButtonVariant.link}\n            onClick={() => {\n              props.toggleDialog();\n            }}\n          >\n            {t(\"common:cancel\")}\n          </Button>,\n        ]}\n      >\n        <Stack hasGutter>\n          <StackItem>\n            <TextContent>\n              <Text>{t(\"partialImportHeaderText\")}</Text>\n            </TextContent>\n          </StackItem>\n          <StackItem>\n            <JsonFileUpload\n              id=\"partial-import-file\"\n              allowEditingUploadedText\n              onChange={handleFileChange}\n            />\n          </StackItem>\n\n          {isFileSelected && targetHasResources() && (\n            <>\n              <StackItem>\n                <Divider />\n              </StackItem>\n              {Array.isArray(importedFile) && importedFile.length > 1 && (\n                <StackItem>\n                  <Text>{t(\"selectRealm\")}:</Text>\n                  <Select\n                    toggleId=\"realm-selector\"\n                    isOpen={isRealmSelectOpen}\n                    onToggle={() => setIsRealmSelectOpen(!isRealmSelectOpen)}\n                    onSelect={(_, value) => handleRealmSelect(value)}\n                    placeholderText={targetRealm.realm || targetRealm.id}\n                  >\n                    {realmSelectOptions(importedFile)}\n                  </Select>\n                </StackItem>\n              )}\n              <StackItem>\n                <Text>{t(\"chooseResources\")}:</Text>\n                <DataList aria-label={t(\"resourcesToImport\")} isCompact>\n                  {targetHasResource(\"users\") &&\n                    resourceDataListItem(\"users\", t(\"common:users\"))}\n                  {targetHasResource(\"groups\") &&\n                    resourceDataListItem(\"groups\", t(\"common:groups\"))}\n                  {targetHasResource(\"clients\") &&\n                    resourceDataListItem(\"clients\", t(\"common:clients\"))}\n                  {targetHasResource(\"identityProviders\") &&\n                    resourceDataListItem(\n                      \"identityProviders\",\n                      t(\"common:identityProviders\")\n                    )}\n                  {targetHasRealmRoles() &&\n                    resourceDataListItem(\"realmRoles\", t(\"common:realmRoles\"))}\n                  {targetHasClientRoles() &&\n                    resourceDataListItem(\n                      \"clientRoles\",\n                      t(\"common:clientRoles\")\n                    )}\n                </DataList>\n              </StackItem>\n              <StackItem>\n                <Text>{t(\"selectIfResourceExists\")}:</Text>\n                <Select\n                  isOpen={isCollisionSelectOpen}\n                  direction=\"up\"\n                  onToggle={() => {\n                    setIsCollisionSelectOpen(!isCollisionSelectOpen);\n                  }}\n                  onSelect={handleCollisionSelect}\n                  placeholderText={t(collisionOption)}\n                >\n                  {collisionOptions()}\n                </Select>\n              </StackItem>\n            </>\n          )}\n        </Stack>\n      </Modal>\n    );\n  };\n\n  const importCompleteMessage = () => {\n    return `${t(\"importAdded\", {\n      count: importResponse?.added,\n    })}  ${t(\"importSkipped\", {\n      count: importResponse?.skipped,\n    })} ${t(\"importOverwritten\", {\n      count: importResponse?.overwritten,\n    })}`;\n  };\n\n  const loader = async (first = 0, max = 15) => {\n    if (!importResponse) {\n      return [];\n    }\n\n    const last = Math.min(first + max, importResponse.results.length);\n\n    return importResponse.results.slice(first, last);\n  };\n\n  const ActionLabel = (importRecord: PartialImportResult) => {\n    switch (importRecord.action) {\n      case \"ADDED\":\n        return (\n          <Label key={importRecord.id} color=\"green\">\n            {t(\"added\")}\n          </Label>\n        );\n      case \"SKIPPED\":\n        return (\n          <Label key={importRecord.id} color=\"orange\">\n            {t(\"skipped\")}\n          </Label>\n        );\n      case \"OVERWRITTEN\":\n        return (\n          <Label key={importRecord.id} color=\"purple\">\n            {t(\"overwritten\")}\n          </Label>\n        );\n      default:\n        return \"\";\n    }\n  };\n\n  const TypeRenderer = (importRecord: PartialImportResult) => {\n    const typeMap = new Map([\n      [\"CLIENT\", t(\"common:clients\")],\n      [\"REALM_ROLE\", t(\"common:realmRoles\")],\n      [\"USER\", t(\"common:users\")],\n      [\"CLIENT_ROLE\", t(\"common:clientRoles\")],\n      [\"IDP\", t(\"common:identityProviders\")],\n      [\"GROUP\", t(\"common:groups\")],\n    ]);\n\n    return <span>{typeMap.get(importRecord.resourceType)}</span>;\n  };\n\n  const importCompletedModal = () => {\n    return (\n      <Modal\n        variant={ModalVariant.medium}\n        title={t(\"partialImport\")}\n        isOpen={props.open}\n        onClose={props.toggleDialog}\n        actions={[\n          <Button\n            id=\"modal-close\"\n            data-testid=\"close-button\"\n            key=\"close\"\n            variant={ButtonVariant.primary}\n            onClick={() => {\n              props.toggleDialog();\n            }}\n          >\n            {t(\"common:close\")}\n          </Button>,\n        ]}\n      >\n        <Alert variant=\"success\" isInline title={importCompleteMessage()} />\n        <KeycloakDataTable\n          loader={loader}\n          isPaginated\n          ariaLabelKey=\"realm-settings:partialImport\"\n          columns={[\n            {\n              name: \"action\",\n              displayKey: \"common:action\",\n              cellRenderer: ActionLabel,\n            },\n            {\n              name: \"resourceType\",\n              displayKey: \"common:type\",\n              cellRenderer: TypeRenderer,\n            },\n            {\n              name: \"resourceName\",\n              displayKey: \"common:name\",\n            },\n            {\n              name: \"id\",\n              displayKey: \"common:id\",\n            },\n          ]}\n        />\n      </Modal>\n    );\n  };\n\n  if (!importResponse) {\n    return importModal();\n  }\n\n  return importCompletedModal();\n};\n","import type ClientPolicyRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/clientPolicyRepresentation\";\nimport { CodeEditor, Language } from \"@patternfly/react-code-editor\";\nimport {\n  AlertVariant,\n  Button,\n  ButtonVariant,\n  Divider,\n  Flex,\n  FlexItem,\n  PageSection,\n  Radio,\n  Switch,\n  Title,\n  ToolbarItem,\n} from \"@patternfly/react-core\";\nimport { useState } from \"react\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link, useNavigate } from \"react-router-dom\";\n\nimport { useAlerts } from \"../components/alert/Alerts\";\nimport { useConfirmDialog } from \"../components/confirm-dialog/ConfirmDialog\";\nimport { KeycloakSpinner } from \"../components/keycloak-spinner/KeycloakSpinner\";\nimport { ListEmptyState } from \"../components/list-empty-state/ListEmptyState\";\nimport {\n  Action,\n  KeycloakDataTable,\n} from \"../components/table-toolbar/KeycloakDataTable\";\nimport { useAdminClient, useFetch } from \"../context/auth/AdminClient\";\nimport { useRealm } from \"../context/realm-context/RealmContext\";\nimport { prettyPrintJSON } from \"../util\";\nimport { toAddClientPolicy } from \"./routes/AddClientPolicy\";\nimport { toClientPolicies } from \"./routes/ClientPolicies\";\nimport { toEditClientPolicy } from \"./routes/EditClientPolicy\";\n\nimport \"./realm-settings-section.css\";\n\nexport const PoliciesTab = () => {\n  const { t } = useTranslation(\"realm-settings\");\n  const { adminClient } = useAdminClient();\n  const { addAlert, addError } = useAlerts();\n  const { realm } = useRealm();\n  const navigate = useNavigate();\n  const [show, setShow] = useState(false);\n  const [policies, setPolicies] = useState<ClientPolicyRepresentation[]>();\n  const [selectedPolicy, setSelectedPolicy] =\n    useState<ClientPolicyRepresentation>();\n  const [key, setKey] = useState(0);\n  const [code, setCode] = useState<string>();\n  const [tablePolicies, setTablePolicies] =\n    useState<ClientPolicyRepresentation[]>();\n  const refresh = () => setKey(key + 1);\n\n  const form = useForm<Record<string, boolean>>({ mode: \"onChange\" });\n\n  useFetch(\n    () => adminClient.clientPolicies.listPolicies(),\n    (policies) => {\n      setPolicies(policies.policies),\n        setTablePolicies(policies.policies || []),\n        setCode(prettyPrintJSON(policies.policies));\n    },\n    [key]\n  );\n\n  const loader = async () => policies ?? [];\n\n  const saveStatus = async () => {\n    const switchValues = form.getValues();\n\n    const updatedPolicies = policies?.map<ClientPolicyRepresentation>(\n      (policy) => {\n        const enabled = switchValues[policy.name!];\n\n        return {\n          ...policy,\n          enabled,\n        };\n      }\n    );\n\n    try {\n      await adminClient.clientPolicies.updatePolicy({\n        policies: updatedPolicies,\n      });\n      navigate(toClientPolicies({ realm, tab: \"policies\" }));\n      addAlert(\n        t(\"realm-settings:updateClientPolicySuccess\"),\n        AlertVariant.success\n      );\n    } catch (error) {\n      addError(\"realm-settings:updateClientPolicyError\", error);\n    }\n  };\n\n  const ClientPolicyDetailLink = ({ name }: ClientPolicyRepresentation) => (\n    <Link to={toEditClientPolicy({ realm, policyName: name! })}>{name}</Link>\n  );\n\n  const SwitchRenderer = ({\n    clientPolicy,\n  }: {\n    clientPolicy: ClientPolicyRepresentation;\n  }) => {\n    const [toggleDisableDialog, DisableConfirm] = useConfirmDialog({\n      titleKey: \"realm-settings:disablePolicyConfirmTitle\",\n      messageKey: \"realm-settings:disablePolicyConfirm\",\n      continueButtonLabel: \"common:disable\",\n      onConfirm: () => {\n        form.setValue(clientPolicy.name!, false);\n        saveStatus();\n      },\n    });\n\n    return (\n      <>\n        <DisableConfirm />\n        <Controller\n          name={clientPolicy.name!}\n          data-testid={`${clientPolicy.name!}-switch`}\n          defaultValue={clientPolicy.enabled}\n          control={form.control}\n          render={({ field }) => (\n            <Switch\n              label={t(\"common:enabled\")}\n              labelOff={t(\"common:disabled\")}\n              isChecked={field.value}\n              onChange={(value) => {\n                if (!value) {\n                  toggleDisableDialog();\n                } else {\n                  field.onChange(value);\n                  saveStatus();\n                }\n              }}\n              aria-label={clientPolicy.name!}\n            />\n          )}\n        />\n      </>\n    );\n  };\n\n  const save = async () => {\n    if (!code) {\n      return;\n    }\n\n    try {\n      const obj: ClientPolicyRepresentation[] = JSON.parse(code);\n\n      try {\n        await adminClient.clientPolicies.updatePolicy({\n          policies: obj,\n        });\n        addAlert(\n          t(\"realm-settings:updateClientPoliciesSuccess\"),\n          AlertVariant.success\n        );\n        refresh();\n      } catch (error) {\n        addError(\"realm-settings:updateClientPoliciesError\", error);\n      }\n    } catch (error) {\n      console.warn(\"Invalid json, ignoring value using {}\");\n      addError(\"realm-settings:updateClientPoliciesError\", error);\n    }\n  };\n\n  const [toggleDeleteDialog, DeleteConfirm] = useConfirmDialog({\n    titleKey: t(\"deleteClientPolicyConfirmTitle\"),\n    messageKey: t(\"deleteClientPolicyConfirm\", {\n      policyName: selectedPolicy?.name,\n    }),\n    continueButtonLabel: t(\"delete\"),\n    continueButtonVariant: ButtonVariant.danger,\n    onConfirm: async () => {\n      const updatedPolicies = policies?.filter(\n        (policy) => policy.name !== selectedPolicy?.name\n      );\n\n      try {\n        await adminClient.clientPolicies.updatePolicy({\n          policies: updatedPolicies,\n        });\n        addAlert(t(\"deleteClientPolicySuccess\"), AlertVariant.success);\n        refresh();\n      } catch (error) {\n        addError(t(\"deleteClientPolicyError\"), error);\n      }\n    },\n  });\n\n  if (!policies) {\n    return <KeycloakSpinner />;\n  }\n  return (\n    <>\n      <DeleteConfirm />\n      <PageSection>\n        <Flex className=\"kc-policies-config-section\">\n          <FlexItem>\n            <Title headingLevel=\"h1\" size=\"md\">\n              {t(\"policiesConfigType\")}\n            </Title>\n          </FlexItem>\n          <FlexItem>\n            <Radio\n              isChecked={!show}\n              name=\"policiesView\"\n              onChange={() => setShow(false)}\n              label={t(\"policiesConfigTypes.formView\")}\n              id=\"formView-policiesView\"\n              data-testid=\"formView-policiesView\"\n              className=\"kc-form-radio-btn pf-u-mr-sm pf-u-ml-sm\"\n            />\n          </FlexItem>\n          <FlexItem>\n            <Radio\n              isChecked={show}\n              name=\"policiesView\"\n              onChange={() => setShow(true)}\n              label={t(\"policiesConfigTypes.jsonEditor\")}\n              id=\"jsonEditor-policiesView\"\n              data-testid=\"jsonEditor-policiesView\"\n              className=\"kc-editor-radio-btn\"\n            />\n          </FlexItem>\n        </Flex>\n      </PageSection>\n      <Divider />\n      {!show ? (\n        <KeycloakDataTable\n          key={policies.length}\n          emptyState={\n            <ListEmptyState\n              message={t(\"realm-settings:noClientPolicies\")}\n              instructions={t(\"realm-settings:noClientPoliciesInstructions\")}\n              primaryActionText={t(\"realm-settings:createClientPolicy\")}\n              onPrimaryAction={() => navigate(toAddClientPolicy({ realm }))}\n            />\n          }\n          ariaLabelKey=\"realm-settings:clientPolicies\"\n          searchPlaceholderKey=\"realm-settings:clientPolicySearch\"\n          loader={loader}\n          toolbarItem={\n            <ToolbarItem>\n              <Button\n                id=\"createPolicy\"\n                component={(props) => (\n                  <Link {...props} to={toAddClientPolicy({ realm })} />\n                )}\n                data-testid=\"createPolicy\"\n              >\n                {t(\"createClientPolicy\")}\n              </Button>\n            </ToolbarItem>\n          }\n          actions={[\n            {\n              title: t(\"common:delete\"),\n              onRowClick: (item) => {\n                toggleDeleteDialog();\n                setSelectedPolicy(item);\n              },\n            } as Action<ClientPolicyRepresentation>,\n          ]}\n          columns={[\n            {\n              name: \"name\",\n              cellRenderer: ClientPolicyDetailLink,\n            },\n            {\n              name: \"enabled\",\n              displayKey: \"realm-settings:status\",\n              cellRenderer: (clientPolicy) => (\n                <SwitchRenderer clientPolicy={clientPolicy} />\n              ),\n            },\n            {\n              name: \"description\",\n            },\n          ]}\n        />\n      ) : (\n        <>\n          <div className=\"pf-u-mt-md pf-u-ml-lg\">\n            <CodeEditor\n              isLineNumbersVisible\n              isLanguageLabelVisible\n              isReadOnly={false}\n              code={code}\n              language={Language.json}\n              height=\"30rem\"\n              onChange={setCode}\n            />\n          </div>\n          <div className=\"pf-u-mt-md\">\n            <Button\n              variant={ButtonVariant.primary}\n              className=\"pf-u-mr-md pf-u-ml-lg\"\n              data-testid=\"jsonEditor-policies-saveBtn\"\n              onClick={save}\n            >\n              {t(\"save\")}\n            </Button>\n            <Button\n              variant={ButtonVariant.link}\n              data-testid=\"jsonEditor-reloadBtn\"\n              onClick={() => {\n                setCode(prettyPrintJSON(tablePolicies));\n              }}\n            >\n              {t(\"reload\")}\n            </Button>\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n","import { useState } from \"react\";\nimport { omit } from \"lodash-es\";\nimport {\n  ActionGroup,\n  AlertVariant,\n  Button,\n  ButtonVariant,\n  FormGroup,\n  Label,\n  PageSection,\n  ToolbarItem,\n  Divider,\n  Flex,\n  FlexItem,\n  Radio,\n  Title,\n} from \"@patternfly/react-core\";\nimport { CodeEditor, Language } from \"@patternfly/react-code-editor\";\nimport {\n  Action,\n  KeycloakDataTable,\n} from \"../components/table-toolbar/KeycloakDataTable\";\nimport { ListEmptyState } from \"../components/list-empty-state/ListEmptyState\";\nimport { useTranslation } from \"react-i18next\";\nimport { useAdminClient, useFetch } from \"../context/auth/AdminClient\";\nimport { useConfirmDialog } from \"../components/confirm-dialog/ConfirmDialog\";\nimport { useRealm } from \"../context/realm-context/RealmContext\";\nimport { useAlerts } from \"../components/alert/Alerts\";\nimport { prettyPrintJSON } from \"../util\";\nimport { Link } from \"react-router-dom\";\nimport { toAddClientProfile } from \"./routes/AddClientProfile\";\nimport type ClientProfileRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/clientProfileRepresentation\";\nimport { toClientProfile } from \"./routes/ClientProfile\";\nimport { KeycloakSpinner } from \"../components/keycloak-spinner/KeycloakSpinner\";\n\nimport \"./realm-settings-section.css\";\n\ntype ClientProfile = ClientProfileRepresentation & {\n  global: boolean;\n};\n\nexport default function ProfilesTab() {\n  const { t } = useTranslation(\"realm-settings\");\n  const { adminClient } = useAdminClient();\n  const { realm } = useRealm();\n  const { addAlert, addError } = useAlerts();\n  const [tableProfiles, setTableProfiles] = useState<ClientProfile[]>();\n  const [globalProfiles, setGlobalProfiles] =\n    useState<ClientProfileRepresentation[]>();\n  const [selectedProfile, setSelectedProfile] = useState<ClientProfile>();\n  const [show, setShow] = useState(false);\n  const [code, setCode] = useState<string>();\n  const [key, setKey] = useState(0);\n\n  useFetch(\n    () =>\n      adminClient.clientPolicies.listProfiles({\n        includeGlobalProfiles: true,\n      }),\n    (allProfiles) => {\n      setGlobalProfiles(allProfiles.globalProfiles);\n\n      const globalProfiles = allProfiles.globalProfiles?.map(\n        (globalProfiles) => ({\n          ...globalProfiles,\n          global: true,\n        })\n      );\n\n      const profiles = allProfiles.profiles?.map((profiles) => ({\n        ...profiles,\n        global: false,\n      }));\n\n      const allClientProfiles = globalProfiles?.concat(profiles ?? []);\n      setTableProfiles(allClientProfiles || []);\n      setCode(JSON.stringify(allClientProfiles, null, 2));\n    },\n    [key]\n  );\n\n  const loader = async () => tableProfiles ?? [];\n\n  const normalizeProfile = (\n    profile: ClientProfile\n  ): ClientProfileRepresentation => omit(profile, \"global\");\n\n  const [toggleDeleteDialog, DeleteConfirm] = useConfirmDialog({\n    titleKey: t(\"deleteClientProfileConfirmTitle\"),\n    messageKey: t(\"deleteClientProfileConfirm\", {\n      profileName: selectedProfile?.name,\n    }),\n    continueButtonLabel: t(\"delete\"),\n    continueButtonVariant: ButtonVariant.danger,\n    onConfirm: async () => {\n      const updatedProfiles = tableProfiles\n        ?.filter(\n          (profile) => profile.name !== selectedProfile?.name && !profile.global\n        )\n        .map<ClientProfileRepresentation>((profile) =>\n          normalizeProfile(profile)\n        );\n\n      try {\n        await adminClient.clientPolicies.createProfiles({\n          profiles: updatedProfiles,\n          globalProfiles,\n        });\n        addAlert(t(\"deleteClientSuccess\"), AlertVariant.success);\n        setKey(key + 1);\n      } catch (error) {\n        addError(t(\"deleteClientError\"), error);\n      }\n    },\n  });\n\n  const cellFormatter = (row: ClientProfile) => (\n    <Link\n      to={toClientProfile({\n        realm,\n        profileName: row.name!,\n      })}\n      key={row.name}\n    >\n      {row.name} {row.global && <Label color=\"blue\">{t(\"global\")}</Label>}\n    </Link>\n  );\n\n  if (!tableProfiles) {\n    return <KeycloakSpinner />;\n  }\n\n  const save = async () => {\n    if (!code) {\n      return;\n    }\n\n    try {\n      const obj: ClientProfile[] = JSON.parse(code);\n      const changedProfiles = obj\n        .filter((profile) => !profile.global)\n        .map((profile) => normalizeProfile(profile));\n\n      const changedGlobalProfiles = obj\n        .filter((profile) => profile.global)\n        .map((profile) => normalizeProfile(profile));\n\n      try {\n        await adminClient.clientPolicies.createProfiles({\n          profiles: changedProfiles,\n          globalProfiles: changedGlobalProfiles,\n        });\n        addAlert(\n          t(\"realm-settings:updateClientProfilesSuccess\"),\n          AlertVariant.success\n        );\n        setKey(key + 1);\n      } catch (error) {\n        addError(\"realm-settings:updateClientProfilesError\", error);\n      }\n    } catch (error) {\n      console.warn(\"Invalid json, ignoring value using {}\");\n    }\n  };\n\n  return (\n    <>\n      <DeleteConfirm />\n      <PageSection>\n        <Flex className=\"kc-profiles-config-section\">\n          <FlexItem>\n            <Title headingLevel=\"h1\" size=\"md\">\n              {t(\"profilesConfigType\")}\n            </Title>\n          </FlexItem>\n          <FlexItem>\n            <Radio\n              isChecked={!show}\n              name=\"profilesView\"\n              onChange={() => setShow(false)}\n              label={t(\"profilesConfigTypes.formView\")}\n              id=\"formView-profilesView\"\n              className=\"kc-form-radio-btn pf-u-mr-sm pf-u-ml-sm\"\n              data-testid=\"formView-profilesView\"\n            />\n          </FlexItem>\n          <FlexItem>\n            <Radio\n              isChecked={show}\n              name=\"profilesView\"\n              onChange={() => setShow(true)}\n              label={t(\"profilesConfigTypes.jsonEditor\")}\n              id=\"jsonEditor-profilesView\"\n              className=\"kc-editor-radio-btn\"\n              data-testid=\"jsonEditor-profilesView\"\n            />\n          </FlexItem>\n        </Flex>\n      </PageSection>\n      <Divider />\n      {!show ? (\n        <KeycloakDataTable\n          key={tableProfiles.length}\n          ariaLabelKey=\"realm-settings:profiles\"\n          searchPlaceholderKey=\"realm-settings:clientProfileSearch\"\n          loader={loader}\n          toolbarItem={\n            <ToolbarItem>\n              <Button\n                id=\"createProfile\"\n                component={(props) => (\n                  <Link\n                    {...props}\n                    to={toAddClientProfile({ realm, tab: \"profiles\" })}\n                  />\n                )}\n                data-testid=\"createProfile\"\n              >\n                {t(\"createClientProfile\")}\n              </Button>\n            </ToolbarItem>\n          }\n          isRowDisabled={(value) => value.global}\n          actions={[\n            {\n              title: t(\"common:delete\"),\n              onRowClick: (profile) => {\n                setSelectedProfile(profile);\n                toggleDeleteDialog();\n              },\n            } as Action<ClientProfile>,\n          ]}\n          columns={[\n            {\n              name: \"name\",\n              displayKey: t(\"common:name\"),\n              cellRenderer: cellFormatter,\n            },\n            {\n              name: \"description\",\n              displayKey: t(\"clientProfileDescription\"),\n            },\n          ]}\n          emptyState={\n            <ListEmptyState\n              message={t(\"emptyClientProfiles\")}\n              instructions={t(\"emptyClientProfilesInstructions\")}\n            />\n          }\n        />\n      ) : (\n        <FormGroup fieldId={\"jsonEditor\"}>\n          <div className=\"pf-u-mt-md pf-u-ml-lg\">\n            <CodeEditor\n              isLineNumbersVisible\n              isLanguageLabelVisible\n              isReadOnly={false}\n              code={code}\n              language={Language.json}\n              height=\"30rem\"\n              onChange={(value) => {\n                setCode(value ?? \"\");\n              }}\n            />\n          </div>\n          <ActionGroup>\n            <div className=\"pf-u-mt-md\">\n              <Button\n                variant={ButtonVariant.primary}\n                className=\"pf-u-mr-md pf-u-ml-lg\"\n                onClick={save}\n                data-testid=\"jsonEditor-saveBtn\"\n              >\n                {t(\"save\")}\n              </Button>\n              <Button\n                variant={ButtonVariant.link}\n                onClick={() => {\n                  setCode(prettyPrintJSON(tableProfiles));\n                }}\n                data-testid=\"jsonEditor-reloadBtn\"\n              >\n                {t(\"reload\")}\n              </Button>\n            </div>\n          </ActionGroup>\n        </FormGroup>\n      )}\n    </>\n  );\n}\n","import { FormGroup } from \"@patternfly/react-core\";\nimport { useFormContext } from \"react-hook-form\";\nimport { Trans, useTranslation } from \"react-i18next\";\n\nimport { FormattedLink } from \"../../components/external-link/FormattedLink\";\nimport { HelpItem } from \"ui-shared\";\nimport { KeycloakTextInput } from \"../../components/keycloak-text-input/KeycloakTextInput\";\n\ntype HelpLinkTextInputProps = {\n  fieldName: string;\n  url: string;\n};\n\nexport const HelpLinkTextInput = ({\n  fieldName,\n  url,\n}: HelpLinkTextInputProps) => {\n  const { t } = useTranslation(\"realm-settings\");\n  const { register } = useFormContext();\n  const name = fieldName.substr(fieldName.indexOf(\".\") + 1);\n  return (\n    <FormGroup\n      label={t(name)}\n      fieldId={name}\n      labelIcon={\n        <HelpItem\n          helpText={\n            <Trans i18nKey={`realm-settings-help:${name}`}>\n              Default value prevents pages from being included\n              <FormattedLink href={url} title={t(\"common:learnMore\")} />\n            </Trans>\n          }\n          fieldLabelId={name}\n        />\n      }\n    >\n      <KeycloakTextInput id={name} {...register(fieldName)} />\n    </FormGroup>\n  );\n};\n","import { useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { FormProvider, useForm } from \"react-hook-form\";\nimport { ActionGroup, Button } from \"@patternfly/react-core\";\n\nimport type RealmRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/realmRepresentation\";\nimport { FormAccess } from \"../../components/form-access/FormAccess\";\nimport { HelpLinkTextInput } from \"./HelpLinkTextInput\";\nimport { convertToFormValues } from \"../../util\";\n\nimport \"./security-defences.css\";\n\ntype HeadersFormProps = {\n  realm: RealmRepresentation;\n  save: (realm: RealmRepresentation) => void;\n};\n\nexport const HeadersForm = ({ realm, save }: HeadersFormProps) => {\n  const { t } = useTranslation();\n  const form = useForm();\n  const {\n    setValue,\n    formState: { isDirty },\n    handleSubmit,\n  } = form;\n\n  const setupForm = () => convertToFormValues(realm, setValue);\n  useEffect(setupForm, []);\n\n  return (\n    <FormProvider {...form}>\n      <FormAccess\n        isHorizontal\n        role=\"manage-realm\"\n        className=\"keycloak__security-defences__form\"\n        onSubmit={handleSubmit(save)}\n      >\n        <HelpLinkTextInput\n          fieldName=\"browserSecurityHeaders.xFrameOptions\"\n          url=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options\"\n        />\n        <HelpLinkTextInput\n          fieldName=\"browserSecurityHeaders.contentSecurityPolicy\"\n          url=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy\"\n        />\n        <HelpLinkTextInput\n          fieldName=\"browserSecurityHeaders.contentSecurityPolicyReportOnly\"\n          url=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy-Report-Only\"\n        />\n        <HelpLinkTextInput\n          fieldName=\"browserSecurityHeaders.xContentTypeOptions\"\n          url=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Content-Type-Options\"\n        />\n        <HelpLinkTextInput\n          fieldName=\"browserSecurityHeaders.xRobotsTag\"\n          url=\"https://developers.google.com/search/docs/advanced/robots/robots_meta_tag\"\n        />\n        <HelpLinkTextInput\n          fieldName=\"browserSecurityHeaders.xXSSProtection\"\n          url=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-XSS-Protection\"\n        />\n        <HelpLinkTextInput\n          fieldName=\"browserSecurityHeaders.strictTransportSecurity\"\n          url=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security\"\n        />\n\n        <ActionGroup>\n          <Button\n            variant=\"primary\"\n            type=\"submit\"\n            data-testid=\"headers-form-tab-save\"\n            isDisabled={!isDirty}\n          >\n            {t(\"common:save\")}\n          </Button>\n          <Button variant=\"link\" onClick={setupForm}>\n            {t(\"common:revert\")}\n          </Button>\n        </ActionGroup>\n      </FormAccess>\n    </FormProvider>\n  );\n};\n","import { FormGroup, ValidatedOptions } from \"@patternfly/react-core\";\nimport { CSSProperties } from \"react\";\nimport { Controller, useFormContext } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { HelpItem } from \"ui-shared\";\nimport { TimeSelector } from \"../../components/time-selector/TimeSelector\";\n\nexport const Time = ({\n  name,\n  style,\n}: {\n  name: string;\n  style?: CSSProperties;\n}) => {\n  const { t } = useTranslation(\"realm-settings\");\n  const {\n    control,\n    formState: { errors },\n  } = useFormContext();\n  return (\n    <FormGroup\n      style={style}\n      label={t(name)}\n      fieldId={name}\n      labelIcon={\n        <HelpItem\n          helpText={t(`realm-settings-help:${name}`)}\n          fieldLabelId={`realm-settings:${name}`}\n        />\n      }\n      validated={\n        errors[name] ? ValidatedOptions.error : ValidatedOptions.default\n      }\n      helperTextInvalid={t(\"common:required\")}\n    >\n      <Controller\n        name={name}\n        defaultValue=\"\"\n        control={control}\n        rules={{ required: true }}\n        render={({ field }) => (\n          <TimeSelector\n            data-testid={name}\n            value={field.value}\n            onChange={field.onChange}\n            validated={\n              errors[name] ? ValidatedOptions.error : ValidatedOptions.default\n            }\n          />\n        )}\n      />\n    </FormGroup>\n  );\n};\n","import type RealmRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/realmRepresentation\";\nimport {\n  ActionGroup,\n  Button,\n  FormGroup,\n  NumberInput,\n  Switch,\n} from \"@patternfly/react-core\";\nimport { useEffect } from \"react\";\nimport { Controller, FormProvider, useForm, useWatch } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { FormAccess } from \"../../components/form-access/FormAccess\";\nimport { HelpItem } from \"ui-shared\";\nimport { convertToFormValues } from \"../../util\";\nimport { Time } from \"./Time\";\n\ntype BruteForceDetectionProps = {\n  realm: RealmRepresentation;\n  save: (realm: RealmRepresentation) => void;\n};\n\nexport const BruteForceDetection = ({\n  realm,\n  save,\n}: BruteForceDetectionProps) => {\n  const { t } = useTranslation(\"realm-settings\");\n  const form = useForm();\n  const {\n    setValue,\n    handleSubmit,\n    control,\n    formState: { isDirty },\n  } = form;\n\n  const enable = useWatch({\n    control,\n    name: \"bruteForceProtected\",\n  });\n\n  const permanentLockout = useWatch({\n    control,\n    name: \"permanentLockout\",\n  });\n\n  const setupForm = () => convertToFormValues(realm, setValue);\n  useEffect(setupForm, []);\n\n  return (\n    <FormProvider {...form}>\n      <FormAccess\n        role=\"manage-realm\"\n        isHorizontal\n        onSubmit={handleSubmit(save)}\n      >\n        <FormGroup\n          label={t(\"common:enabled\")}\n          fieldId=\"bruteForceProtected\"\n          hasNoPaddingTop\n        >\n          <Controller\n            name=\"bruteForceProtected\"\n            defaultValue={false}\n            control={control}\n            render={({ field }) => (\n              <Switch\n                id=\"bruteForceProtected\"\n                label={t(\"common:on\")}\n                labelOff={t(\"common:off\")}\n                isChecked={field.value}\n                onChange={field.onChange}\n              />\n            )}\n          />\n        </FormGroup>\n        {enable && (\n          <>\n            <FormGroup\n              label={t(\"failureFactor\")}\n              labelIcon={\n                <HelpItem\n                  helpText={t(\"realm-settings-help:failureFactor\")}\n                  fieldLabelId=\"realm-settings:failureFactor\"\n                />\n              }\n              fieldId=\"failureFactor\"\n            >\n              <Controller\n                name=\"failureFactor\"\n                defaultValue={0}\n                control={control}\n                rules={{ required: true }}\n                render={({ field }) => (\n                  <NumberInput\n                    type=\"text\"\n                    id=\"failureFactor\"\n                    value={field.value}\n                    onPlus={() => field.onChange(field.value + 1)}\n                    onMinus={() => field.onChange(field.value - 1)}\n                    onChange={(event) =>\n                      field.onChange(\n                        Number((event.target as HTMLInputElement).value)\n                      )\n                    }\n                  />\n                )}\n              />\n            </FormGroup>\n            <FormGroup\n              label={t(\"permanentLockout\")}\n              fieldId=\"permanentLockout\"\n              hasNoPaddingTop\n            >\n              <Controller\n                name=\"permanentLockout\"\n                defaultValue={false}\n                control={control}\n                render={({ field }) => (\n                  <Switch\n                    id=\"permanentLockout\"\n                    label={t(\"common:on\")}\n                    labelOff={t(\"common:off\")}\n                    isChecked={field.value}\n                    onChange={field.onChange}\n                    aria-label={t(\"permanentLockout\")}\n                  />\n                )}\n              />\n            </FormGroup>\n\n            {!permanentLockout && (\n              <>\n                <Time name=\"waitIncrementSeconds\" />\n                <Time name=\"maxFailureWaitSeconds\" />\n                <Time name=\"maxDeltaTimeSeconds\" />\n              </>\n            )}\n\n            <FormGroup\n              label={t(\"quickLoginCheckMilliSeconds\")}\n              labelIcon={\n                <HelpItem\n                  helpText={t(\n                    \"realm-settings-help:quickLoginCheckMilliSeconds\"\n                  )}\n                  fieldLabelId=\"realm-settings:quickLoginCheckMilliSeconds\"\n                />\n              }\n              fieldId=\"quickLoginCheckMilliSeconds\"\n            >\n              <Controller\n                name=\"quickLoginCheckMilliSeconds\"\n                defaultValue={0}\n                control={control}\n                render={({ field }) => (\n                  <NumberInput\n                    type=\"text\"\n                    id=\"quickLoginCheckMilliSeconds\"\n                    value={field.value}\n                    onPlus={() => field.onChange(field.value + 1)}\n                    onMinus={() => field.onChange(field.value - 1)}\n                    onChange={(event) =>\n                      field.onChange(\n                        Number((event.target as HTMLInputElement).value)\n                      )\n                    }\n                  />\n                )}\n              />\n            </FormGroup>\n\n            <Time name=\"minimumQuickLoginWaitSeconds\" />\n          </>\n        )}\n\n        <ActionGroup>\n          <Button\n            variant=\"primary\"\n            type=\"submit\"\n            data-testid=\"brute-force-tab-save\"\n            isDisabled={!isDirty}\n          >\n            {t(\"common:save\")}\n          </Button>\n          <Button variant=\"link\" onClick={setupForm}>\n            {t(\"common:revert\")}\n          </Button>\n        </ActionGroup>\n      </FormAccess>\n    </FormProvider>\n  );\n};\n","import { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { PageSection, Tab, Tabs, TabTitleText } from \"@patternfly/react-core\";\n\nimport type RealmRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/realmRepresentation\";\nimport { HeadersForm } from \"./HeadersForm\";\nimport { BruteForceDetection } from \"./BruteForceDetection\";\n\ntype SecurityDefensesProps = {\n  realm: RealmRepresentation;\n  save: (realm: RealmRepresentation) => void;\n};\n\nexport const SecurityDefenses = ({ realm, save }: SecurityDefensesProps) => {\n  const { t } = useTranslation(\"realm-settings\");\n  const [activeTab, setActiveTab] = useState(10);\n  return (\n    <Tabs\n      activeKey={activeTab}\n      onSelect={(_, key) => setActiveTab(key as number)}\n    >\n      <Tab\n        id=\"headers\"\n        eventKey={10}\n        title={<TabTitleText>{t(\"headers\")}</TabTitleText>}\n      >\n        <PageSection variant=\"light\">\n          <HeadersForm realm={realm} save={save} />\n        </PageSection>\n      </Tab>\n      <Tab\n        id=\"bruteForce\"\n        eventKey={20}\n        title={<TabTitleText>{t(\"bruteForceDetection\")}</TabTitleText>}\n      >\n        <PageSection variant=\"light\">\n          <BruteForceDetection realm={realm} save={save} />\n        </PageSection>\n      </Tab>\n    </Tabs>\n  );\n};\n","import type RealmRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/realmRepresentation\";\nimport {\n  ActionGroup,\n  Button,\n  FormGroup,\n  PageSection,\n  Switch,\n} from \"@patternfly/react-core\";\nimport { useEffect } from \"react\";\nimport { Controller, useForm, useWatch } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { FormAccess } from \"../components/form-access/FormAccess\";\nimport { HelpItem } from \"ui-shared\";\nimport { FormPanel } from \"../components/scroll-form/FormPanel\";\nimport { TimeSelector } from \"../components/time-selector/TimeSelector\";\nimport { convertToFormValues } from \"../util\";\n\nimport \"./realm-settings-section.css\";\n\ntype RealmSettingsSessionsTabProps = {\n  realm: RealmRepresentation;\n  save: (realm: RealmRepresentation) => void;\n};\n\nexport const RealmSettingsSessionsTab = ({\n  realm,\n  save,\n}: RealmSettingsSessionsTabProps) => {\n  const { t } = useTranslation(\"realm-settings\");\n\n  const { setValue, control, handleSubmit, formState } =\n    useForm<RealmRepresentation>();\n\n  const offlineSessionMaxEnabled = useWatch({\n    control,\n    name: \"offlineSessionMaxLifespanEnabled\",\n  });\n\n  const setupForm = () => {\n    convertToFormValues(realm, setValue);\n  };\n\n  useEffect(setupForm, []);\n\n  return (\n    <PageSection variant=\"light\">\n      <FormPanel\n        title={t(\"SSOSessionSettings\")}\n        className=\"kc-sso-session-template\"\n      >\n        <FormAccess\n          isHorizontal\n          role=\"manage-realm\"\n          onSubmit={handleSubmit(save)}\n        >\n          <FormGroup\n            label={t(\"SSOSessionIdle\")}\n            fieldId=\"SSOSessionIdle\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:ssoSessionIdle\")}\n                fieldLabelId=\"realm-settings:SSOSessionIdle\"\n              />\n            }\n          >\n            <Controller\n              name=\"ssoSessionIdleTimeout\"\n              defaultValue={realm.ssoSessionIdleTimeout}\n              control={control}\n              render={({ field }) => (\n                <TimeSelector\n                  className=\"kc-sso-session-idle\"\n                  data-testid=\"sso-session-idle-input\"\n                  value={field.value!}\n                  onChange={field.onChange}\n                  units={[\"minute\", \"hour\", \"day\"]}\n                />\n              )}\n            />\n          </FormGroup>\n\n          <FormGroup\n            label={t(\"SSOSessionMax\")}\n            fieldId=\"SSOSessionMax\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:ssoSessionMax\")}\n                fieldLabelId=\"realm-settings:SSOSessionMax\"\n              />\n            }\n          >\n            <Controller\n              name=\"ssoSessionMaxLifespan\"\n              control={control}\n              render={({ field }) => (\n                <TimeSelector\n                  className=\"kc-sso-session-max\"\n                  data-testid=\"sso-session-max-input\"\n                  value={field.value!}\n                  onChange={field.onChange}\n                  units={[\"minute\", \"hour\", \"day\"]}\n                />\n              )}\n            />\n          </FormGroup>\n\n          <FormGroup\n            label={t(\"SSOSessionIdleRememberMe\")}\n            fieldId=\"SSOSessionIdleRememberMe\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:ssoSessionIdleRememberMe\")}\n                fieldLabelId=\"realm-settings:SSOSessionIdleRememberMe\"\n              />\n            }\n          >\n            <Controller\n              name=\"ssoSessionIdleTimeoutRememberMe\"\n              control={control}\n              render={({ field }) => (\n                <TimeSelector\n                  className=\"kc-sso-session-idle-remember-me\"\n                  data-testid=\"sso-session-idle-remember-me-input\"\n                  value={field.value!}\n                  onChange={field.onChange}\n                  units={[\"minute\", \"hour\", \"day\"]}\n                />\n              )}\n            />\n          </FormGroup>\n\n          <FormGroup\n            label={t(\"SSOSessionMaxRememberMe\")}\n            fieldId=\"SSOSessionMaxRememberMe\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:ssoSessionMaxRememberMe\")}\n                fieldLabelId=\"realm-settings:SSOSessionMaxRememberMe\"\n              />\n            }\n          >\n            <Controller\n              name=\"ssoSessionMaxLifespanRememberMe\"\n              control={control}\n              render={({ field }) => (\n                <TimeSelector\n                  className=\"kc-sso-session-max-remember-me\"\n                  data-testid=\"sso-session-max-remember-me-input\"\n                  value={field.value!}\n                  onChange={field.onChange}\n                  units={[\"minute\", \"hour\", \"day\"]}\n                />\n              )}\n            />\n          </FormGroup>\n        </FormAccess>\n      </FormPanel>\n      <FormPanel\n        title={t(\"clientSessionSettings\")}\n        className=\"kc-client-session-template\"\n      >\n        <FormAccess\n          isHorizontal\n          role=\"manage-realm\"\n          className=\"pf-u-mt-lg\"\n          onSubmit={handleSubmit(save)}\n        >\n          <FormGroup\n            label={t(\"clientSessionIdle\")}\n            fieldId=\"clientSessionIdle\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:clientSessionIdle\")}\n                fieldLabelId=\"realm-settings:clientSessionIdle\"\n              />\n            }\n          >\n            <Controller\n              name=\"clientSessionIdleTimeout\"\n              control={control}\n              render={({ field }) => (\n                <TimeSelector\n                  className=\"kc-client-session-idle\"\n                  data-testid=\"client-session-idle-input\"\n                  value={field.value!}\n                  onChange={field.onChange}\n                  units={[\"minute\", \"hour\", \"day\"]}\n                />\n              )}\n            />\n          </FormGroup>\n\n          <FormGroup\n            label={t(\"clientSessionMax\")}\n            fieldId=\"clientSessionMax\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:clientSessionMax\")}\n                fieldLabelId=\"realm-settings:clientSessionMax\"\n              />\n            }\n          >\n            <Controller\n              name=\"clientSessionMaxLifespan\"\n              control={control}\n              render={({ field }) => (\n                <TimeSelector\n                  className=\"kc-client-session-max\"\n                  data-testid=\"client-session-max-input\"\n                  value={field.value!}\n                  onChange={field.onChange}\n                  units={[\"minute\", \"hour\", \"day\"]}\n                />\n              )}\n            />\n          </FormGroup>\n        </FormAccess>\n      </FormPanel>\n      <FormPanel\n        title={t(\"offlineSessionSettings\")}\n        className=\"kc-offline-session-template\"\n      >\n        <FormAccess\n          isHorizontal\n          role=\"manage-realm\"\n          className=\"pf-u-mt-lg\"\n          onSubmit={handleSubmit(save)}\n        >\n          <FormGroup\n            label={t(\"offlineSessionIdle\")}\n            fieldId=\"offlineSessionIdle\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:offlineSessionIdle\")}\n                fieldLabelId=\"realm-settings:offlineSessionIdle\"\n              />\n            }\n          >\n            <Controller\n              name=\"offlineSessionIdleTimeout\"\n              control={control}\n              render={({ field }) => (\n                <TimeSelector\n                  className=\"kc-offline-session-idle\"\n                  data-testid=\"offline-session-idle-input\"\n                  aria-label=\"offline-session-idle-input\"\n                  value={field.value!}\n                  onChange={field.onChange}\n                  units={[\"minute\", \"hour\", \"day\"]}\n                />\n              )}\n            />\n          </FormGroup>\n\n          <FormGroup\n            hasNoPaddingTop\n            label={t(\"offlineSessionMaxLimited\")}\n            fieldId=\"kc-offlineSessionMaxLimited\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:offlineSessionMaxLimited\")}\n                fieldLabelId=\"realm-settings:offlineSessionMaxLimited\"\n              />\n            }\n          >\n            <Controller\n              name=\"offlineSessionMaxLifespanEnabled\"\n              control={control}\n              defaultValue={false}\n              render={({ field }) => (\n                <Switch\n                  id=\"kc-offline-session-max\"\n                  data-testid=\"offline-session-max-switch\"\n                  aria-label={t(\"offlineSessionMaxLimited\")}\n                  label={t(\"common:enabled\")}\n                  labelOff={t(\"common:disabled\")}\n                  isChecked={field.value}\n                  onChange={field.onChange}\n                />\n              )}\n            />\n          </FormGroup>\n          {offlineSessionMaxEnabled && (\n            <FormGroup\n              label={t(\"offlineSessionMax\")}\n              fieldId=\"offlineSessionMax\"\n              id=\"offline-session-max-label\"\n              labelIcon={\n                <HelpItem\n                  helpText={t(\"realm-settings-help:offlineSessionMax\")}\n                  fieldLabelId=\"realm-settings:offlineSessionMax\"\n                />\n              }\n            >\n              <Controller\n                name=\"offlineSessionMaxLifespan\"\n                control={control}\n                render={({ field }) => (\n                  <TimeSelector\n                    className=\"kc-offline-session-max\"\n                    data-testid=\"offline-session-max-input\"\n                    value={field.value!}\n                    onChange={field.onChange}\n                    units={[\"minute\", \"hour\", \"day\"]}\n                  />\n                )}\n              />\n            </FormGroup>\n          )}\n        </FormAccess>\n      </FormPanel>\n      <FormPanel\n        className=\"kc-login-settings-template\"\n        title={t(\"loginSettings\")}\n      >\n        <FormAccess\n          isHorizontal\n          role=\"manage-realm\"\n          className=\"pf-u-mt-lg\"\n          onSubmit={handleSubmit(save)}\n        >\n          <FormGroup\n            label={t(\"loginTimeout\")}\n            id=\"kc-login-timeout-label\"\n            fieldId=\"offlineSessionIdle\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:loginTimeout\")}\n                fieldLabelId=\"realm-settings:loginTimeout\"\n              />\n            }\n          >\n            <Controller\n              name=\"accessCodeLifespanLogin\"\n              control={control}\n              render={({ field }) => (\n                <TimeSelector\n                  className=\"kc-login-timeout\"\n                  data-testid=\"login-timeout-input\"\n                  aria-label=\"login-timeout-input\"\n                  value={field.value!}\n                  onChange={field.onChange}\n                  units={[\"minute\", \"hour\", \"day\"]}\n                />\n              )}\n            />\n          </FormGroup>\n          <FormGroup\n            label={t(\"loginActionTimeout\")}\n            fieldId=\"loginActionTimeout\"\n            id=\"login-action-timeout-label\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:loginActionTimeout\")}\n                fieldLabelId=\"realm-settings:loginActionTimeout\"\n              />\n            }\n          >\n            <Controller\n              name=\"accessCodeLifespanUserAction\"\n              control={control}\n              render={({ field }) => (\n                <TimeSelector\n                  className=\"kc-login-action-timeout\"\n                  data-testid=\"login-action-timeout-input\"\n                  value={field.value!}\n                  onChange={field.onChange}\n                  units={[\"minute\", \"hour\", \"day\"]}\n                />\n              )}\n            />\n          </FormGroup>\n          <ActionGroup>\n            <Button\n              variant=\"primary\"\n              type=\"submit\"\n              data-testid=\"sessions-tab-save\"\n              isDisabled={!formState.isDirty}\n            >\n              {t(\"common:save\")}\n            </Button>\n            <Button variant=\"link\" onClick={setupForm}>\n              {t(\"common:revert\")}\n            </Button>\n          </ActionGroup>\n        </FormAccess>\n      </FormPanel>\n    </PageSection>\n  );\n};\n","import type RealmRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/realmRepresentation\";\nimport {\n  ActionGroup,\n  Button,\n  FormGroup,\n  PageSection,\n  Select,\n  SelectOption,\n  SelectVariant,\n} from \"@patternfly/react-core\";\nimport { useEffect, useState } from \"react\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { FormAccess } from \"../components/form-access/FormAccess\";\nimport { HelpItem } from \"ui-shared\";\nimport { useServerInfo } from \"../context/server-info/ServerInfoProvider\";\nimport { convertToFormValues } from \"../util\";\n\ntype RealmSettingsThemesTabProps = {\n  realm: RealmRepresentation;\n  save: (realm: RealmRepresentation) => void;\n};\n\nexport const RealmSettingsThemesTab = ({\n  realm,\n  save,\n}: RealmSettingsThemesTabProps) => {\n  const { t } = useTranslation(\"realm-settings\");\n\n  const [loginThemeOpen, setLoginThemeOpen] = useState(false);\n  const [accountThemeOpen, setAccountThemeOpen] = useState(false);\n  const [adminUIThemeOpen, setAdminUIThemeOpen] = useState(false);\n  const [emailThemeOpen, setEmailThemeOpen] = useState(false);\n\n  const { control, handleSubmit, setValue } = useForm<RealmRepresentation>();\n  const themeTypes = useServerInfo().themes!;\n\n  const setupForm = () => {\n    convertToFormValues(realm, setValue);\n  };\n  useEffect(setupForm, []);\n\n  return (\n    <PageSection variant=\"light\">\n      <FormAccess\n        isHorizontal\n        role=\"manage-realm\"\n        className=\"pf-u-mt-lg\"\n        onSubmit={handleSubmit(save)}\n      >\n        <FormGroup\n          label={t(\"loginTheme\")}\n          fieldId=\"kc-login-theme\"\n          labelIcon={\n            <HelpItem\n              helpText={t(\"realm-settings-help:loginTheme\")}\n              fieldLabelId=\"realm-settings:loginTheme\"\n            />\n          }\n        >\n          <Controller\n            name=\"loginTheme\"\n            control={control}\n            defaultValue=\"\"\n            render={({ field }) => (\n              <Select\n                toggleId=\"kc-login-theme\"\n                onToggle={() => setLoginThemeOpen(!loginThemeOpen)}\n                onSelect={(_, value) => {\n                  field.onChange(value as string);\n                  setLoginThemeOpen(false);\n                }}\n                selections={field.value}\n                variant={SelectVariant.single}\n                aria-label={t(\"loginTheme\")}\n                isOpen={loginThemeOpen}\n                placeholderText=\"Select a theme\"\n                data-testid=\"select-login-theme\"\n              >\n                {themeTypes.login.map((theme, idx) => (\n                  <SelectOption\n                    selected={theme.name === field.value}\n                    key={`login-theme-${idx}`}\n                    value={theme.name}\n                  >\n                    {t(`${theme.name}`)}\n                  </SelectOption>\n                ))}\n              </Select>\n            )}\n          />\n        </FormGroup>\n        <FormGroup\n          label={t(\"accountTheme\")}\n          fieldId=\"kc-account-theme\"\n          labelIcon={\n            <HelpItem\n              helpText={t(\"realm-settings-help:accountTheme\")}\n              fieldLabelId=\"realm-settings:accountTheme\"\n            />\n          }\n        >\n          <Controller\n            name=\"accountTheme\"\n            control={control}\n            defaultValue=\"\"\n            render={({ field }) => (\n              <Select\n                toggleId=\"kc-account-theme\"\n                onToggle={() => setAccountThemeOpen(!accountThemeOpen)}\n                onSelect={(_, value) => {\n                  field.onChange(value as string);\n                  setAccountThemeOpen(false);\n                }}\n                selections={field.value}\n                variant={SelectVariant.single}\n                aria-label={t(\"accountTheme\")}\n                isOpen={accountThemeOpen}\n                placeholderText=\"Select a theme\"\n                data-testid=\"select-account-theme\"\n              >\n                {themeTypes.account.map((theme, idx) => (\n                  <SelectOption\n                    selected={theme.name === field.value}\n                    key={`account-theme-${idx}`}\n                    value={theme.name}\n                  >\n                    {t(`${theme.name}`)}\n                  </SelectOption>\n                ))}\n              </Select>\n            )}\n          />\n        </FormGroup>\n        <FormGroup\n          label={t(\"adminTheme\")}\n          fieldId=\"kc-admin-ui-theme\"\n          labelIcon={\n            <HelpItem\n              helpText={t(\"realm-settings-help:adminUITheme\")}\n              fieldLabelId=\"realm-settings:adminTheme\"\n            />\n          }\n        >\n          <Controller\n            name=\"adminTheme\"\n            control={control}\n            defaultValue=\"\"\n            render={({ field }) => (\n              <Select\n                toggleId=\"kc-admin-ui-theme\"\n                onToggle={() => setAdminUIThemeOpen(!adminUIThemeOpen)}\n                onSelect={(_, value) => {\n                  field.onChange(value as string);\n                  setAdminUIThemeOpen(false);\n                }}\n                selections={field.value}\n                variant={SelectVariant.single}\n                aria-label={t(\"adminUITheme\")}\n                isOpen={adminUIThemeOpen}\n                placeholderText=\"Select a theme\"\n                data-testid=\"select-admin-theme\"\n              >\n                {themeTypes.admin.map((theme, idx) => (\n                  <SelectOption\n                    selected={theme.name === field.value}\n                    key={`admin-theme-${idx}`}\n                    value={theme.name}\n                  >\n                    {t(`${theme.name}`)}\n                  </SelectOption>\n                ))}\n              </Select>\n            )}\n          />\n        </FormGroup>\n        <FormGroup\n          label={t(\"emailTheme\")}\n          fieldId=\"kc-email-theme\"\n          labelIcon={\n            <HelpItem\n              helpText={t(\"realm-settings-help:emailTheme\")}\n              fieldLabelId=\"realm-settings:emailTheme\"\n            />\n          }\n        >\n          <Controller\n            name=\"emailTheme\"\n            control={control}\n            defaultValue=\"\"\n            render={({ field }) => (\n              <Select\n                toggleId=\"kc-email-theme\"\n                onToggle={() => setEmailThemeOpen(!emailThemeOpen)}\n                onSelect={(_, value) => {\n                  field.onChange(value as string);\n                  setEmailThemeOpen(false);\n                }}\n                selections={field.value}\n                variant={SelectVariant.single}\n                aria-label={t(\"emailTheme\")}\n                isOpen={emailThemeOpen}\n                placeholderText=\"Select a theme\"\n                data-testid=\"select-email-theme\"\n              >\n                {themeTypes.email.map((theme, idx) => (\n                  <SelectOption\n                    selected={theme.name === field.value}\n                    key={`email-theme-${idx}`}\n                    value={theme.name}\n                  >\n                    {t(`${theme.name}`)}\n                  </SelectOption>\n                ))}\n              </Select>\n            )}\n          />\n        </FormGroup>\n        <ActionGroup>\n          <Button variant=\"primary\" type=\"submit\" data-testid=\"themes-tab-save\">\n            {t(\"common:save\")}\n          </Button>\n          <Button variant=\"link\" onClick={setupForm}>\n            {t(\"common:revert\")}\n          </Button>\n        </ActionGroup>\n      </FormAccess>\n    </PageSection>\n  );\n};\n","import type RealmRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/realmRepresentation\";\nimport {\n  ActionGroup,\n  Button,\n  FormGroup,\n  NumberInput,\n  PageSection,\n  Select,\n  SelectOption,\n  SelectVariant,\n  Switch,\n  Text,\n  TextVariants,\n} from \"@patternfly/react-core\";\nimport { useEffect, useState } from \"react\";\nimport { Controller, useForm, useWatch } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { FormAccess } from \"../components/form-access/FormAccess\";\nimport { HelpItem } from \"ui-shared\";\nimport { KeycloakTextInput } from \"../components/keycloak-text-input/KeycloakTextInput\";\nimport { FormPanel } from \"../components/scroll-form/FormPanel\";\nimport {\n  TimeSelector,\n  toHumanFormat,\n} from \"../components/time-selector/TimeSelector\";\nimport { useServerInfo } from \"../context/server-info/ServerInfoProvider\";\nimport { useWhoAmI } from \"../context/whoami/WhoAmI\";\nimport { convertToFormValues, sortProviders } from \"../util\";\n\nimport \"./realm-settings-section.css\";\n\ntype RealmSettingsSessionsTabProps = {\n  realm: RealmRepresentation;\n  save: (realm: RealmRepresentation) => void;\n  reset?: () => void;\n};\n\nexport const RealmSettingsTokensTab = ({\n  realm,\n  reset,\n  save,\n}: RealmSettingsSessionsTabProps) => {\n  const { t } = useTranslation(\"realm-settings\");\n  const serverInfo = useServerInfo();\n  const { whoAmI } = useWhoAmI();\n\n  const [defaultSigAlgDrpdwnIsOpen, setDefaultSigAlgDrpdwnOpen] =\n    useState(false);\n\n  const defaultSigAlgOptions = sortProviders(\n    serverInfo.providers![\"signature\"].providers\n  );\n\n  const form = useForm<RealmRepresentation>();\n  const { setValue, control } = form;\n\n  const offlineSessionMaxEnabled = useWatch({\n    control,\n    name: \"offlineSessionMaxLifespanEnabled\",\n    defaultValue: realm.offlineSessionMaxLifespanEnabled,\n  });\n\n  const ssoSessionIdleTimeout = useWatch({\n    control,\n    name: \"ssoSessionIdleTimeout\",\n    defaultValue: 36000,\n  });\n\n  const revokeRefreshToken = useWatch({\n    control,\n    name: \"revokeRefreshToken\",\n    defaultValue: false,\n  });\n\n  useEffect(() => {\n    convertToFormValues(realm, setValue);\n  }, []);\n\n  return (\n    <PageSection variant=\"light\">\n      <FormPanel\n        title={t(\"realm-settings:general\")}\n        className=\"kc-sso-session-template\"\n      >\n        <FormAccess\n          isHorizontal\n          role=\"manage-realm\"\n          onSubmit={form.handleSubmit(save)}\n        >\n          <FormGroup\n            label={t(\"defaultSigAlg\")}\n            fieldId=\"kc-default-signature-algorithm\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:defaultSigAlg\")}\n                fieldLabelId=\"realm-settings:algorithm\"\n              />\n            }\n          >\n            <Controller\n              name=\"defaultSignatureAlgorithm\"\n              defaultValue={\"RS256\"}\n              control={form.control}\n              render={({ field }) => (\n                <Select\n                  toggleId=\"kc-default-sig-alg\"\n                  onToggle={() =>\n                    setDefaultSigAlgDrpdwnOpen(!defaultSigAlgDrpdwnIsOpen)\n                  }\n                  onSelect={(_, value) => {\n                    field.onChange(value.toString());\n                    setDefaultSigAlgDrpdwnOpen(false);\n                  }}\n                  selections={[field.value?.toString()]}\n                  variant={SelectVariant.single}\n                  aria-label={t(\"defaultSigAlg\")}\n                  isOpen={defaultSigAlgDrpdwnIsOpen}\n                  data-testid=\"select-default-sig-alg\"\n                >\n                  {defaultSigAlgOptions!.map((p, idx) => (\n                    <SelectOption\n                      selected={p === field.value}\n                      key={`default-sig-alg-${idx}`}\n                      value={p}\n                    ></SelectOption>\n                  ))}\n                </Select>\n              )}\n            />\n          </FormGroup>\n\n          <FormGroup\n            label={t(\"oAuthDeviceCodeLifespan\")}\n            fieldId=\"oAuthDeviceCodeLifespan\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:oAuthDeviceCodeLifespan\")}\n                fieldLabelId=\"realm-settings:oAuthDeviceCodeLifespan\"\n              />\n            }\n          >\n            <Controller\n              name=\"oauth2DeviceCodeLifespan\"\n              defaultValue={0}\n              control={form.control}\n              render={({ field }) => (\n                <TimeSelector\n                  id=\"oAuthDeviceCodeLifespan\"\n                  data-testid=\"oAuthDeviceCodeLifespan\"\n                  value={field.value || 0}\n                  onChange={field.onChange}\n                  units={[\"minute\", \"hour\", \"day\"]}\n                />\n              )}\n            />\n          </FormGroup>\n          <FormGroup\n            label={t(\"oAuthDevicePollingInterval\")}\n            fieldId=\"oAuthDevicePollingInterval\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:oAuthDevicePollingInterval\")}\n                fieldLabelId=\"realm-settings:oAuthDevicePollingInterval\"\n              />\n            }\n          >\n            <Controller\n              name=\"oauth2DevicePollingInterval\"\n              defaultValue={0}\n              control={form.control}\n              render={({ field }) => (\n                <NumberInput\n                  id=\"oAuthDevicePollingInterval\"\n                  value={field.value}\n                  min={0}\n                  onPlus={() => field.onChange(field.value || 0 + 1)}\n                  onMinus={() => field.onChange(field.value || 0 - 1)}\n                  onChange={(event) => {\n                    const newValue = Number(event.currentTarget.value);\n                    field.onChange(!isNaN(newValue) ? newValue : 0);\n                  }}\n                  placeholder={t(\"oAuthDevicePollingInterval\")}\n                />\n              )}\n            />\n          </FormGroup>\n          <FormGroup\n            label={t(\"shortVerificationUri\")}\n            fieldId=\"shortVerificationUri\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:shortVerificationUriTooltip\")}\n                fieldLabelId=\"realm-settings:shortVerificationUri\"\n              />\n            }\n          >\n            <KeycloakTextInput\n              id=\"shortVerificationUri\"\n              placeholder={t(\"shortVerificationUri\")}\n              {...form.register(\"attributes.shortVerificationUri\")}\n            />\n          </FormGroup>\n        </FormAccess>\n      </FormPanel>\n      <FormPanel\n        title={t(\"realm-settings:refreshTokens\")}\n        className=\"kc-client-session-template\"\n      >\n        <FormAccess\n          isHorizontal\n          role=\"manage-realm\"\n          className=\"pf-u-mt-lg\"\n          onSubmit={form.handleSubmit(save)}\n        >\n          <FormGroup\n            hasNoPaddingTop\n            label={t(\"revokeRefreshToken\")}\n            fieldId=\"kc-revoke-refresh-token\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:revokeRefreshToken\")}\n                fieldLabelId=\"realm-settings:revokeRefreshToken\"\n              />\n            }\n          >\n            <Controller\n              name=\"revokeRefreshToken\"\n              control={form.control}\n              defaultValue={false}\n              render={({ field }) => (\n                <Switch\n                  id=\"kc-revoke-refresh-token\"\n                  data-testid=\"revoke-refresh-token-switch\"\n                  aria-label={t(\"revokeRefreshToken\")}\n                  label={t(\"common:enabled\")}\n                  labelOff={t(\"common:disabled\")}\n                  isChecked={field.value}\n                  onChange={field.onChange}\n                />\n              )}\n            />\n          </FormGroup>\n          {revokeRefreshToken && (\n            <FormGroup\n              label={t(\"refreshTokenMaxReuse\")}\n              labelIcon={\n                <HelpItem\n                  helpText={t(\"realm-settings-help:refreshTokenMaxReuse\")}\n                  fieldLabelId=\"realm-settings:refreshTokenMaxReuse\"\n                />\n              }\n              fieldId=\"refreshTokenMaxReuse\"\n            >\n              <Controller\n                name=\"refreshTokenMaxReuse\"\n                defaultValue={0}\n                control={form.control}\n                render={({ field }) => (\n                  <NumberInput\n                    type=\"text\"\n                    id=\"refreshTokenMaxReuseMs\"\n                    value={field.value}\n                    onPlus={() => field.onChange(field.value! + 1)}\n                    onMinus={() => field.onChange(field.value! - 1)}\n                    onChange={(event) =>\n                      field.onChange(\n                        Number((event.target as HTMLInputElement).value)\n                      )\n                    }\n                  />\n                )}\n              />\n            </FormGroup>\n          )}\n        </FormAccess>\n      </FormPanel>\n      <FormPanel\n        title={t(\"realm-settings:accessTokens\")}\n        className=\"kc-offline-session-template\"\n      >\n        <FormAccess\n          isHorizontal\n          role=\"manage-realm\"\n          className=\"pf-u-mt-lg\"\n          onSubmit={form.handleSubmit(save)}\n        >\n          <FormGroup\n            label={t(\"accessTokenLifespan\")}\n            fieldId=\"accessTokenLifespan\"\n            helperText={t(\"recommendedSsoTimeout\", {\n              time: toHumanFormat(ssoSessionIdleTimeout!, whoAmI.getLocale()),\n            })}\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:accessTokenLifespan\")}\n                fieldLabelId=\"realm-settings:accessTokenLifespan\"\n              />\n            }\n          >\n            <Controller\n              name=\"accessTokenLifespan\"\n              control={form.control}\n              render={({ field }) => (\n                <TimeSelector\n                  validated={\n                    field.value! > ssoSessionIdleTimeout!\n                      ? \"warning\"\n                      : \"default\"\n                  }\n                  className=\"kc-access-token-lifespan\"\n                  data-testid=\"access-token-lifespan-input\"\n                  aria-label=\"access-token-lifespan\"\n                  value={field.value!}\n                  onChange={field.onChange}\n                  units={[\"minute\", \"hour\", \"day\"]}\n                />\n              )}\n            />\n          </FormGroup>\n\n          <FormGroup\n            label={t(\"accessTokenLifespanImplicitFlow\")}\n            fieldId=\"accessTokenLifespanImplicitFlow\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\n                  \"realm-settings-help:accessTokenLifespanImplicitFlow\"\n                )}\n                fieldLabelId=\"realm-settings:accessTokenLifespanImplicitFlow\"\n              />\n            }\n          >\n            <Controller\n              name=\"accessTokenLifespanForImplicitFlow\"\n              control={form.control}\n              render={({ field }) => (\n                <TimeSelector\n                  className=\"kc-access-token-lifespan-implicit\"\n                  data-testid=\"access-token-lifespan-implicit-input\"\n                  value={field.value!}\n                  onChange={field.onChange}\n                  units={[\"minute\", \"hour\", \"day\"]}\n                />\n              )}\n            />\n          </FormGroup>\n          <FormGroup\n            label={t(\"clientLoginTimeout\")}\n            fieldId=\"clientLoginTimeout\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:clientLoginTimeout\")}\n                fieldLabelId=\"realm-settings:clientLoginTimeout\"\n              />\n            }\n          >\n            <Controller\n              name=\"accessCodeLifespan\"\n              control={form.control}\n              render={({ field }) => (\n                <TimeSelector\n                  className=\"kc-client-login-timeout\"\n                  data-testid=\"client-login-timeout-input\"\n                  aria-label=\"client-login-timeout\"\n                  value={field.value!}\n                  onChange={field.onChange}\n                  units={[\"minute\", \"hour\", \"day\"]}\n                />\n              )}\n            />\n          </FormGroup>\n\n          {offlineSessionMaxEnabled && (\n            <FormGroup\n              label={t(\"offlineSessionMax\")}\n              fieldId=\"offlineSessionMax\"\n              id=\"offline-session-max-label\"\n              labelIcon={\n                <HelpItem\n                  helpText={t(\"realm-settings-help:offlineSessionMax\")}\n                  fieldLabelId=\"realm-settings:offlineSessionMax\"\n                />\n              }\n            >\n              <Controller\n                name=\"offlineSessionMaxLifespan\"\n                control={form.control}\n                render={({ field }) => (\n                  <TimeSelector\n                    className=\"kc-offline-session-max\"\n                    data-testid=\"offline-session-max-input\"\n                    value={field.value!}\n                    onChange={field.onChange}\n                    units={[\"minute\", \"hour\", \"day\"]}\n                  />\n                )}\n              />\n            </FormGroup>\n          )}\n        </FormAccess>\n      </FormPanel>\n      <FormPanel\n        className=\"kc-login-settings-template\"\n        title={t(\"actionTokens\")}\n      >\n        <FormAccess\n          isHorizontal\n          role=\"manage-realm\"\n          className=\"pf-u-mt-lg\"\n          onSubmit={form.handleSubmit(save)}\n        >\n          <FormGroup\n            label={t(\"userInitiatedActionLifespan\")}\n            id=\"kc-user-initiated-action-lifespan\"\n            fieldId=\"userInitiatedActionLifespan\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"realm-settings-help:userInitiatedActionLifespan\")}\n                fieldLabelId=\"realm-settings:userInitiatedActionLifespan\"\n              />\n            }\n          >\n            <Controller\n              name=\"actionTokenGeneratedByUserLifespan\"\n              control={form.control}\n              render={({ field }) => (\n                <TimeSelector\n                  className=\"kc-user-initiated-action-lifespan\"\n                  data-testid=\"user-initiated-action-lifespan\"\n                  aria-label=\"user-initiated-action-lifespan\"\n                  value={field.value!}\n                  onChange={field.onChange}\n                  units={[\"minute\", \"hour\", \"day\"]}\n                />\n              )}\n            />\n          </FormGroup>\n          <FormGroup\n            label={t(\"defaultAdminInitiated\")}\n            fieldId=\"defaultAdminInitiated\"\n            id=\"default-admin-initiated-label\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\n                  \"realm-settings-help:defaultAdminInitiatedActionLifespan\"\n                )}\n                fieldLabelId=\"realm-settings:defaultAdminInitiated\"\n              />\n            }\n          >\n            <Controller\n              name=\"actionTokenGeneratedByAdminLifespan\"\n              control={form.control}\n              render={({ field }) => (\n                <TimeSelector\n                  className=\"kc-default-admin-initiated\"\n                  data-testid=\"default-admin-initated-input\"\n                  aria-label=\"default-admin-initated-input\"\n                  value={field.value!}\n                  onChange={field.onChange}\n                  units={[\"minute\", \"hour\", \"day\"]}\n                />\n              )}\n            />\n          </FormGroup>\n          <Text\n            className=\"kc-override-action-tokens-subtitle\"\n            component={TextVariants.h1}\n          >\n            {t(\"overrideActionTokens\")}\n          </Text>\n          <FormGroup\n            label={t(\"emailVerification\")}\n            fieldId=\"emailVerification\"\n            id=\"email-verification\"\n          >\n            <Controller\n              name=\"attributes.actionTokenGeneratedByUserLifespan-verify-email\"\n              defaultValue=\"\"\n              control={form.control}\n              render={({ field }) => (\n                <TimeSelector\n                  className=\"kc-email-verification\"\n                  data-testid=\"email-verification-input\"\n                  value={field.value}\n                  onChange={(value) => field.onChange(value.toString())}\n                  units={[\"minute\", \"hour\", \"day\"]}\n                />\n              )}\n            />\n          </FormGroup>\n          <FormGroup\n            label={t(\"idpAccountEmailVerification\")}\n            fieldId=\"idpAccountEmailVerification\"\n            id=\"idp-acct-label\"\n          >\n            <Controller\n              name=\"attributes.actionTokenGeneratedByUserLifespan-idp-verify-account-via-email\"\n              defaultValue={\"\"}\n              control={form.control}\n              render={({ field }) => (\n                <TimeSelector\n                  className=\"kc-idp-email-verification\"\n                  data-testid=\"idp-email-verification-input\"\n                  value={field.value}\n                  onChange={field.onChange}\n                  units={[\"minute\", \"hour\", \"day\"]}\n                />\n              )}\n            />\n          </FormGroup>\n          <FormGroup\n            label={t(\"forgotPassword\")}\n            fieldId=\"forgotPassword\"\n            id=\"forgot-password-label\"\n          >\n            <Controller\n              name=\"attributes.actionTokenGeneratedByUserLifespan-reset-credentials\"\n              defaultValue={\"\"}\n              control={form.control}\n              render={({ field }) => (\n                <TimeSelector\n                  className=\"kc-forgot-pw\"\n                  data-testid=\"forgot-pw-input\"\n                  value={field.value}\n                  onChange={field.onChange}\n                  units={[\"minute\", \"hour\", \"day\"]}\n                />\n              )}\n            />\n          </FormGroup>\n          <FormGroup\n            label={t(\"executeActions\")}\n            fieldId=\"executeActions\"\n            id=\"execute-actions\"\n          >\n            <Controller\n              name=\"attributes.actionTokenGeneratedByUserLifespan-execute-actions\"\n              defaultValue={\"\"}\n              control={form.control}\n              render={({ field }) => (\n                <TimeSelector\n                  className=\"kc-execute-actions\"\n                  data-testid=\"execute-actions-input\"\n                  value={field.value}\n                  onChange={field.onChange}\n                  units={[\"minute\", \"hour\", \"day\"]}\n                />\n              )}\n            />\n          </FormGroup>\n          <ActionGroup>\n            <Button\n              variant=\"primary\"\n              type=\"submit\"\n              data-testid=\"tokens-tab-save\"\n              isDisabled={!form.formState.isDirty}\n            >\n              {t(\"common:save\")}\n            </Button>\n            <Button variant=\"link\" onClick={reset}>\n              {t(\"common:revert\")}\n            </Button>\n          </ActionGroup>\n        </FormAccess>\n      </FormPanel>\n    </PageSection>\n  );\n};\n","import type { UserProfileGroup } from \"@keycloak/keycloak-admin-client/lib/defs/userProfileConfig\";\nimport {\n  Button,\n  ButtonVariant,\n  PageSection,\n  ToolbarItem,\n} from \"@patternfly/react-core\";\nimport { useEffect, useState } from \"react\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useConfirmDialog } from \"../../components/confirm-dialog/ConfirmDialog\";\nimport { ListEmptyState } from \"../../components/list-empty-state/ListEmptyState\";\nimport {\n  Action,\n  KeycloakDataTable,\n} from \"../../components/table-toolbar/KeycloakDataTable\";\nimport { useRealm } from \"../../context/realm-context/RealmContext\";\nimport { toEditAttributesGroup } from \"../routes/EditAttributesGroup\";\nimport { toNewAttributesGroup } from \"../routes/NewAttributesGroup\";\nimport { useUserProfile } from \"./UserProfileContext\";\n\nexport const AttributesGroupTab = () => {\n  const { config, save } = useUserProfile();\n  const { t } = useTranslation(\"realm-settings\");\n  const navigate = useNavigate();\n  const { realm } = useRealm();\n  const [key, setKey] = useState(0);\n  const [groupToDelete, setGroupToDelete] = useState<UserProfileGroup>();\n\n  // Refresh data in table when config changes.\n  useEffect(() => setKey((value) => value + 1), [config]);\n\n  async function loader() {\n    return config?.groups ?? [];\n  }\n\n  const [toggleDeleteDialog, DeleteConfirm] = useConfirmDialog({\n    titleKey: \"realm-settings:deleteDialogTitle\",\n    children: (\n      <Trans i18nKey=\"realm-settings:deleteDialogDescription\">\n        {\" \"}\n        <strong>{{ group: groupToDelete?.name }}</strong>.\n      </Trans>\n    ),\n    continueButtonLabel: \"common:delete\",\n    continueButtonVariant: ButtonVariant.danger,\n    onConfirm() {\n      const groups = (config?.groups ?? []).filter(\n        (group) => group !== groupToDelete\n      );\n\n      save(\n        { ...config, groups },\n        {\n          successMessageKey: \"realm-settings:deleteSuccess\",\n          errorMessageKey: \"realm-settings:deleteAttributeGroupError\",\n        }\n      );\n    },\n  });\n\n  function deleteAttributeGroup(group: UserProfileGroup) {\n    setGroupToDelete(group);\n    toggleDeleteDialog();\n  }\n\n  return (\n    <PageSection variant=\"light\" className=\"pf-u-p-0\">\n      <DeleteConfirm />\n      <KeycloakDataTable\n        key={key}\n        loader={loader}\n        ariaLabelKey=\"realm-settings:tableTitle\"\n        toolbarItem={\n          <ToolbarItem>\n            <Button\n              component={(props) => (\n                <Link {...props} to={toNewAttributesGroup({ realm })} />\n              )}\n            >\n              {t(\"createGroupText\")}\n            </Button>\n          </ToolbarItem>\n        }\n        columns={[\n          {\n            name: \"name\",\n            displayKey: \"realm-settings:columnName\",\n            cellRenderer: (group) => (\n              <Link to={toEditAttributesGroup({ realm, name: group.name! })}>\n                {group.name}\n              </Link>\n            ),\n          },\n          {\n            name: \"displayHeader\",\n            displayKey: \"realm-settings:columnDisplayName\",\n          },\n          {\n            name: \"displayDescription\",\n            displayKey: \"realm-settings:columnDisplayDescription\",\n          },\n        ]}\n        actions={[\n          {\n            title: t(\"common:delete\"),\n            onRowClick: deleteAttributeGroup,\n          } as Action<UserProfileGroup>,\n        ]}\n        emptyState={\n          <ListEmptyState\n            message={t(\"emptyStateMessage\")}\n            instructions={t(\"emptyStateInstructions\")}\n            primaryActionText={t(\"createGroupText\")}\n            onPrimaryAction={() => navigate(toNewAttributesGroup({ realm }))}\n          />\n        }\n      />\n    </PageSection>\n  );\n};\n","import { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  Button,\n  ButtonVariant,\n  Divider,\n  Select,\n  SelectOption,\n  SelectVariant,\n  Toolbar,\n  ToolbarContent,\n  ToolbarItem,\n} from \"@patternfly/react-core\";\nimport { FilterIcon } from \"@patternfly/react-icons\";\n\nimport { KeycloakSpinner } from \"../../components/keycloak-spinner/KeycloakSpinner\";\nimport { DraggableTable } from \"../../authentication/components/DraggableTable\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { toAddAttribute } from \"../routes/AddAttribute\";\nimport { useRealm } from \"../../context/realm-context/RealmContext\";\nimport { useUserProfile } from \"./UserProfileContext\";\nimport { useConfirmDialog } from \"../../components/confirm-dialog/ConfirmDialog\";\nimport { toAttribute } from \"../routes/Attribute\";\nimport type { UserProfileAttribute } from \"@keycloak/keycloak-admin-client/lib/defs/userProfileConfig\";\nimport useToggle from \"../../utils/useToggle\";\n\nconst RESTRICTED_ATTRIBUTES = [\"username\", \"email\"];\n\ntype movedAttributeType = UserProfileAttribute;\n\nexport const AttributesTab = () => {\n  const { config, save } = useUserProfile();\n  const { realm: realmName } = useRealm();\n  const { t } = useTranslation(\"realm-settings\");\n  const navigate = useNavigate();\n  const [filter, setFilter] = useState(\"allGroups\");\n  const [isFilterTypeDropdownOpen, toggleIsFilterTypeDropdownOpen] =\n    useToggle();\n  const [data, setData] = useState(config?.attributes);\n  const [attributeToDelete, setAttributeToDelete] = useState(\"\");\n\n  const executeMove = async (\n    attribute: UserProfileAttribute,\n    newIndex: number\n  ) => {\n    const fromIndex = config?.attributes!.findIndex((attr) => {\n      return attr.name === attribute.name;\n    });\n\n    let movedAttribute: movedAttributeType = {};\n    movedAttribute = config?.attributes![fromIndex!]!;\n    config?.attributes!.splice(fromIndex!, 1);\n    config?.attributes!.splice(newIndex, 0, movedAttribute);\n\n    save(\n      { attributes: config?.attributes!, groups: config?.groups },\n      {\n        successMessageKey: \"realm-settings:updatedUserProfileSuccess\",\n        errorMessageKey: \"realm-settings:updatedUserProfileError\",\n      }\n    );\n  };\n\n  const updatedAttributes = config?.attributes!.filter(\n    (attribute) => attribute.name !== attributeToDelete\n  );\n\n  const [toggleDeleteDialog, DeleteConfirm] = useConfirmDialog({\n    titleKey: t(\"deleteAttributeConfirmTitle\"),\n    messageKey: t(\"deleteAttributeConfirm\", {\n      attributeName: attributeToDelete,\n    }),\n    continueButtonLabel: t(\"common:delete\"),\n    continueButtonVariant: ButtonVariant.danger,\n    onConfirm: async () => {\n      save(\n        { attributes: updatedAttributes!, groups: config?.groups },\n        {\n          successMessageKey: \"realm-settings:deleteAttributeSuccess\",\n          errorMessageKey: \"realm-settings:deleteAttributeError\",\n        }\n      );\n      setAttributeToDelete(\"\");\n    },\n  });\n\n  const cellFormatter = (row: UserProfileAttribute) => (\n    <Link\n      to={toAttribute({\n        realm: realmName,\n        attributeName: row.name!,\n      })}\n      key={row.name}\n    >\n      {row.name}\n    </Link>\n  );\n\n  if (!config?.attributes) {\n    return <KeycloakSpinner />;\n  }\n\n  return (\n    <>\n      <Toolbar>\n        <ToolbarContent>\n          <ToolbarItem>\n            <Select\n              width={200}\n              data-testid=\"filter-select\"\n              isOpen={isFilterTypeDropdownOpen}\n              variant={SelectVariant.single}\n              onToggle={toggleIsFilterTypeDropdownOpen}\n              toggleIcon={<FilterIcon />}\n              onSelect={(_, value) => {\n                const filter = value.toString();\n                setFilter(filter);\n                setData(\n                  filter === \"allGroups\"\n                    ? config.attributes\n                    : config.attributes?.filter((attr) => attr.group === filter)\n                );\n                toggleIsFilterTypeDropdownOpen();\n              }}\n              selections={filter === \"allGroups\" ? t(filter) : filter}\n            >\n              {[\n                <SelectOption\n                  key=\"allGroups\"\n                  data-testid=\"all-groups\"\n                  value=\"allGroups\"\n                >\n                  {t(\"allGroups\")}\n                </SelectOption>,\n                ...config\n                  .attributes!.filter((attr) => !!attr.group)\n                  .map((attr) => (\n                    <SelectOption\n                      key={attr.group}\n                      data-testid={`${attr.group}-option`}\n                      value={attr.group}\n                    />\n                  )),\n              ]}\n            </Select>\n          </ToolbarItem>\n          <ToolbarItem className=\"kc-toolbar-attributesTab\">\n            <Button\n              data-testid=\"createAttributeBtn\"\n              variant=\"primary\"\n              component={(props) => (\n                <Link {...props} to={toAddAttribute({ realm: realmName })} />\n              )}\n            >\n              {t(\"createAttribute\")}\n            </Button>\n          </ToolbarItem>\n        </ToolbarContent>\n      </Toolbar>\n      <Divider />\n      <DeleteConfirm />\n      <DraggableTable\n        keyField=\"name\"\n        onDragFinish={async (nameDragged, items) => {\n          const keys = config.attributes!.map((e) => e.name);\n          const newIndex = items.indexOf(nameDragged);\n          const oldIndex = keys.indexOf(nameDragged);\n          const dragged = config.attributes![oldIndex];\n          if (!dragged.name) return;\n\n          executeMove(dragged, newIndex);\n        }}\n        actions={[\n          {\n            title: t(\"common:edit\"),\n            onClick: (_key, _idx, component) => {\n              navigate(\n                toAttribute({\n                  realm: realmName,\n                  attributeName: component.name,\n                })\n              );\n            },\n          },\n          {\n            title: t(\"common:delete\"),\n            isActionable: ({ name }) => !RESTRICTED_ATTRIBUTES.includes(name!),\n            onClick: (_key, _idx, component) => {\n              setAttributeToDelete(component.name);\n              toggleDeleteDialog();\n            },\n          },\n        ]}\n        columns={[\n          {\n            name: \"name\",\n            displayKey: t(\"attributeName\"),\n            cellRenderer: cellFormatter,\n          },\n          {\n            name: \"displayName\",\n            displayKey: t(\"attributeDisplayName\"),\n          },\n          {\n            name: \"group\",\n            displayKey: t(\"attributeGroup\"),\n          },\n        ]}\n        data={data || config.attributes}\n      />\n    </>\n  );\n};\n","import { CodeEditor, Language } from \"@patternfly/react-code-editor\";\nimport { ActionGroup, Button, Form, PageSection } from \"@patternfly/react-core\";\nimport type { editor } from \"monaco-editor\";\nimport { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useAlerts } from \"../../components/alert/Alerts\";\nimport { prettyPrintJSON } from \"../../util\";\nimport { useUserProfile } from \"./UserProfileContext\";\n\nexport const JsonEditorTab = () => {\n  const { config, save, isSaving } = useUserProfile();\n  const { t } = useTranslation();\n  const { addError } = useAlerts();\n  const [editor, setEditor] = useState<editor.IStandaloneCodeEditor>();\n\n  useEffect(() => resetCode(), [config, editor]);\n\n  function resetCode() {\n    editor?.setValue(config ? prettyPrintJSON(config) : \"\");\n  }\n\n  async function handleSave() {\n    const value = editor?.getValue();\n\n    if (!value) {\n      return;\n    }\n\n    try {\n      await save(JSON.parse(value));\n    } catch (error) {\n      addError(\"realm-settings:invalidJsonError\", error);\n      return;\n    }\n  }\n\n  return (\n    <PageSection variant=\"light\">\n      <CodeEditor\n        language={Language.json}\n        height=\"30rem\"\n        onEditorDidMount={(editor) => setEditor(editor)}\n        isLanguageLabelVisible\n      />\n      <Form>\n        <ActionGroup>\n          <Button\n            data-testid=\"save\"\n            variant=\"primary\"\n            onClick={handleSave}\n            isDisabled={isSaving}\n          >\n            {t(\"common:save\")}\n          </Button>\n          <Button variant=\"link\" onClick={resetCode} isDisabled={isSaving}>\n            {t(\"common:revert\")}\n          </Button>\n        </ActionGroup>\n      </Form>\n    </PageSection>\n  );\n};\n","import { Tab, TabTitleText } from \"@patternfly/react-core\";\n\nimport { useTranslation } from \"react-i18next\";\nimport {\n  RoutableTabs,\n  useRoutableTab,\n} from \"../../components/routable-tabs/RoutableTabs\";\nimport { useRealm } from \"../../context/realm-context/RealmContext\";\nimport {\n  toUserProfile,\n  UserProfileTab as IUserProfileTab,\n} from \"../routes/UserProfile\";\nimport { AttributesGroupTab } from \"./AttributesGroupTab\";\nimport { AttributesTab } from \"./AttributesTab\";\nimport { JsonEditorTab } from \"./JsonEditorTab\";\nimport { UserProfileProvider } from \"./UserProfileContext\";\n\nexport const UserProfileTab = () => {\n  const { realm } = useRealm();\n  const { t } = useTranslation(\"realm-settings\");\n\n  const useTab = (tab: IUserProfileTab) =>\n    useRoutableTab(toUserProfile({ realm, tab }));\n\n  const attributesTab = useTab(\"attributes\");\n  const attributesGroupTab = useTab(\"attributes-group\");\n  const jsonEditorTab = useTab(\"json-editor\");\n\n  return (\n    <UserProfileProvider>\n      <RoutableTabs\n        defaultLocation={toUserProfile({ realm, tab: \"attributes\" })}\n        mountOnEnter\n      >\n        <Tab\n          title={<TabTitleText>{t(\"attributes\")}</TabTitleText>}\n          data-testid=\"attributesTab\"\n          {...attributesTab}\n        >\n          <AttributesTab />\n        </Tab>\n        <Tab\n          title={<TabTitleText>{t(\"attributesGroup\")}</TabTitleText>}\n          data-testid=\"attributesGroupTab\"\n          {...attributesGroupTab}\n        >\n          <AttributesGroupTab />\n        </Tab>\n        <Tab\n          title={<TabTitleText>{t(\"jsonEditor\")}</TabTitleText>}\n          data-testid=\"jsonEditorTab\"\n          {...jsonEditorTab}\n        >\n          <JsonEditorTab />\n        </Tab>\n      </RoutableTabs>\n    </UserProfileProvider>\n  );\n};\n","import { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport {\n  AlertVariant,\n  Button,\n  ButtonVariant,\n  Dropdown,\n  DropdownItem,\n  KebabToggle,\n  Popover,\n  Text,\n  TextContent,\n  ToolbarItem,\n} from \"@patternfly/react-core\";\nimport { QuestionCircleIcon } from \"@patternfly/react-icons\";\n\nimport type GroupRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/groupRepresentation\";\nimport {\n  Action,\n  KeycloakDataTable,\n} from \"../components/table-toolbar/KeycloakDataTable\";\nimport { useAdminClient, useFetch } from \"../context/auth/AdminClient\";\nimport { ListEmptyState } from \"../components/list-empty-state/ListEmptyState\";\nimport useToggle from \"../utils/useToggle\";\nimport { useConfirmDialog } from \"../components/confirm-dialog/ConfirmDialog\";\nimport { useAlerts } from \"../components/alert/Alerts\";\nimport { toUserFederation } from \"../user-federation/routes/UserFederation\";\nimport { useRealm } from \"../context/realm-context/RealmContext\";\nimport { GroupPickerDialog } from \"../components/group/GroupPickerDialog\";\nimport { KeycloakSpinner } from \"../components/keycloak-spinner/KeycloakSpinner\";\nimport { useHelp } from \"ui-shared\";\n\nexport const DefaultsGroupsTab = () => {\n  const { t } = useTranslation(\"realm-settings\");\n\n  const [isKebabOpen, toggleKebab] = useToggle();\n  const [isGroupPickerOpen, toggleGroupPicker] = useToggle();\n  const [defaultGroups, setDefaultGroups] = useState<GroupRepresentation[]>();\n  const [selectedRows, setSelectedRows] = useState<GroupRepresentation[]>([]);\n\n  const [key, setKey] = useState(0);\n  const [load, setLoad] = useState(0);\n  const reload = () => setLoad(load + 1);\n\n  const { adminClient } = useAdminClient();\n  const { realm } = useRealm();\n  const { addAlert, addError } = useAlerts();\n  const { enabled } = useHelp();\n\n  useFetch(\n    () => adminClient.realms.getDefaultGroups({ realm }),\n    (groups) => {\n      setDefaultGroups(groups);\n      setKey(key + 1);\n    },\n    [load]\n  );\n\n  const loader = () => Promise.resolve(defaultGroups!);\n\n  const removeGroup = async () => {\n    try {\n      await Promise.all(\n        selectedRows.map((group) =>\n          adminClient.realms.removeDefaultGroup({\n            realm,\n            id: group.id!,\n          })\n        )\n      );\n      addAlert(\n        t(\"groupRemove\", { count: selectedRows.length }),\n        AlertVariant.success\n      );\n      setSelectedRows([]);\n    } catch (error) {\n      addError(\"realm-settings:groupRemoveError\", error);\n    }\n    reload();\n  };\n\n  const addGroups = async (groups: GroupRepresentation[]) => {\n    try {\n      await Promise.all(\n        groups.map((group) =>\n          adminClient.realms.addDefaultGroup({\n            realm,\n            id: group.id!,\n          })\n        )\n      );\n      addAlert(\n        t(\"defaultGroupAdded\", { count: groups.length }),\n        AlertVariant.success\n      );\n    } catch (error) {\n      addError(\"realm-settings:defaultGroupAddedError\", error);\n    }\n    reload();\n  };\n\n  const [toggleRemoveDialog, RemoveDialog] = useConfirmDialog({\n    titleKey: t(\"removeConfirmTitle\", { count: selectedRows.length }),\n    messageKey: t(\"removeConfirm\", { count: selectedRows.length }),\n    continueButtonLabel: \"common:delete\",\n    continueButtonVariant: ButtonVariant.danger,\n    onConfirm: removeGroup,\n  });\n\n  if (!defaultGroups) {\n    return <KeycloakSpinner />;\n  }\n\n  return (\n    <>\n      <RemoveDialog />\n      {isGroupPickerOpen && (\n        <GroupPickerDialog\n          type=\"selectMany\"\n          text={{\n            title: \"realm-settings:addDefaultGroups\",\n            ok: \"common:add\",\n          }}\n          onConfirm={(groups) => {\n            addGroups(groups || []);\n            toggleGroupPicker();\n          }}\n          onClose={toggleGroupPicker}\n        />\n      )}\n      {enabled && (\n        <Popover\n          bodyContent={\n            <Trans i18nKey=\"realm-settings-help:defaultGroups\">\n              {\" \"}\n              <Link to={toUserFederation({ realm })} />.\n            </Trans>\n          }\n        >\n          <TextContent\n            className=\"keycloak__section_intro__help\"\n            style={{\n              paddingLeft: \"var(--pf-c-page__main-section--PaddingLeft)\",\n            }}\n          >\n            <Text>\n              <QuestionCircleIcon /> {t(\"whatIsDefaultGroups\")}\n            </Text>\n          </TextContent>\n        </Popover>\n      )}\n      <KeycloakDataTable\n        key={key}\n        canSelectAll\n        onSelect={(rows) => setSelectedRows([...rows])}\n        loader={loader}\n        ariaLabelKey=\"realm-settings:defaultGroups\"\n        searchPlaceholderKey=\"realm-settings:searchForGroups\"\n        toolbarItem={\n          <>\n            <ToolbarItem>\n              <Button\n                data-testid=\"openCreateGroupModal\"\n                variant=\"primary\"\n                onClick={toggleGroupPicker}\n              >\n                {t(\"addGroups\")}\n              </Button>\n            </ToolbarItem>\n            <ToolbarItem>\n              <Dropdown\n                toggle={\n                  <KebabToggle\n                    onToggle={toggleKebab}\n                    isDisabled={selectedRows!.length === 0}\n                  />\n                }\n                isOpen={isKebabOpen}\n                isPlain\n                dropdownItems={[\n                  <DropdownItem\n                    key=\"action\"\n                    component=\"button\"\n                    onClick={() => {\n                      toggleRemoveDialog();\n                      toggleKebab();\n                    }}\n                  >\n                    {t(\"common:remove\")}\n                  </DropdownItem>,\n                ]}\n              />\n            </ToolbarItem>\n          </>\n        }\n        actions={[\n          {\n            title: t(\"common:remove\"),\n            onRowClick: (group) => {\n              setSelectedRows([group]);\n              toggleRemoveDialog();\n              return Promise.resolve(false);\n            },\n          } as Action<GroupRepresentation>,\n        ]}\n        columns={[\n          {\n            name: \"name\",\n            displayKey: \"groups:groupName\",\n          },\n          {\n            name: \"path\",\n            displayKey: \"groups:path\",\n          },\n        ]}\n        emptyState={\n          <ListEmptyState\n            hasIcon\n            message={t(\"noDefaultGroups\")}\n            instructions={\n              <Trans i18nKey=\"realm-settings:noDefaultGroupsInstructions\">\n                {\" \"}\n                <Link\n                  className=\"pf-u-font-weight-light\"\n                  to={toUserFederation({ realm })}\n                />\n                Add groups...\n              </Trans>\n            }\n            primaryActionText={t(\"addGroups\")}\n            onPrimaryAction={toggleGroupPicker}\n          />\n        }\n      />\n    </>\n  );\n};\n","import { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { AlertVariant, Tab, Tabs, TabTitleText } from \"@patternfly/react-core\";\n\nimport type RealmRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/realmRepresentation\";\nimport type RoleRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/roleRepresentation\";\nimport { useAdminClient, useFetch } from \"../context/auth/AdminClient\";\nimport { useRealm } from \"../context/realm-context/RealmContext\";\nimport { KeycloakSpinner } from \"../components/keycloak-spinner/KeycloakSpinner\";\nimport { useAlerts } from \"../components/alert/Alerts\";\nimport { RoleMapping } from \"../components/role-mapping/RoleMapping\";\nimport { DefaultsGroupsTab } from \"./DefaultGroupsTab\";\n\nexport const UserRegistration = () => {\n  const { t } = useTranslation(\"realm-settings\");\n  const [realm, setRealm] = useState<RealmRepresentation>();\n  const [activeTab, setActiveTab] = useState(10);\n  const [key, setKey] = useState(0);\n\n  const { adminClient } = useAdminClient();\n  const { addAlert, addError } = useAlerts();\n  const { realm: realmName } = useRealm();\n\n  useFetch(\n    () => adminClient.realms.findOne({ realm: realmName }),\n    setRealm,\n    []\n  );\n\n  if (!realm) {\n    return <KeycloakSpinner />;\n  }\n\n  const addComposites = async (composites: RoleRepresentation[]) => {\n    const compositeArray = composites;\n\n    try {\n      await adminClient.roles.createComposite(\n        { roleId: realm.defaultRole!.id!, realm: realmName },\n        compositeArray\n      );\n      setKey(key + 1);\n      addAlert(t(\"roles:addAssociatedRolesSuccess\"), AlertVariant.success);\n    } catch (error) {\n      addError(\"roles:addAssociatedRolesError\", error);\n    }\n  };\n\n  return (\n    <Tabs\n      activeKey={activeTab}\n      onSelect={(_, key) => setActiveTab(key as number)}\n    >\n      <Tab\n        key={key}\n        id=\"roles\"\n        eventKey={10}\n        title={<TabTitleText>{t(\"defaultRoles\")}</TabTitleText>}\n      >\n        <RoleMapping\n          name={realm.defaultRole!.name!}\n          id={realm.defaultRole!.id!}\n          type=\"roles\"\n          isManager\n          save={(rows) => addComposites(rows.map((r) => r.role))}\n        />\n      </Tab>\n      <Tab\n        id=\"groups\"\n        eventKey={20}\n        title={<TabTitleText>{t(\"defaultGroups\")}</TabTitleText>}\n      >\n        <DefaultsGroupsTab />\n      </Tab>\n    </Tabs>\n  );\n};\n","import type RealmRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/realmRepresentation\";\nimport {\n  AlertVariant,\n  ButtonVariant,\n  DropdownItem,\n  DropdownSeparator,\n  PageSection,\n  Tab,\n  TabTitleText,\n  Tooltip,\n} from \"@patternfly/react-core\";\nimport { useEffect, useState } from \"react\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport { useAlerts } from \"../components/alert/Alerts\";\nimport { useConfirmDialog } from \"../components/confirm-dialog/ConfirmDialog\";\nimport type { KeyValueType } from \"../components/key-value-form/key-value-convert\";\nimport {\n  RoutableTabs,\n  useRoutableTab,\n} from \"../components/routable-tabs/RoutableTabs\";\nimport { ViewHeader } from \"../components/view-header/ViewHeader\";\nimport { useAdminClient } from \"../context/auth/AdminClient\";\nimport { useRealm } from \"../context/realm-context/RealmContext\";\nimport { useRealms } from \"../context/RealmsContext\";\nimport { toDashboard } from \"../dashboard/routes/Dashboard\";\nimport environment from \"../environment\";\nimport helpUrls from \"../help-urls\";\nimport { convertFormValuesToObject, convertToFormValues } from \"../util\";\nimport useIsFeatureEnabled, { Feature } from \"../utils/useIsFeatureEnabled\";\nimport { RealmSettingsEmailTab } from \"./EmailTab\";\nimport { EventsTab } from \"./event-config/EventsTab\";\nimport { RealmSettingsGeneralTab } from \"./GeneralTab\";\nimport { KeysTab } from \"./keys/KeysTab\";\nimport { LocalizationTab } from \"./LocalizationTab\";\nimport { RealmSettingsLoginTab } from \"./LoginTab\";\nimport { PartialExportDialog } from \"./PartialExport\";\nimport { PartialImportDialog } from \"./PartialImport\";\nimport { PoliciesTab } from \"./PoliciesTab\";\nimport ProfilesTab from \"./ProfilesTab\";\nimport { ClientPoliciesTab, toClientPolicies } from \"./routes/ClientPolicies\";\nimport { RealmSettingsTab, toRealmSettings } from \"./routes/RealmSettings\";\nimport { SecurityDefenses } from \"./security-defences/SecurityDefenses\";\nimport { RealmSettingsSessionsTab } from \"./SessionsTab\";\nimport { RealmSettingsThemesTab } from \"./ThemesTab\";\nimport { RealmSettingsTokensTab } from \"./TokensTab\";\nimport { UserProfileTab } from \"./user-profile/UserProfileTab\";\nimport { UserRegistration } from \"./UserRegistration\";\nimport { useServerInfo } from \"../context/server-info/ServerInfoProvider\";\n\ntype RealmSettingsHeaderProps = {\n  onChange: (value: boolean) => void;\n  value: boolean;\n  save: () => void;\n  realmName: string;\n  refresh: () => void;\n};\n\nconst RealmSettingsHeader = ({\n  save,\n  onChange,\n  value,\n  realmName,\n  refresh,\n}: RealmSettingsHeaderProps) => {\n  const { t } = useTranslation(\"realm-settings\");\n  const { adminClient } = useAdminClient();\n  const { refresh: refreshRealms } = useRealms();\n  const { addAlert, addError } = useAlerts();\n  const navigate = useNavigate();\n  const [partialImportOpen, setPartialImportOpen] = useState(false);\n  const [partialExportOpen, setPartialExportOpen] = useState(false);\n\n  const [toggleDisableDialog, DisableConfirm] = useConfirmDialog({\n    titleKey: \"realm-settings:disableConfirmTitle\",\n    messageKey: \"realm-settings:disableConfirm\",\n    continueButtonLabel: \"common:disable\",\n    onConfirm: () => {\n      onChange(!value);\n      save();\n    },\n  });\n\n  const [toggleDeleteDialog, DeleteConfirm] = useConfirmDialog({\n    titleKey: \"realm-settings:deleteConfirmTitle\",\n    messageKey: \"realm-settings:deleteConfirm\",\n    continueButtonLabel: \"common:delete\",\n    continueButtonVariant: ButtonVariant.danger,\n    onConfirm: async () => {\n      try {\n        await adminClient.realms.del({ realm: realmName });\n        addAlert(t(\"deletedSuccess\"), AlertVariant.success);\n        await refreshRealms();\n        navigate(toDashboard({ realm: environment.masterRealm }));\n        refresh();\n      } catch (error) {\n        addError(\"realm-settings:deleteError\", error);\n      }\n    },\n  });\n\n  return (\n    <>\n      <DisableConfirm />\n      <DeleteConfirm />\n      <PartialImportDialog\n        open={partialImportOpen}\n        toggleDialog={() => setPartialImportOpen(!partialImportOpen)}\n      />\n      <PartialExportDialog\n        isOpen={partialExportOpen}\n        onClose={() => setPartialExportOpen(false)}\n      />\n      <ViewHeader\n        titleKey={realmName}\n        subKey=\"realm-settings:realmSettingsExplain\"\n        helpUrl={helpUrls.realmSettingsUrl}\n        divider={false}\n        dropdownItems={[\n          <DropdownItem\n            key=\"import\"\n            data-testid=\"openPartialImportModal\"\n            onClick={() => {\n              setPartialImportOpen(true);\n            }}\n          >\n            {t(\"partialImport\")}\n          </DropdownItem>,\n          <DropdownItem\n            key=\"export\"\n            data-testid=\"openPartialExportModal\"\n            onClick={() => setPartialExportOpen(true)}\n          >\n            {t(\"partialExport\")}\n          </DropdownItem>,\n          <DropdownSeparator key=\"separator\" />,\n          <DropdownItem key=\"delete\" onClick={toggleDeleteDialog}>\n            {t(\"common:delete\")}\n          </DropdownItem>,\n        ]}\n        isEnabled={value}\n        onToggle={(value) => {\n          if (!value) {\n            toggleDisableDialog();\n          } else {\n            onChange(value);\n            save();\n          }\n        }}\n      />\n    </>\n  );\n};\n\ntype RealmSettingsTabsProps = {\n  realm: RealmRepresentation;\n  refresh: () => void;\n};\n\nexport const RealmSettingsTabs = ({\n  realm,\n  refresh,\n}: RealmSettingsTabsProps) => {\n  const { t } = useTranslation(\"realm-settings\");\n  const { adminClient } = useAdminClient();\n  const { addAlert, addError } = useAlerts();\n  const { realm: realmName } = useRealm();\n  const { refresh: refreshRealms } = useRealms();\n  const navigate = useNavigate();\n  const isFeatureEnabled = useIsFeatureEnabled();\n\n  const { control, setValue, getValues } = useForm({\n    mode: \"onChange\",\n  });\n  const [key, setKey] = useState(0);\n\n  const refreshHeader = () => {\n    setKey(key + 1);\n  };\n\n  const setupForm = (r: RealmRepresentation = realm) => {\n    convertToFormValues(r, setValue);\n  };\n\n  useEffect(setupForm, []);\n\n  const save = async (r: RealmRepresentation) => {\n    r = convertFormValuesToObject(r);\n    if (\n      r.attributes?.[\"acr.loa.map\"] &&\n      typeof r.attributes[\"acr.loa.map\"] !== \"string\"\n    ) {\n      r.attributes[\"acr.loa.map\"] = JSON.stringify(\n        Object.fromEntries(\n          (r.attributes[\"acr.loa.map\"] as KeyValueType[])\n            .filter(({ key }) => key !== \"\")\n            .map(({ key, value }) => [key, value])\n        )\n      );\n    }\n\n    try {\n      await adminClient.realms.update(\n        { realm: realmName },\n        {\n          ...realm,\n          ...r,\n          id: r.realm,\n        }\n      );\n      addAlert(t(\"saveSuccess\"), AlertVariant.success);\n    } catch (error) {\n      addError(\"realm-settings:saveError\", error);\n    }\n\n    const isRealmRenamed = realmName !== (r.realm || realm.realm);\n    if (isRealmRenamed) {\n      await refreshRealms();\n      navigate(toRealmSettings({ realm: r.realm!, tab: \"general\" }));\n    }\n    refresh();\n  };\n\n  const useTab = (tab: RealmSettingsTab) =>\n    useRoutableTab(toRealmSettings({ realm: realmName, tab }));\n\n  const generalTab = useTab(\"general\");\n  const loginTab = useTab(\"login\");\n  const emailTab = useTab(\"email\");\n  const themesTab = useTab(\"themes\");\n  const keysTab = useTab(\"keys\");\n  const eventsTab = useTab(\"events\");\n  const localizationTab = useTab(\"localization\");\n  const securityDefensesTab = useTab(\"security-defenses\");\n  const sessionsTab = useTab(\"sessions\");\n  const tokensTab = useTab(\"tokens\");\n  const clientPoliciesTab = useTab(\"client-policies\");\n  const clientPoliciesDisabled =\n    useServerInfo().profileInfo?.disabledFeatures?.includes(\"CLIENT_POLICIES\");\n  const userProfileTab = useTab(\"user-profile\");\n  const userRegistrationTab = useTab(\"user-registration\");\n\n  const useClientPoliciesTab = (tab: ClientPoliciesTab) =>\n    useRoutableTab(\n      toClientPolicies({\n        realm: realmName,\n        tab,\n      })\n    );\n\n  const clientPoliciesProfilesTab = useClientPoliciesTab(\"profiles\");\n  const clientPoliciesPoliciesTab = useClientPoliciesTab(\"policies\");\n\n  return (\n    <>\n      <Controller\n        name=\"enabled\"\n        defaultValue={true}\n        control={control}\n        render={({ field }) => (\n          <RealmSettingsHeader\n            value={field.value}\n            onChange={field.onChange}\n            realmName={realmName}\n            refresh={refreshHeader}\n            save={() => save(getValues())}\n          />\n        )}\n      />\n      <PageSection variant=\"light\" className=\"pf-u-p-0\">\n        <RoutableTabs\n          isBox\n          mountOnEnter\n          defaultLocation={toRealmSettings({\n            realm: realmName,\n            tab: \"general\",\n          })}\n        >\n          <Tab\n            title={<TabTitleText>{t(\"general\")}</TabTitleText>}\n            data-testid=\"rs-general-tab\"\n            {...generalTab}\n          >\n            <RealmSettingsGeneralTab realm={realm} save={save} />\n          </Tab>\n          <Tab\n            title={<TabTitleText>{t(\"login\")}</TabTitleText>}\n            data-testid=\"rs-login-tab\"\n            {...loginTab}\n          >\n            <RealmSettingsLoginTab refresh={refresh} realm={realm} />\n          </Tab>\n          <Tab\n            title={<TabTitleText>{t(\"email\")}</TabTitleText>}\n            data-testid=\"rs-email-tab\"\n            {...emailTab}\n          >\n            <RealmSettingsEmailTab realm={realm} />\n          </Tab>\n          <Tab\n            title={<TabTitleText>{t(\"themes\")}</TabTitleText>}\n            data-testid=\"rs-themes-tab\"\n            {...themesTab}\n          >\n            <RealmSettingsThemesTab realm={realm} save={save} />\n          </Tab>\n          <Tab\n            title={<TabTitleText>{t(\"realm-settings:keys\")}</TabTitleText>}\n            data-testid=\"rs-keys-tab\"\n            {...keysTab}\n          >\n            <KeysTab />\n          </Tab>\n          <Tab\n            title={<TabTitleText>{t(\"events\")}</TabTitleText>}\n            data-testid=\"rs-realm-events-tab\"\n            {...eventsTab}\n          >\n            <EventsTab realm={realm} />\n          </Tab>\n          <Tab\n            title={<TabTitleText>{t(\"localization\")}</TabTitleText>}\n            data-testid=\"rs-localization-tab\"\n            {...localizationTab}\n          >\n            <LocalizationTab\n              key={key}\n              refresh={refresh}\n              save={save}\n              realm={realm}\n            />\n          </Tab>\n          <Tab\n            title={<TabTitleText>{t(\"securityDefences\")}</TabTitleText>}\n            data-testid=\"rs-security-defenses-tab\"\n            {...securityDefensesTab}\n          >\n            <SecurityDefenses realm={realm} save={save} />\n          </Tab>\n          <Tab\n            title={<TabTitleText>{t(\"realm-settings:sessions\")}</TabTitleText>}\n            data-testid=\"rs-sessions-tab\"\n            {...sessionsTab}\n          >\n            <RealmSettingsSessionsTab key={key} realm={realm} save={save} />\n          </Tab>\n          <Tab\n            title={<TabTitleText>{t(\"realm-settings:tokens\")}</TabTitleText>}\n            data-testid=\"rs-tokens-tab\"\n            {...tokensTab}\n          >\n            <RealmSettingsTokensTab save={save} realm={realm} />\n          </Tab>\n          {!clientPoliciesDisabled && (\n            <Tab\n              title={\n                <TabTitleText>\n                  {t(\"realm-settings:clientPolicies\")}\n                </TabTitleText>\n              }\n              data-testid=\"rs-clientPolicies-tab\"\n              {...clientPoliciesTab}\n            >\n              <RoutableTabs\n                mountOnEnter\n                defaultLocation={toClientPolicies({\n                  realm: realmName,\n                  tab: \"profiles\",\n                })}\n              >\n                <Tab\n                  id=\"profiles\"\n                  data-testid=\"rs-policies-clientProfiles-tab\"\n                  aria-label={t(\"clientProfilesSubTab\")}\n                  title={<TabTitleText>{t(\"profiles\")}</TabTitleText>}\n                  tooltip={\n                    <Tooltip\n                      content={t(\n                        \"realm-settings:clientPoliciesProfilesHelpText\"\n                      )}\n                    />\n                  }\n                  {...clientPoliciesProfilesTab}\n                >\n                  <ProfilesTab />\n                </Tab>\n                <Tab\n                  id=\"policies\"\n                  data-testid=\"rs-policies-clientPolicies-tab\"\n                  aria-label={t(\"clientPoliciesSubTab\")}\n                  {...clientPoliciesPoliciesTab}\n                  title={<TabTitleText>{t(\"policies\")}</TabTitleText>}\n                  tooltip={\n                    <Tooltip\n                      content={t(\n                        \"realm-settings:clientPoliciesPoliciesHelpText\"\n                      )}\n                    />\n                  }\n                >\n                  <PoliciesTab />\n                </Tab>\n              </RoutableTabs>\n            </Tab>\n          )}\n          {isFeatureEnabled(Feature.DeclarativeUserProfile) &&\n            realm.attributes?.userProfileEnabled === \"true\" && (\n              <Tab\n                title={\n                  <TabTitleText>{t(\"realm-settings:userProfile\")}</TabTitleText>\n                }\n                data-testid=\"rs-user-profile-tab\"\n                {...userProfileTab}\n              >\n                <UserProfileTab />\n              </Tab>\n            )}\n          <Tab\n            title={<TabTitleText>{t(\"userRegistration\")}</TabTitleText>}\n            data-testid=\"rs-userRegistration-tab\"\n            {...userRegistrationTab}\n          >\n            <UserRegistration />\n          </Tab>\n        </RoutableTabs>\n      </PageSection>\n    </>\n  );\n};\n","import type RealmRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/realmRepresentation\";\nimport { useState } from \"react\";\n\nimport { KeycloakSpinner } from \"../components/keycloak-spinner/KeycloakSpinner\";\nimport { useAdminClient, useFetch } from \"../context/auth/AdminClient\";\nimport { useParams } from \"../utils/useParams\";\nimport { RealmSettingsTabs } from \"./RealmSettingsTabs\";\nimport type { RealmSettingsParams } from \"./routes/RealmSettings\";\n\nexport default function RealmSettingsSection() {\n  const { adminClient } = useAdminClient();\n  const { realm: realmName } = useParams<RealmSettingsParams>();\n  const [realm, setRealm] = useState<RealmRepresentation>();\n  const [key, setKey] = useState(0);\n\n  const refresh = () => {\n    setKey(key + 1);\n    setRealm(undefined);\n  };\n\n  useFetch(() => adminClient.realms.findOne({ realm: realmName }), setRealm, [\n    key,\n  ]);\n\n  if (!realm) {\n    return <KeycloakSpinner />;\n  }\n  return <RealmSettingsTabs realm={realm} refresh={refresh} />;\n}\n"],"names":["uniqWith","array","comparator","baseUniq","EditableTextCell","value","rowIndex","cellIndex","props","handleTextInputChange","inputAriaLabel","isDisabled","React.createElement","React.Fragment","inlineStyles","TextInput","newValue","event","css","formStyles","useCurrentUser","whoAmI","useWhoAmI","adminClient","useAdminClient","currentUser","setCurrentUser","useState","userId","useFetch","RealmSettingsEmailTab","initialRealm","t","useTranslation","realmName","useRealm","addAlert","addError","useAlerts","realm","setRealm","register","control","handleSubmit","watch","resetForm","getValues","errors","useForm","reset","watchFromValue","watchHostValue","isTesting","toggleTest","useToggle","authenticationEnabled","useWatch","save","form","savedRealm","AlertVariant","error","testConnection","toNumber","toBoolean","valueMapper","serverSettings","key","mapperFn","jsxs","PageSection","jsx","FormPanel","FormAccess","FormGroup","KeycloakTextInput","emailRegexPattern","HelpItem","Controller","field","Checkbox","Switch","Fragment","PasswordInput","Alert","AlertActionLink","Link","toUser","ActionGroup","ActionListItem","Button","EventsTypeTable","ariaLabelKey","eventTypes","addTypes","onSelect","onDelete","data","type","KeycloakDataTable","ToolbarItem","ListEmptyState","AddEventTypesDialog","onConfirm","onClose","configured","enums","useServerInfo","selectedTypes","setSelectedTypes","Modal","ModalVariant","selected","EventConfigForm","clear","setValue","isDirty","eventKey","eventsEnabled","toggleDisableDialog","DisableConfirm","useConfirmDialog","TimeSelector","Divider","EventListenersForm","selectEventListenerOpen","setSelectEventListenerOpen","eventListeners","Select","SelectVariant","isOpen","_","selectedValue","option","changedValue","item","operation","SelectOption","EventsTab","setKey","refresh","tableKey","setTableKey","reload","activeTab","setActiveTab","events","setEvents","setType","addEventType","setAddEventType","setupForm","eventConfig","convertToFormValues","toggleDeleteDialog","DeleteConfirm","ButtonVariant","config","updatedEventListener","isEqual","adminEventsExpiration","addEventTypes","eventsTypes","enabledEvents","addEvents","Tabs","Tab","TabTitleText","enabledEventTypes","e","RealmSettingsGeneralTab","isFeatureEnabled","useIsFeatureEnabled","open","setOpen","requireSslTypes","result","convertAttributeNameToForm","useEffect","ClipboardCopy","sslType","FormProvider","KeyValueInput","Feature","Stack","StackItem","FormattedLink","addTrailingSlash","FILTER_OPTIONS","SelectFilter","onFilter","filterType","setFilterType","filterDropdownOpen","toggleFilter","FilterIcon","filter","o","KeysListTab","realmComponents","navigate","useNavigate","publicKey","setPublicKey","certificate","setCertificate","keyData","setKeyData","filteredKeyData","setFilteredKeyData","provider","component","togglePublicKeyDialog","PublicKeyDialog","toggleCertificateDialog","CertificateDialog","status","emptyFormatter","cellWidth","toKeysTab","KeycloakSpinner","KeyProviderModal","providerType","KeyProviderForm","KeyProvidersPicker","keyProviderComponentTypes","KEY_PROVIDER_TYPE","DataList","id","DataListItem","DataListItemRow","DataListItemCells","DataListCell","KeysProvidersTab","searchVal","setSearchVal","filteredComponents","setFilteredComponents","isCreateModalOpen","handleModalToggle","providerOpen","toggleProviderOpen","defaultUIDisplayName","setDefaultUIDisplayName","selectedComponent","setSelectedComponent","components","useMemo","componentType","onSearch","handleKeyDown","handleInputChange","Toolbar","ToolbarGroup","InputGroup","SearchIcon","DraggableTable","itemOrder","updateAll","componentToSave","toKeyProvider","_key","_idx","sortByPriority","a","b","priorityA","priorityB","KeysTab","setRealmComponents","useTab","tab","useRoutableTab","listTab","providersTab","RoutableTabs","AddMessageBundleModal","Form","ValidatedOptions","localeToDisplayName","locale","LocalizationTab","addMessageBundleModalOpen","setAddMessageBundleModalOpen","supportedLocalesOpen","setSupportedLocalesOpen","defaultLocaleOpen","setDefaultLocaleOpen","setFilterDropdownOpen","selectMenuLocale","setSelectMenuLocale","DEFAULT_LOCALE","formState","selectMenuValueSelected","setSelectMenuValueSelected","messageBundles","setMessageBundles","tableRows","setTableRows","themeTypes","allLocales","locales","theme","bundleForm","currentRealm","defaultSupportedLocales","watchSupportedLocales","internationalizationEnabled","max","setMax","first","setFirst","setFilter","refreshTable","searchInBundles","idx","i","filtered","bundles","updatedRows","messageBundle","evt","prev","newRows","cloneDeep","textCell","updateEditableRows","validationErrors","newRow","invalid","validateCellEdits","cancelCellEdits","applyCellEdits","options","SelectGroup","addKeyValue","pair","deleteKey","v","TextContent","PaginatingTableToolbar","search","isExpanded","Table","TableVariant","_b","validation","row","TableHeader","TableBody","RealmSettingsLoginTab","updateSwitchValue","switches","name","s","PartialExportDialog","exportGroupsAndRoles","setExportGroupsAndRoles","exportClients","setExportClients","isExporting","setIsExporting","showWarning","exportRealm","realmExport","saveAs","prettyPrintJSON","Text","INITIAL_RESOURCES","PartialImportDialog","importedFile","setImportedFile","isFileSelected","isRealmSelectOpen","setIsRealmSelectOpen","isCollisionSelectOpen","setIsCollisionSelectOpen","importInProgress","setImportInProgress","collisionOption","setCollisionOption","targetRealm","setTargetRealm","importResponse","setImportResponse","resourcesToImport","setResourcesToImport","isAnyResourceChecked","checked","resetResourcesToImport","resetInputState","handleFileChange","handleRealmSelect","handleResourceCheckBox","resource","realmSelectOptions","realms","handleCollisionSelect","collisionOptions","targetHasResources","targetHasResource","targetHasRealmRoles","targetHasClientRoles","itemCount","clientRolesCount","clientRoles","total","role","resourceDataListItem","resourceDisplayName","jsonForImport","jsonToImport","doImport","importResults","importModal","JsonFileUpload","importCompleteMessage","loader","last","ActionLabel","importRecord","Label","TypeRenderer","typeMap","importCompletedModal","PoliciesTab","show","setShow","policies","setPolicies","selectedPolicy","setSelectedPolicy","code","setCode","tablePolicies","setTablePolicies","saveStatus","switchValues","updatedPolicies","policy","enabled","toClientPolicies","ClientPolicyDetailLink","toEditClientPolicy","SwitchRenderer","clientPolicy","obj","Flex","FlexItem","Title","Radio","CodeEditor","Language","toAddClientPolicy","ProfilesTab","tableProfiles","setTableProfiles","globalProfiles","setGlobalProfiles","selectedProfile","setSelectedProfile","allProfiles","profiles","allClientProfiles","normalizeProfile","profile","omit","updatedProfiles","cellFormatter","toClientProfile","changedProfiles","changedGlobalProfiles","toAddClientProfile","HelpLinkTextInput","fieldName","url","useFormContext","Trans","HeadersForm","Time","style","BruteForceDetection","enable","permanentLockout","NumberInput","SecurityDefenses","RealmSettingsSessionsTab","offlineSessionMaxEnabled","RealmSettingsThemesTab","loginThemeOpen","setLoginThemeOpen","accountThemeOpen","setAccountThemeOpen","adminUIThemeOpen","setAdminUIThemeOpen","emailThemeOpen","setEmailThemeOpen","RealmSettingsTokensTab","serverInfo","defaultSigAlgDrpdwnIsOpen","setDefaultSigAlgDrpdwnOpen","defaultSigAlgOptions","sortProviders","ssoSessionIdleTimeout","revokeRefreshToken","p","toHumanFormat","TextVariants","AttributesGroupTab","useUserProfile","groupToDelete","setGroupToDelete","groups","group","deleteAttributeGroup","toNewAttributesGroup","toEditAttributesGroup","RESTRICTED_ATTRIBUTES","AttributesTab","isFilterTypeDropdownOpen","toggleIsFilterTypeDropdownOpen","setData","attributeToDelete","setAttributeToDelete","executeMove","attribute","newIndex","fromIndex","attr","movedAttribute","updatedAttributes","toAttribute","ToolbarContent","toAddAttribute","nameDragged","items","keys","oldIndex","dragged","JsonEditorTab","isSaving","editor","setEditor","resetCode","handleSave","UserProfileTab","toUserProfile","attributesTab","attributesGroupTab","jsonEditorTab","UserProfileProvider","DefaultsGroupsTab","isKebabOpen","toggleKebab","isGroupPickerOpen","toggleGroupPicker","defaultGroups","setDefaultGroups","selectedRows","setSelectedRows","load","setLoad","useHelp","removeGroup","addGroups","toggleRemoveDialog","RemoveDialog","GroupPickerDialog","Popover","toUserFederation","QuestionCircleIcon","rows","Dropdown","KebabToggle","DropdownItem","UserRegistration","addComposites","composites","compositeArray","RoleMapping","r","RealmSettingsHeader","onChange","refreshRealms","useRealms","partialImportOpen","setPartialImportOpen","partialExportOpen","setPartialExportOpen","toDashboard","environment","ViewHeader","helpUrls","DropdownSeparator","RealmSettingsTabs","refreshHeader","convertFormValuesToObject","toRealmSettings","generalTab","loginTab","emailTab","themesTab","keysTab","eventsTab","localizationTab","securityDefensesTab","sessionsTab","tokensTab","clientPoliciesTab","clientPoliciesDisabled","userProfileTab","userRegistrationTab","useClientPoliciesTab","clientPoliciesProfilesTab","clientPoliciesPoliciesTab","Tooltip","RealmSettingsSection","useParams"],"mappings":"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","x_google_ignoreList":[0,1]}