import{u as f,a as C,j as e,F as j,G as g,C as b,S as R,r as v,M as E,B as L,cJ as w,aw as M,O as B,Q as V,ad as K}from"./index-a3421f29.js";import{C as D}from"./ClientSelect-3f0fc581.js";import{F as J}from"./FileUpload-ca37c1a6.js";import{G as _}from"./GroupPickerDialog-caf8c38d.js";import{C as U,c as G,S as O,a as N,b as P}from"./Select-0f56a9cc.js";import{A as q,a as Q}from"./ActionListItem-ab1a4322.js";import{F as k,a as T}from"./FlexItem-65b5f999.js";import{M as W}from"./minus-circle-icon-6f9a971c.js";import{P as z}from"./plus-circle-icon-cb854796.js";import{M as H}from"./MultiLineInput-14187d1c.js";import{P as X}from"./PasswordInput-85f9399f.js";import{u as Y}from"./useToggle-a9cb2c55.js";import{A as Z,S as ee}from"./AddRoleMappingModal-abb19beb.js";import{C as te,L as ne}from"./CodeEditor-2fb93648.js";import{K as ae}from"./KeycloakTextInput-e7f6e917.js";import{K as oe}from"./KeycloakTextArea-1b518857.js";const se=({name:t,label:n,helpText:r,isDisabled:a=!1})=>{const{t:l}=f("dynamic"),{control:o}=C();return e.jsx(j,{hasNoPaddingTop:!0,label:l(n),fieldId:t,labelIcon:e.jsx(g,{helpText:l(r),fieldLabelId:`dynamic:${n}`}),children:e.jsx(b,{name:h(t),"data-testid":t,defaultValue:!1,control:o,render:({field:s})=>e.jsx(R,{id:t,isDisabled:a,label:l("common:on"),labelOff:l("common:off"),isChecked:s.value==="true"||s.value===!0||s.value[0]==="true",onChange:i=>s.onChange(""+i),"data-testid":t,"aria-label":l(n)})})})},le=t=>e.jsx(D,{...t,name:h(t.name),namespace:"dynamic"}),re=({name:t,label:n,helpText:r,defaultValue:a,isDisabled:l=!1})=>{const{t:o}=f("dynamic"),{control:s}=C(),[i,x]=v.useState(""),[u,d]=v.useState(!1);return e.jsx(j,{label:o(n),labelIcon:e.jsx(g,{helpText:o(r),fieldLabelId:`dynamic:${n}`}),fieldId:t,children:e.jsx(b,{name:h(t),control:s,defaultValue:a||"",render:({field:c})=>e.jsx(J,{id:t,value:c.value,type:"text",filename:i,isDisabled:l,onFileInputChange:(I,y)=>x(y.name),onReadStarted:()=>d(!0),onReadFinished:()=>d(!1),onClearClick:()=>{c.onChange(""),x("")},isLoading:u,allowEditingUploadedText:!1,onChange:(I,y)=>{c.onChange(I),x(y)}})})})},ie=({name:t,label:n,helpText:r})=>{const{t:a}=f("dynamic"),[l,o]=v.useState(!1),[s,i]=v.useState(),{control:x}=C();return e.jsx(b,{name:h(t),defaultValue:"",control:x,render:({field:u})=>e.jsxs(e.Fragment,{children:[l&&e.jsx(_,{type:"selectOne",text:{title:"dynamic:selectGroup",ok:"common:select"},onConfirm:d=>{u.onChange(d?.[0].path),i(d),o(!1)},onClose:()=>o(!1),filterGroups:s}),e.jsx(j,{label:a(n),labelIcon:e.jsx(g,{helpText:a(r),fieldLabelId:`dynamic:${n}`}),fieldId:t,children:e.jsxs(E,{children:[e.jsx(U,{children:u.value&&e.jsx(G,{onClick:()=>u.onChange(void 0),children:u.value})}),e.jsx(L,{id:"kc-join-groups-button",onClick:()=>o(!l),variant:"secondary","data-testid":"join-groups-button",children:a("selectGroup")})]})})]})})},ce=({name:t,label:n,helpText:r,defaultValue:a,options:l,isDisabled:o=!1})=>{const{t:s}=f("dynamic"),{control:i}=C(),[x,u]=v.useState(!1);return e.jsx(j,{label:s(n),labelIcon:e.jsx(g,{helpText:s(r),fieldLabelId:`dynamic:${n}`}),fieldId:t,children:e.jsx(b,{name:h(t),"data-testid":t,defaultValue:a||"",control:i,render:({field:d})=>e.jsx(O,{toggleId:t,isDisabled:o,onToggle:c=>u(c),onSelect:(c,I)=>{d.onChange(I),u(!1)},selections:d.value,variant:N.single,"aria-label":s(n),isOpen:x,children:l?.map(c=>e.jsx(P,{selected:c===d.value,value:c},c))})})})},de=({name:t,label:n,helpText:r})=>{const{t:a}=f("dynamic"),{getValues:l,setValue:o,register:s}=C(),[i,x]=v.useState([]),u=h(t);v.useEffect(()=>{s(u);const p=JSON.parse(l(u)||"[]");p.length||p.push({key:"",value:""}),x(p.map(m=>({...m,id:w()})))},[s,l]);const d=(p=i)=>{o(u,JSON.stringify(p.map(({id:m,...S})=>S)))},c=(p,m)=>{y(p,{...i[p],key:m})},I=(p,m)=>{y(p,{...i[p],value:m})},y=(p,m)=>x([...i.slice(0,p),m,...i.slice(p+1)]),$=p=>{const m=[...i.slice(0,p),...i.slice(p+1)];x(m),d(m)};return e.jsxs(j,{label:a(n),labelIcon:e.jsx(g,{helpText:a(r),fieldLabelId:`dynamic:${n}`}),fieldId:t,children:[e.jsxs(k,{direction:{default:"column"},children:[e.jsxs(k,{children:[e.jsx(T,{grow:{default:"grow"},spacer:{default:"spacerNone"},children:e.jsx("strong",{children:a("common:key")})}),e.jsx(T,{grow:{default:"grow"},children:e.jsx("strong",{children:a("common:value")})})]}),i.map((p,m)=>e.jsxs(k,{"data-testid":"row",children:[e.jsx(T,{grow:{default:"grow"},children:e.jsx(M,{name:`${u}.${m}.key`,placeholder:a("common:keyPlaceholder"),"aria-label":a("key"),defaultValue:p.key,"data-testid":`${u}.${m}.key`,onChange:S=>c(m,S),onBlur:()=>d()})}),e.jsx(T,{grow:{default:"grow"},spacer:{default:"spacerNone"},children:e.jsx(M,{name:`${u}.${m}.value`,placeholder:a("common:valuePlaceholder"),"aria-label":a("common:value"),defaultValue:p.value,"data-testid":`${u}.${m}.value`,onChange:S=>I(m,S),onBlur:()=>d()})}),e.jsx(T,{children:e.jsx(L,{variant:"link",title:a("common:removeAttribute"),isDisabled:i.length===1,onClick:()=>$(m),"data-testid":`${u}.${m}.remove`,children:e.jsx(W,{})})})]},p.id))]}),e.jsx(q,{children:e.jsx(Q,{children:e.jsx(L,{"data-testid":`${u}-add-row`,className:"pf-u-px-0 pf-u-mt-sm",variant:"link",icon:e.jsx(z,{}),onClick:()=>x([...i,{key:"",value:"",id:w()}]),children:a("common:addAttribute")})})})]})},ue=({name:t,label:n,helpText:r,defaultValue:a,options:l,isDisabled:o=!1})=>{const{t:s}=f("dynamic"),{control:i}=C(),[x,u]=v.useState(!1);return e.jsx(j,{label:s(n),labelIcon:e.jsx(g,{helpText:s(r),fieldLabelId:`dynamic:${n}`}),fieldId:t,children:e.jsx(b,{name:h(t),control:i,defaultValue:a?[a]:[],render:({field:d})=>e.jsx(O,{toggleId:t,"data-testid":t,isDisabled:o,chipGroupProps:{numChips:3,expandedText:s("common:hide"),collapsedText:s("common:showRemaining")},variant:N.typeaheadMulti,typeAheadAriaLabel:"Select",onToggle:c=>u(c),selections:d.value,onSelect:(c,I)=>{const y=I.toString();d.value.includes(y)?d.onChange(d.value.filter($=>$!==y)):d.onChange([...d.value,y])},onClear:c=>{c.stopPropagation(),d.onChange([])},isOpen:x,"aria-label":s(n),children:l?.map(c=>e.jsx(P,{value:c},c))})})})},pe=({name:t,label:n,defaultValue:r,helpText:a,isDisabled:l=!1})=>{const{t:o}=f("dynamic"),s=h(t);return e.jsx(j,{label:o(n),labelIcon:e.jsx(g,{helpText:o(a),fieldLabelId:`dynamic:${n}`}),fieldId:t,children:e.jsx(H,{"aria-label":o(n),name:s,isDisabled:l,defaultValue:[r],addButtonLabel:o("addMultivaluedLabel",{fieldLabel:o(n).toLowerCase()}),stringify:!0})})},me=({name:t,label:n,helpText:r,defaultValue:a,isDisabled:l=!1})=>{const{t:o}=f("dynamic"),{register:s}=C();return e.jsx(j,{label:o(n),labelIcon:e.jsx(g,{helpText:o(r),fieldLabelId:`dynamic:${n}`}),fieldId:t,children:e.jsx(X,{id:t,"data-testid":t,isDisabled:l,defaultValue:a?.toString(),...s(h(t))})})},F=t=>t?.includes(".")?t.split("."):["",t||""],xe=t=>t.client?.clientId?`${t.client.clientId}.${t.role.name}`:t.role.name,he=({name:t,label:n,helpText:r,defaultValue:a,isDisabled:l=!1})=>{const{t:o}=f("dynamic"),[s,i]=Y(),{control:x,formState:{errors:u}}=C(),d=h(t);return e.jsx(j,{label:o(n),labelIcon:e.jsx(g,{helpText:o(r),fieldLabelId:`dynamic:${n}`}),validated:u[d]?"error":"default",helperTextInvalid:o("common:required"),fieldId:t,children:e.jsx(b,{name:d,defaultValue:a||"",control:x,render:({field:c})=>e.jsxs(B,{children:[s&&e.jsx(Z,{id:"id",type:"roles",name:t,onAssign:I=>c.onChange(xe(I[0])),onClose:i,isRadio:!0}),c.value!==""&&e.jsx(V,{children:e.jsx(G,{textMaxWidth:"500px",onClick:()=>c.onChange(""),children:e.jsx(ee,{role:{name:F(c.value)[1]},client:{clientId:F(c.value)[0]}})})}),e.jsx(V,{children:e.jsx(L,{onClick:i,variant:"secondary","data-testid":"add-roles",disabled:l,children:o("selectRole.label")})})]})})})},fe=({name:t,label:n,helpText:r,defaultValue:a,isDisabled:l=!1})=>{const{t:o}=f("dynamic"),{control:s}=C();return e.jsx(j,{label:o(n),labelIcon:e.jsx(g,{helpText:e.jsx("span",{style:{whiteSpace:"pre-wrap"},children:r}),fieldLabelId:`dynamic:${n}`}),fieldId:t,children:e.jsx(b,{name:h(t),defaultValue:a,control:s,render:({field:i})=>e.jsx(te,{id:t,"data-testid":t,isReadOnly:l,type:"text",onChange:i.onChange,code:i.value,height:"600px",language:ne.javascript})})})},je=({name:t,label:n,helpText:r,defaultValue:a,isDisabled:l=!1})=>{const{t:o}=f("dynamic"),{register:s}=C();return e.jsx(j,{label:o(n),labelIcon:e.jsx(g,{helpText:o(r),fieldLabelId:`dynamic:${n}`}),fieldId:t,children:e.jsx(ae,{id:t,"data-testid":t,isDisabled:l,defaultValue:a?.toString(),...s(h(t))})})},ge=({name:t,label:n,helpText:r,defaultValue:a,isDisabled:l=!1})=>{const{t:o}=f("dynamic"),{register:s}=C();return e.jsx(j,{label:o(n),labelIcon:e.jsx(g,{helpText:o(r),fieldLabelId:`dynamic:${n}`}),fieldId:t,children:e.jsx(oe,{id:t,"data-testid":t,isDisabled:l,defaultValue:a?.toString(),...s(h(t))})})},A={String:je,Text:ge,boolean:se,List:ce,Role:he,Script:fe,Map:de,Group:ie,ClientList:le,MultivaluedList:ue,MultivaluedString:pe,File:re,Password:me},Ce=t=>t in A,Pe=({properties:t,...n})=>e.jsx(e.Fragment,{children:t.map(r=>{const a=r.type;if(Ce(a)){const l=A[a];return e.jsx(l,{...r,...n},r.name)}else console.warn(`There is no editor registered for ${a}`)})}),h=t=>K(`config.${t}`);export{Pe as D};
//# sourceMappingURL=DynamicComponents-72877b30.js.map
