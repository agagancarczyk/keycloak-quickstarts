{"version":3,"file":"LoginSettings-2f4d45bc.js","sources":["../../src/clients/add/LoginSettings.tsx"],"sourcesContent":["import { FormGroup } from \"@patternfly/react-core\";\nimport { useFormContext } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { HelpItem } from \"ui-shared\";\nimport { KeycloakTextInput } from \"../../components/keycloak-text-input/KeycloakTextInput\";\nimport { MultiLineInput } from \"../../components/multi-line-input/MultiLineInput\";\nimport { useRealm } from \"../../context/realm-context/RealmContext\";\nimport environment from \"../../environment\";\nimport { convertAttributeNameToForm } from \"../../util\";\nimport { FormFields } from \"../ClientDetails\";\n\ntype LoginSettingsProps = {\n  protocol?: string;\n  isDisabled?: boolean;\n};\n\nexport const LoginSettings = ({\n  protocol = \"openid-connect\",\n  ...rest\n}: LoginSettingsProps) => {\n  const { t } = useTranslation(\"clients\");\n  const { register, watch } = useFormContext<FormFields>();\n  const { realm } = useRealm();\n\n  const idpInitiatedSsoUrlName: string = watch(\n    \"attributes.saml_idp_initiated_sso_url_name\"\n  );\n  return (\n    <>\n      <FormGroup\n        label={t(\"rootUrl\")}\n        fieldId=\"kc-root-url\"\n        labelIcon={\n          <HelpItem\n            helpText={t(\"clients-help:rootURL\")}\n            fieldLabelId=\"clients:rootUrl\"\n          />\n        }\n      >\n        <KeycloakTextInput\n          id=\"kc-root-url\"\n          type=\"url\"\n          {...register(\"rootUrl\")}\n          {...rest}\n        />\n      </FormGroup>\n      <FormGroup\n        label={t(\"homeURL\")}\n        fieldId=\"kc-home-url\"\n        labelIcon={\n          <HelpItem\n            helpText={t(\"clients-help:homeURL\")}\n            fieldLabelId=\"clients:homeURL\"\n          />\n        }\n      >\n        <KeycloakTextInput\n          id=\"kc-home-url\"\n          type=\"url\"\n          {...register(\"baseUrl\")}\n          {...rest}\n        />\n      </FormGroup>\n      <FormGroup\n        label={t(\"validRedirectUri\")}\n        fieldId=\"kc-redirect\"\n        labelIcon={\n          <HelpItem\n            helpText={t(\"clients-help:validRedirectURIs\")}\n            fieldLabelId=\"clients:validRedirectUri\"\n          />\n        }\n      >\n        <MultiLineInput\n          id=\"kc-redirect\"\n          name=\"redirectUris\"\n          aria-label={t(\"validRedirectUri\")}\n          addButtonLabel=\"clients:addRedirectUri\"\n          {...rest}\n        />\n      </FormGroup>\n      <FormGroup\n        label={t(\"validPostLogoutRedirectUri\")}\n        fieldId=\"kc-postLogoutRedirect\"\n        labelIcon={\n          <HelpItem\n            helpText={t(\"clients-help:validPostLogoutRedirectURIs\")}\n            fieldLabelId=\"clients:validPostLogoutRedirectUri\"\n          />\n        }\n      >\n        <MultiLineInput\n          id=\"kc-postLogoutRedirect\"\n          name={convertAttributeNameToForm(\n            \"attributes.post.logout.redirect.uris\"\n          )}\n          aria-label={t(\"validPostLogoutRedirectUri\")}\n          addButtonLabel=\"clients:addPostLogoutRedirectUri\"\n          stringify\n          {...rest}\n        />\n      </FormGroup>\n      {protocol === \"saml\" && (\n        <>\n          <FormGroup\n            label={t(\"idpInitiatedSsoUrlName\")}\n            fieldId=\"idpInitiatedSsoUrlName\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"clients-help:idpInitiatedSsoUrlName\")}\n                fieldLabelId=\"clients:idpInitiatedSsoUrlName\"\n              />\n            }\n            helperText={\n              idpInitiatedSsoUrlName !== \"\" &&\n              t(\"idpInitiatedSsoUrlNameHelp\", {\n                url: `${environment.authServerUrl}/realms/${realm}/protocol/saml/clients/${idpInitiatedSsoUrlName}`,\n              })\n            }\n          >\n            <KeycloakTextInput\n              id=\"idpInitiatedSsoUrlName\"\n              data-testid=\"idpInitiatedSsoUrlName\"\n              {...register(\"attributes.saml_idp_initiated_sso_url_name\")}\n              {...rest}\n            />\n          </FormGroup>\n          <FormGroup\n            label={t(\"idpInitiatedSsoRelayState\")}\n            fieldId=\"idpInitiatedSsoRelayState\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"clients-help:idpInitiatedSsoRelayState\")}\n                fieldLabelId=\"clients:idpInitiatedSsoRelayState\"\n              />\n            }\n          >\n            <KeycloakTextInput\n              id=\"idpInitiatedSsoRelayState\"\n              data-testid=\"idpInitiatedSsoRelayState\"\n              {...register(\"attributes.saml_idp_initiated_sso_relay_state\")}\n              {...rest}\n            />\n          </FormGroup>\n          <FormGroup\n            label={t(\"masterSamlProcessingUrl\")}\n            fieldId=\"masterSamlProcessingUrl\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"clients-help:masterSamlProcessingUrl\")}\n                fieldLabelId=\"clients:masterSamlProcessingUrl\"\n              />\n            }\n          >\n            <KeycloakTextInput\n              id=\"masterSamlProcessingUrl\"\n              type=\"url\"\n              data-testid=\"masterSamlProcessingUrl\"\n              {...register(\"adminUrl\")}\n              {...rest}\n            />\n          </FormGroup>\n        </>\n      )}\n      {protocol !== \"saml\" && (\n        <FormGroup\n          label={t(\"webOrigins\")}\n          fieldId=\"kc-web-origins\"\n          labelIcon={\n            <HelpItem\n              helpText={t(\"clients-help:webOrigins\")}\n              fieldLabelId=\"clients:webOrigins\"\n            />\n          }\n        >\n          <MultiLineInput\n            id=\"kc-web-origins\"\n            name=\"webOrigins\"\n            aria-label={t(\"webOrigins\")}\n            addButtonLabel=\"clients:addWebOrigins\"\n            {...rest}\n          />\n        </FormGroup>\n      )}\n    </>\n  );\n};\n"],"names":["LoginSettings","protocol","rest","t","useTranslation","register","watch","useFormContext","realm","useRealm","idpInitiatedSsoUrlName","jsxs","Fragment","jsx","FormGroup","HelpItem","KeycloakTextInput","MultiLineInput","convertAttributeNameToForm","environment"],"mappings":"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"}