import{_ as k,r as s,i as p,cq as N,H as g,cp as _,u as b,a as C,ay as $,j as e,M as w,B as j}from"./index-a3421f29.js";import{K as E}from"./KeycloakTextInput-e7f6e917.js";import{M as A}from"./minus-icon-16876c86.js";import{G as R,a as h}from"./GridItem-d34dae2e.js";import{M as q}from"./minus-circle-icon-6f9a971c.js";import{A as G,a as H}from"./ActionListItem-ab1a4322.js";import{P as T}from"./plus-circle-icon-cb854796.js";import{E as M,a as S}from"./EmptyStateBody-7b4fcee1.js";const i={helperText:"pf-c-helper-text",helperTextItem:"pf-c-helper-text__item",helperTextItemIcon:"pf-c-helper-text__item-icon",helperTextItemText:"pf-c-helper-text__item-text",modifiers:{indeterminate:"pf-m-indeterminate",warning:"pf-m-warning",success:"pf-m-success",error:"pf-m-error",dynamic:"pf-m-dynamic"},themeDark:"pf-theme-dark"},v=r=>{var{children:t,className:m,component:o="div",id:a,isLiveRegion:n=!1}=r,l=k(r,["children","className","component","id","isLiveRegion"]);const d=o;return s.createElement(d,Object.assign({id:a,className:p(i.helperText,m)},n&&{"aria-live":"polite"},l),t)};v.displayName="HelperText";const F={default:"",indeterminate:i.modifiers.indeterminate,warning:i.modifiers.warning,success:i.modifiers.success,error:i.modifiers.error},y=r=>{var{children:t,className:m,component:o="div",variant:a="default",icon:n,isDynamic:l=!1,hasIcon:d=l,id:u,screenReaderText:f=`${a} status`}=r,c=k(r,["children","className","component","variant","icon","isDynamic","hasIcon","id","screenReaderText"]);const x=o;return s.createElement(x,Object.assign({className:p(i.helperTextItem,F[a],l&&i.modifiers.dynamic,m),id:u},c),n&&s.createElement("span",{className:p(i.helperTextItemIcon),"aria-hidden":!0},n),d&&!n&&s.createElement("span",{className:p(i.helperTextItemIcon),"aria-hidden":!0},(a==="default"||a==="indeterminate")&&s.createElement(A,null),a==="warning"&&s.createElement(N,null),a==="success"&&s.createElement(g,null),a==="error"&&s.createElement(_,null)),s.createElement("span",{className:p(i.helperTextItemText)},t,l&&s.createElement("span",{className:"pf-u-screen-reader"},": ",f,";")))};y.displayName="HelperTextItem";const J=({name:r})=>{const{t}=b("common"),{control:m,register:o,formState:{errors:a}}=C(),{fields:n,append:l,remove:d}=$({control:m,name:r}),u=()=>l({key:"",value:""});return n.length>0?e.jsxs(e.Fragment,{children:[e.jsxs(R,{hasGutter:!0,children:[e.jsx(h,{className:"pf-c-form__label",span:6,children:e.jsx("span",{className:"pf-c-form__label-text",children:t("key")})}),e.jsx(h,{className:"pf-c-form__label",span:6,children:e.jsx("span",{className:"pf-c-form__label-text",children:t("value")})}),n.map((f,c)=>{const x=!!a[r]?.[c]?.key,I=!!a[r]?.[c]?.value;return e.jsxs(s.Fragment,{children:[e.jsxs(h,{span:6,children:[e.jsx(E,{placeholder:t("keyPlaceholder"),"aria-label":t("key"),"data-testid":`${r}-key`,...o(`${r}.${c}.key`,{required:!0}),validated:x?"error":"default",isRequired:!0}),x&&e.jsx(v,{children:e.jsx(y,{variant:"error",children:t("keyError")})})]}),e.jsxs(h,{span:6,children:[e.jsxs(w,{children:[e.jsx(E,{placeholder:t("valuePlaceholder"),"aria-label":t("value"),"data-testid":`${r}-value`,...o(`${r}.${c}.value`,{required:!0}),validated:I?"error":"default",isRequired:!0}),e.jsx(j,{variant:"link",title:t("removeAttribute"),onClick:()=>d(c),"data-testid":`${r}-remove`,children:e.jsx(q,{})})]}),I&&e.jsx(v,{children:e.jsx(y,{variant:"error",children:t("valueError")})})]})]},f.id)})]}),e.jsx(G,{children:e.jsx(H,{children:e.jsx(j,{"data-testid":`${r}-add-row`,className:"pf-u-px-0 pf-u-mt-sm",variant:"link",icon:e.jsx(T,{}),onClick:u,children:t("addAttribute")})})})]}):e.jsxs(M,{"data-testid":`${r}-empty-state`,className:"pf-u-p-0",variant:"xs",children:[e.jsx(S,{children:t("missingAttributes")}),e.jsx(j,{"data-testid":`${r}-add-row`,variant:"link",icon:e.jsx(T,{}),isSmall:!0,onClick:u,children:t("addAttribute")})]})};export{J as K};
//# sourceMappingURL=KeyValueInput-ce08b760.js.map
