import{u as M,r as n,j as r,O,Q as T,aw as D}from"./index-a3421f29.js";import{S as E,a as V,b as $}from"./Select-0f56a9cc.js";const u=[{unit:"second",label:"times.seconds",multiplier:1},{unit:"minute",label:"times.minutes",multiplier:60},{unit:"hour",label:"times.hours",multiplier:3600},{unit:"day",label:"times.days",multiplier:86400}],j=t=>u.reduce((i,l)=>t%l.multiplier===0&&i.multiplier<l.multiplier?l:i,u[0]),U=(t,i)=>{const l=j(t);return new Intl.NumberFormat(i,{style:"unit",unit:l.unit,unitDisplay:"long"}).format(t/l.multiplier)},k=({value:t,units:i=["second","minute","hour","day"],onChange:l,className:a,min:y,menuAppendTo:g,...c})=>{const{t:p}=M("common"),I=n.useMemo(()=>i.map(e=>u.find(s=>s.unit===e)),[i]),d=n.useMemo(()=>u.find(e=>e.unit===i[0])?.multiplier,[i]),[b,o]=n.useState(""),[f,m]=n.useState(d),[x,S]=n.useState(!1);n.useEffect(()=>{const e=j(t).multiplier;t?(m(e),o(t/e)):(o(t),m(d))},[t]);const h=(e,s=f)=>{e!==""?(l(e*(s||1)),o(e)):l("")};return r.jsxs(O,{hasGutter:!0,className:a,children:[r.jsx(T,{children:r.jsx(D,{...c,type:"number","aria-label":"kc-time",min:y||0,value:b,className:`${a}-input`,onChange:e=>{h(e===""?e:parseInt(e))}})}),r.jsx(T,{id:`${a}-select-menu`,children:r.jsx(E,{variant:V.single,"aria-label":p("unitLabel"),className:`${a}-select`,onSelect:(e,s)=>{m(s),h(b,s),S(!1)},menuAppendTo:g,selections:[f],onToggle:()=>{S(!x)},isOpen:x,isDisabled:c.isDisabled,children:I.map(e=>r.jsx($,{id:e.label,value:e.multiplier,children:p(e.label)},e.label))})})]})};export{k as T,U as t};
//# sourceMappingURL=TimeSelector-a2bc30e2.js.map
