import{u as k,a as b,N as y,r as u,j as n,M as B,aw as E,B as f,k as h}from"./index-a3421f29.js";import{M as T}from"./minus-circle-icon-6f9a971c.js";import{P as A}from"./plus-circle-icon-cb854796.js";function F(a){return typeof a=="string"?a.split("##"):[]}function P(a){return a.join("##")}const G=({name:a,addButtonLabel:j,isDisabled:o=!1,defaultValue:d,stringify:p=!1,id:g,...v})=>{const{t:r}=k(),{register:m,setValue:x,control:M}=b(),l=y({name:a,control:M,defaultValue:d||""}),e=u.useMemo(()=>{let t=p?F(l):l;return t=Array.isArray(t)&&t.length!==0?t:d||[""],t},[l]),I=t=>{i([...e.slice(0,t),...e.slice(t+1)])},C=()=>{i([...e,""])},V=(t,s)=>{i([...e.slice(0,t),s,...e.slice(t+1)])},i=t=>{const s=t.flatMap(c=>c);x(a,p?P(s):s,{shouldDirty:!0})};return u.useEffect(()=>{m(a)},[m]),n.jsx("div",{id:g,children:e.map((t,s)=>n.jsxs(u.Fragment,{children:[n.jsxs(B,{children:[n.jsx(E,{"data-testid":a+s,onChange:c=>V(s,c),name:`${a}.${s}.value`,value:t,isDisabled:o,...v}),n.jsx(f,{"data-testid":"remove"+s,variant:h.link,onClick:()=>I(s),tabIndex:-1,"aria-label":r("common:remove"),isDisabled:e.length===1||o,children:n.jsx(T,{})})]}),s===e.length-1&&n.jsxs(f,{variant:h.link,onClick:C,tabIndex:-1,"aria-label":r("common:add"),"data-testid":"addValue",isDisabled:!t||o,children:[n.jsx(A,{})," ",r(j||"common:add")]})]},s))})};export{G as M};
//# sourceMappingURL=MultiLineInput-14187d1c.js.map
