import{_ as C,r as e,p as q,B as O,l as J,i as h,b$ as K,bA as S,aw as M,cG as Q,az as V,j as I,C as X,cF as Y,F as Z}from"./index-a3421f29.js";import{C as ee}from"./copy-icon-a4fe01af.js";import{a as te,F as ae,A as ie}from"./Form-518a2cf2.js";import{a as ne,G as oe}from"./GridItem-d34dae2e.js";const m={button:"pf-c-button",clipboardCopy:"pf-c-clipboard-copy",clipboardCopyActions:"pf-c-clipboard-copy__actions",clipboardCopyActionsItem:"pf-c-clipboard-copy__actions-item",clipboardCopyExpandableContent:"pf-c-clipboard-copy__expandable-content",clipboardCopyGroup:"pf-c-clipboard-copy__group",clipboardCopyText:"pf-c-clipboard-copy__text",clipboardCopyToggleIcon:"pf-c-clipboard-copy__toggle-icon",modifiers:{expanded:"pf-m-expanded",inline:"pf-m-inline",block:"pf-m-block",code:"pf-m-code"},themeDark:"pf-theme-dark"},T=i=>{var{onClick:n,exitDelay:t=0,entryDelay:o=300,maxWidth:s="100px",position:l="top","aria-label":r="Copyable input",id:p,textId:d,children:b,variant:x="control",onTooltipHidden:a=()=>{},removeFindDomNode:u=!1}=i,y=C(i,["onClick","exitDelay","entryDelay","maxWidth","position","aria-label","id","textId","children","variant","onTooltipHidden","removeFindDomNode"]);return e.createElement(q,{trigger:"mouseenter focus click",exitDelay:t,entryDelay:o,maxWidth:s,position:l,"aria-live":"polite",aria:"none",content:e.createElement("div",null,b),onTooltipHidden:a,removeFindDomNode:u},e.createElement(O,Object.assign({type:"button",variant:x,onClick:n,"aria-label":r,id:p,"aria-labelledby":`${p} ${d}`},y),e.createElement(ee,null)))};T.displayName="ClipboardCopyButton";const j=i=>{var{onClick:n,id:t,textId:o,contentId:s,isExpanded:l=!1}=i,r=C(i,["onClick","id","textId","contentId","isExpanded"]);return e.createElement(O,Object.assign({type:"button",variant:"control",onClick:n,id:t,"aria-labelledby":`${t} ${o}`,"aria-controls":`${t} ${s}`,"aria-expanded":l},r),l?e.createElement(te,{"aria-hidden":"true"}):e.createElement(J,{"aria-hidden":"true"}))};j.displayName="ClipboardCopyToggle";class A extends e.Component{constructor(n){super(n)}render(){const n=this.props,{className:t,children:o,onChange:s,isReadOnly:l,isCode:r}=n,p=C(n,["className","children","onChange","isReadOnly","isCode"]);return e.createElement("div",Object.assign({suppressContentEditableWarning:!0,className:h(m.clipboardCopyExpandableContent,t),onInput:d=>s(d.target.innerText,d),contentEditable:!l},p),r?e.createElement("pre",null,o):o)}}A.displayName="ClipboardCopyExpanded";A.defaultProps={onChange:()=>{},className:"",isReadOnly:!1,isCode:!1};const se=(i,n)=>{navigator.clipboard.writeText(n.toString())};var _;(function(i){i.inline="inline",i.expansion="expansion",i.inlineCompact="inline-compact"})(_||(_={}));class f extends e.Component{constructor(n){super(n),this.timer=null,this.componentDidUpdate=(t,o)=>{t.children!==this.props.children&&this.updateText(this.props.children)},this.componentWillUnmount=()=>{this.timer&&window.clearTimeout(this.timer)},this.expandContent=t=>{this.setState(o=>({expanded:!o.expanded}))},this.updateText=t=>{this.setState({text:t}),this.props.onChange(t)},this.render=()=>{const t=this.props,{isExpanded:o,onChange:s,switchDelay:l,isReadOnly:r,isCode:p,isBlock:d,exitDelay:b,maxWidth:x,entryDelay:a,onCopy:u,hoverTip:y,clickTip:g,textAriaLabel:E,toggleAriaLabel:R,variant:v,position:$,className:W,additionalActions:F,ouiaId:L,ouiaSafe:B,removeFindDomNode:P}=t,H=C(t,["isExpanded","onChange","switchDelay","isReadOnly","isCode","isBlock","exitDelay","maxWidth","entryDelay","onCopy","hoverTip","clickTip","textAriaLabel","toggleAriaLabel","variant","position","className","additionalActions","ouiaId","ouiaSafe","removeFindDomNode"]),N="text-input-",U="toggle-",z="content-";return e.createElement("div",Object.assign({className:h(m.clipboardCopy,v==="inline-compact"&&m.modifiers.inline,d&&m.modifiers.block,this.state.expanded&&m.modifiers.expanded,W)},H,K(f.displayName,L,B)),v==="inline-compact"&&e.createElement(S,{prefix:""},c=>e.createElement(e.Fragment,null,!p&&e.createElement("span",{className:h(m.clipboardCopyText),id:`${N}${c}`},this.state.text),p&&e.createElement("code",{className:h(m.clipboardCopyText,m.modifiers.code),id:`${N}${c}`},this.state.text),e.createElement("span",{className:h(m.clipboardCopyActions)},e.createElement("span",{className:h(m.clipboardCopyActionsItem)},e.createElement(T,{variant:"plain",exitDelay:b,entryDelay:a,maxWidth:x,position:$,id:`copy-button-${c}`,textId:`text-input-${c}`,"aria-label":y,onClick:D=>{u(D,this.state.text),this.setState({copied:!0})},onTooltipHidden:()=>this.setState({copied:!1})},this.state.copied?g:y)),F&&F))),v!=="inline-compact"&&e.createElement(S,{prefix:""},c=>e.createElement(e.Fragment,null,e.createElement("div",{className:h(m.clipboardCopyGroup)},v==="expansion"&&e.createElement(j,{isExpanded:this.state.expanded,onClick:this.expandContent,id:`${U}${c}`,textId:`${N}${c}`,contentId:`${z}${c}`,"aria-label":R}),e.createElement(M,{isReadOnly:r||this.state.expanded,onChange:this.updateText,value:this.state.text,id:`text-input-${c}`,"aria-label":E}),e.createElement(T,{exitDelay:b,entryDelay:a,maxWidth:x,position:$,id:`copy-button-${c}`,textId:`text-input-${c}`,"aria-label":y,onClick:D=>{u(D,this.state.text),this.setState({copied:!0})},onTooltipHidden:()=>this.setState({copied:!1}),removeFindDomNode:P},this.state.copied?g:y)),this.state.expanded&&e.createElement(A,{isReadOnly:r,isCode:p,id:`content-${c}`,onChange:this.updateText},this.state.text))))},this.state={text:Array.isArray(this.props.children)?this.props.children.join(""):this.props.children,expanded:this.props.isExpanded,copied:!1},this.props.switchDelay!==void 0&&console.warn("ClipboardCopy: switchDelay prop has been deprecated. The tooltip message will switch back to the hover tip as soon as the tooltip is hidden.")}}f.displayName="ClipboardCopy";f.defaultProps={hoverTip:"Copy to clipboard",clickTip:"Successfully copied to clipboard!",isReadOnly:!1,isExpanded:!1,isCode:!1,variant:"inline",position:Q.top,maxWidth:"150px",exitDelay:1500,entryDelay:300,onCopy:se,onChange:()=>{},textAriaLabel:"Copyable input",toggleAriaLabel:"Show content",additionalActions:null,ouiaSafe:!0,removeFindDomNode:!1};const k={modifiers:{fill:"pf-m-fill",gutter:"pf-m-gutter"},stack:"pf-l-stack",stackItem:"pf-l-stack__item"},G=i=>{var{hasGutter:n=!1,className:t="",children:o=null,component:s="div"}=i,l=C(i,["hasGutter","className","children","component"]);const r=s;return e.createElement(r,Object.assign({},l,{className:h(k.stack,n&&k.modifiers.gutter,t)}),o)};G.displayName="Stack";const w=i=>{var{isFilled:n=!1,className:t="",children:o=null}=i,s=C(i,["isFilled","className","children"]);return e.createElement("div",Object.assign({},s,{className:h(k.stackItem,n&&k.modifiers.fill,t)}),o)};w.displayName="StackItem";const de=({children:i,role:n,fineGrainedAccess:t=!1,isReadOnly:o=!1,unWrap:s=!1,...l})=>{const{hasAccess:r}=V(),p=(b,x)=>e.Children.map(b,a=>{if(!e.isValidElement(a))return a;if(a.props){const u=a;if(a.type===X)return e.cloneElement(a,{...u.props,render:g=>{const E=u.props.render(g);return e.cloneElement(E,{...E.props,...x})}});const y=p(u.props.children,x);return a.type===Y?e.cloneElement(a,{readOnly:x.isDisabled,children:y}):e.cloneElement(a,a.type===Z||a.type===ne||a.type===oe||a.type===ie||a.type===f||a.type===G||a.type===w?{children:y}:{...x,children:y})}return a}),d=o||!r(n)&&!t;return I.jsxs(I.Fragment,{children:[!s&&I.jsx(ae,{...l,className:"keycloak__form "+(l.className||""),children:p(i,d?{isDisabled:d}:{})}),s&&p(i,d?{isDisabled:d}:{})]})};export{T as C,de as F,G as S,w as a,f as b};
//# sourceMappingURL=FormAccess-1cceaef6.js.map
