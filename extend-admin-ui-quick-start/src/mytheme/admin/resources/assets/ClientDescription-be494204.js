import{u as j,a as k,j as e,F as b,G as l,C as s,S as p,ad as m,M as o,b5 as A,b6 as I,b7 as w}from"./index-a3421f29.js";import{F as v}from"./FormAccess-1cceaef6.js";import{G as y,a as r}from"./GridItem-d34dae2e.js";import{C as d}from"./Checkbox-d00621d8.js";const L=({unWrap:h,protocol:n})=>{const{t:a}=j("clients"),{control:i,watch:g,setValue:x}=k(),C=n||g("protocol"),c=g("publicClient"),f=g("authorizationServicesEnabled");return e.jsxs(v,{isHorizontal:!0,role:"manage-clients",unWrap:h,className:"keycloak__capability-config__form","data-testid":"capability-config-form",children:[C==="openid-connect"&&e.jsxs(e.Fragment,{children:[e.jsx(b,{hasNoPaddingTop:!0,label:a("clientAuthentication"),fieldId:"kc-authentication",labelIcon:e.jsx(l,{helpText:a("clients-help:authentication"),fieldLabelId:"clients:authentication"}),children:e.jsx(s,{name:"publicClient",defaultValue:!1,control:i,render:({field:t})=>e.jsx(p,{"data-testid":"authentication",id:"kc-authentication-switch",label:a("common:on"),labelOff:a("common:off"),isChecked:!t.value,onChange:u=>{t.onChange(!u),u||(x("authorizationServicesEnabled",!1),x("serviceAccountsEnabled",!1),x(m("attributes.oidc.ciba.grant.enabled"),!1))},"aria-label":a("clientAuthentication")})})}),e.jsx(b,{hasNoPaddingTop:!0,label:a("clientAuthorization"),fieldId:"kc-authorization",labelIcon:e.jsx(l,{helpText:a("clients-help:authorization"),fieldLabelId:"clients:authorization"}),children:e.jsx(s,{name:"authorizationServicesEnabled",defaultValue:!1,control:i,render:({field:t})=>e.jsx(p,{"data-testid":"authorization",id:"kc-authorization-switch",label:a("common:on"),labelOff:a("common:off"),isChecked:t.value&&!c,onChange:u=>{t.onChange(u),u&&x("serviceAccountsEnabled",!0)},isDisabled:c,"aria-label":a("clientAuthorization")})})}),e.jsx(b,{hasNoPaddingTop:!0,label:a("authenticationFlow"),fieldId:"kc-flow",children:e.jsxs(y,{id:"authenticationFlowGrid",children:[e.jsx(r,{lg:4,sm:6,children:e.jsx(s,{name:"standardFlowEnabled",defaultValue:!0,control:i,render:({field:t})=>e.jsxs(o,{children:[e.jsx(d,{"data-testid":"standard",label:a("standardFlow"),id:"kc-flow-standard",isChecked:t.value?.toString()==="true",onChange:t.onChange}),e.jsx(l,{helpText:a("clients-help:standardFlow"),fieldLabelId:"clients:standardFlow"})]})})}),e.jsx(r,{lg:8,sm:6,children:e.jsx(s,{name:"directAccessGrantsEnabled",defaultValue:!0,control:i,render:({field:t})=>e.jsxs(o,{children:[e.jsx(d,{"data-testid":"direct",label:a("directAccess"),id:"kc-flow-direct",isChecked:t.value,onChange:t.onChange}),e.jsx(l,{helpText:a("clients-help:directAccess"),fieldLabelId:"clients:directAccess"})]})})}),e.jsx(r,{lg:4,sm:6,children:e.jsx(s,{name:"implicitFlowEnabled",defaultValue:!0,control:i,render:({field:t})=>e.jsxs(o,{children:[e.jsx(d,{"data-testid":"implicit",label:a("implicitFlow"),id:"kc-flow-implicit",isChecked:t.value?.toString()==="true",onChange:t.onChange}),e.jsx(l,{helpText:a("clients-help:implicitFlow"),fieldLabelId:"clients:implicitFlow"})]})})}),e.jsx(r,{lg:8,sm:6,children:e.jsx(s,{name:"serviceAccountsEnabled",defaultValue:!1,control:i,render:({field:t})=>e.jsxs(o,{children:[e.jsx(d,{"data-testid":"service-account",label:a("serviceAccount"),id:"kc-flow-service-account",isChecked:t.value?.toString()==="true"||c&&f,onChange:t.onChange,isDisabled:c&&!f||!c&&f}),e.jsx(l,{helpText:a("clients-help:serviceAccount"),fieldLabelId:"clients:serviceAccount"})]})})}),e.jsx(r,{lg:8,sm:6,children:e.jsx(s,{name:m("attributes.oauth2.device.authorization.grant.enabled"),defaultValue:!1,control:i,render:({field:t})=>e.jsxs(o,{children:[e.jsx(d,{"data-testid":"oauth-device-authorization-grant",label:a("oauthDeviceAuthorizationGrant"),id:"kc-oauth-device-authorization-grant",name:"oauth2.device.authorization.grant.enabled",isChecked:t.value.toString()==="true",onChange:t.onChange}),e.jsx(l,{helpText:a("clients-help:oauthDeviceAuthorizationGrant"),fieldLabelId:"clients:oauthDeviceAuthorizationGrant"})]})})}),e.jsx(r,{lg:8,sm:6,children:e.jsx(s,{name:m("attributes.oidc.ciba.grant.enabled"),defaultValue:!1,control:i,render:({field:t})=>e.jsxs(o,{children:[e.jsx(d,{"data-testid":"oidc-ciba-grant",label:a("oidcCibaGrant"),id:"kc-oidc-ciba-grant",name:"oidc.ciba.grant.enabled",isChecked:t.value.toString()==="true",onChange:t.onChange,isDisabled:c}),e.jsx(l,{helpText:a("clients-help:oidcCibaGrant"),fieldLabelId:"clients:oidcCibaGrant"})]})})})]})})]}),C==="saml"&&e.jsxs(e.Fragment,{children:[e.jsx(b,{labelIcon:e.jsx(l,{helpText:a("clients-help:encryptAssertions"),fieldLabelId:"clients:encryptAssertions"}),label:a("encryptAssertions"),fieldId:"kc-encrypt",hasNoPaddingTop:!0,children:e.jsx(s,{name:m("attributes.saml.encrypt"),control:i,defaultValue:!1,render:({field:t})=>e.jsx(p,{"data-testid":"encrypt",id:"kc-encrypt",label:a("common:on"),labelOff:a("common:off"),isChecked:t.value,onChange:t.onChange,"aria-label":a("encryptAssertions")})})}),e.jsx(b,{labelIcon:e.jsx(l,{helpText:a("clients-help:clientSignature"),fieldLabelId:"clients:clientSignature"}),label:a("clientSignature"),fieldId:"kc-client-signature",hasNoPaddingTop:!0,children:e.jsx(s,{name:m("attributes.saml.client.signature"),control:i,defaultValue:!1,render:({field:t})=>e.jsx(p,{"data-testid":"client-signature",id:"kc-client-signature",label:a("common:on"),labelOff:a("common:off"),isChecked:t.value,onChange:t.onChange,"aria-label":a("clientSignature")})})})]})]})},z=h=>{const{t:n}=j("common");return e.jsx(A,{...h,labelOn:n("on"),labelOff:n("off")})},D=({hasConfigureAccess:h})=>{const{t:n}=j("clients");return e.jsxs(v,{role:"manage-clients",fineGrainedAccess:h,unWrap:!0,children:[e.jsx(I,{name:"clientId",label:n("common:clientId"),labelIcon:n("clients-help:clientId"),rules:{required:{value:!0,message:n("common:required")}}}),e.jsx(I,{name:"name",label:n("common:name"),labelIcon:n("clients-help:clientName")}),e.jsx(w,{name:"description",label:n("common:description"),labelIcon:n("clients-help:description"),rules:{maxLength:{value:255,message:n("common:maxLength",{length:255})}}}),e.jsx(z,{name:"alwaysDisplayInConsole",label:n("alwaysDisplayInUI"),labelIcon:n("clients-help:alwaysDisplayInUI")})]})};export{D as C,L as a};
//# sourceMappingURL=ClientDescription-be494204.js.map
