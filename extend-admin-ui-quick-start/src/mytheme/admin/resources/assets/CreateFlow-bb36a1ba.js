import{u as d,a as x,r as w,j as e,F as j,G as g,C as F,b as v,c as b,d as S,e as y,f as T,P as A,g as C,B as m,L as I,t as L,A as p,h as V}from"./index-a3421f29.js";import{F as E}from"./FormAccess-1cceaef6.js";import{V as G}from"./ViewHeader-832ec56e.js";import{S as P,a as B,b as N}from"./Select-0f56a9cc.js";import{N as O}from"./NameDescription-49e50e8d.js";import{A as k}from"./Form-518a2cf2.js";import"./copy-icon-a4fe01af.js";import"./GridItem-d34dae2e.js";import"./Text-564bf299.js";import"./ToolbarContent-7b435752.js";import"./check-fc57dbe1.js";import"./star-icon-6a7e7d25.js";import"./KeycloakTextArea-1b518857.js";import"./KeycloakTextInput-e7f6e917.js";const u=["basic-flow","client-flow"],z=()=>{const{t}=d("authentication"),{control:i}=x(),[s,n]=w.useState(!1);return e.jsx(j,{label:t("flowType"),labelIcon:e.jsx(g,{helpText:t("authentication-help:topLevelFlowType"),fieldLabelId:"authentication:flowType"}),fieldId:"flowType",children:e.jsx(F,{name:"providerId",defaultValue:u[0],control:i,render:({field:a})=>e.jsx(P,{toggleId:"flowType",onToggle:n,onSelect:(o,l)=>{a.onChange(l.toString()),n(!1)},selections:t(`top-level-flow-type.${a.value}`),variant:B.single,"aria-label":t("flowType"),isOpen:s,children:u.map(o=>e.jsx(N,{selected:o===a.value,value:o,children:t(`top-level-flow-type.${o}`)},o))})})})};function Z(){const{t}=d("authentication"),i=v(),{realm:s}=b(),{adminClient:n}=S(),{addAlert:a}=y(),o=T(),{handleSubmit:l}=o,h=async c=>{const f={...c,builtIn:!1,topLevel:!0};try{const{id:r}=await n.authenticationManagement.createFlow(f);a(t("flowCreatedSuccess"),p.success),i(V({realm:s,id:r,usedBy:"notInUse"}))}catch(r){a(t("flowCreateError",{error:r.response?.data?.errorMessage||r}),p.danger)}};return e.jsxs(e.Fragment,{children:[e.jsx(G,{titleKey:"authentication:createFlow",subKey:"authentication-help:createFlow"}),e.jsx(A,{variant:"light",children:e.jsx(C,{...o,children:e.jsxs(E,{isHorizontal:!0,role:"manage-authorization",onSubmit:l(h),children:[e.jsx(O,{}),e.jsx(z,{}),e.jsxs(k,{children:[e.jsx(m,{"data-testid":"create",type:"submit",children:t("common:create")}),e.jsx(m,{"data-testid":"cancel",variant:"link",component:c=>e.jsx(I,{...c,to:L({realm:s})}),children:t("common:cancel")})]})]})})})]})}export{Z as default};
//# sourceMappingURL=CreateFlow-bb36a1ba.js.map
