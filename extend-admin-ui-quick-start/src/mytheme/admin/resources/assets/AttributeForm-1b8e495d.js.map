{"version":3,"file":"AttributeForm-1b8e495d.js","sources":["../../src/components/key-value-form/AttributeForm.tsx"],"sourcesContent":["import type RoleRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/roleRepresentation\";\nimport { ActionGroup, Button } from \"@patternfly/react-core\";\nimport { FormProvider, UseFormReturn } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { FormAccess } from \"../form-access/FormAccess\";\nimport type { KeyValueType } from \"./key-value-convert\";\nimport { KeyValueInput } from \"./KeyValueInput\";\n\nexport type AttributeForm = Omit<RoleRepresentation, \"attributes\"> & {\n  attributes?: KeyValueType[];\n};\n\nexport type AttributesFormProps = {\n  form: UseFormReturn<AttributeForm>;\n  save?: (model: AttributeForm) => void;\n  reset?: () => void;\n  fineGrainedAccess?: boolean;\n};\n\nexport const AttributesForm = ({\n  form,\n  reset,\n  save,\n  fineGrainedAccess,\n}: AttributesFormProps) => {\n  const { t } = useTranslation(\"roles\");\n  const noSaveCancelButtons = !save && !reset;\n  const {\n    formState: { isDirty },\n    handleSubmit,\n  } = form;\n\n  return (\n    <FormAccess\n      role=\"manage-realm\"\n      onSubmit={save ? handleSubmit(save) : undefined}\n      fineGrainedAccess={fineGrainedAccess}\n    >\n      <FormProvider {...form}>\n        <KeyValueInput name=\"attributes\" />\n      </FormProvider>\n      {!noSaveCancelButtons && (\n        <ActionGroup className=\"kc-attributes__action-group\">\n          <Button\n            data-testid=\"save-attributes\"\n            variant=\"primary\"\n            type=\"submit\"\n            isDisabled={!isDirty}\n          >\n            {t(\"common:save\")}\n          </Button>\n          <Button onClick={reset} variant=\"link\" isDisabled={!isDirty}>\n            {t(\"common:revert\")}\n          </Button>\n        </ActionGroup>\n      )}\n    </FormAccess>\n  );\n};\n"],"names":["AttributesForm","form","reset","save","fineGrainedAccess","t","useTranslation","noSaveCancelButtons","isDirty","handleSubmit","jsxs","FormAccess","jsx","FormProvider","KeyValueInput","ActionGroup","Button"],"mappings":"iMAoBO,MAAMA,EAAiB,CAAC,CAC7B,KAAAC,EACA,MAAAC,EACA,KAAAC,EACA,kBAAAC,CACF,IAA2B,CACzB,KAAM,CAAE,EAAAC,CAAA,EAAMC,EAAe,OAAO,EAC9BC,EAAsB,CAACJ,GAAQ,CAACD,EAChC,CACJ,UAAW,CAAE,QAAAM,CAAQ,EACrB,aAAAC,CACE,EAAAR,EAGF,OAAAS,EAAA,KAACC,EAAA,CACC,KAAK,eACL,SAAUR,EAAOM,EAAaN,CAAI,EAAI,OACtC,kBAAAC,EAEA,SAAA,CAAAQ,EAAAA,IAACC,GAAc,GAAGZ,EAChB,eAACa,EAAc,CAAA,KAAK,aAAa,CACnC,CAAA,EACC,CAACP,GACCG,EAAAA,KAAAK,EAAA,CAAY,UAAU,8BACrB,SAAA,CAAAH,EAAA,IAACI,EAAA,CACC,cAAY,kBACZ,QAAQ,UACR,KAAK,SACL,WAAY,CAACR,EAEZ,WAAE,aAAa,CAAA,CAClB,EACAI,EAAAA,IAACI,EAAO,CAAA,QAASd,EAAO,QAAQ,OAAO,WAAY,CAACM,EACjD,SAAEH,EAAA,eAAe,CACpB,CAAA,CAAA,EACF,CAAA,CAAA,CAAA,CAIR"}