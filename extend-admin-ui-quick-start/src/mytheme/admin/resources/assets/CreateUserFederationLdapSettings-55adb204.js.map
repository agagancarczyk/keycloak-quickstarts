{"version":3,"file":"CreateUserFederationLdapSettings-55adb204.js","sources":["../../src/user-federation/CreateUserFederationLdapSettings.tsx"],"sourcesContent":["import { AlertVariant, PageSection } from \"@patternfly/react-core\";\nimport { FormProvider, useForm } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport { useAlerts } from \"../components/alert/Alerts\";\nimport { useAdminClient } from \"../context/auth/AdminClient\";\nimport { useRealm } from \"../context/realm-context/RealmContext\";\nimport { toUserFederation } from \"./routes/UserFederation\";\nimport { ExtendedHeader } from \"./shared/ExtendedHeader\";\nimport {\n  LdapComponentRepresentation,\n  serializeFormData,\n  UserFederationLdapForm,\n} from \"./UserFederationLdapForm\";\n\nexport default function CreateUserFederationLdapSettings() {\n  const { t } = useTranslation(\"user-federation\");\n  const form = useForm<LdapComponentRepresentation>({ mode: \"onChange\" });\n  const navigate = useNavigate();\n  const { adminClient } = useAdminClient();\n  const { realm } = useRealm();\n  const { addAlert, addError } = useAlerts();\n\n  const onSubmit = async (formData: LdapComponentRepresentation) => {\n    try {\n      await adminClient.components.create(serializeFormData(formData));\n      addAlert(t(\"createSuccess\"), AlertVariant.success);\n      navigate(toUserFederation({ realm }));\n    } catch (error) {\n      addError(\"user-federation:createError\", error);\n    }\n  };\n\n  return (\n    <FormProvider {...form}>\n      <ExtendedHeader\n        provider=\"LDAP\"\n        noDivider\n        save={() => form.handleSubmit(onSubmit)()}\n      />\n      <PageSection variant=\"light\" className=\"pf-u-p-0\">\n        <PageSection variant=\"light\">\n          <UserFederationLdapForm onSubmit={onSubmit} />\n        </PageSection>\n      </PageSection>\n    </FormProvider>\n  );\n}\n"],"names":["CreateUserFederationLdapSettings","t","useTranslation","form","useForm","navigate","useNavigate","adminClient","useAdminClient","realm","useRealm","addAlert","addError","useAlerts","onSubmit","formData","serializeFormData","AlertVariant","toUserFederation","error","jsxs","FormProvider","jsx","ExtendedHeader","PageSection","UserFederationLdapForm"],"mappings":"6hCAgBA,SAAwBA,GAAmC,CACzD,KAAM,CAAE,EAAAC,CAAA,EAAMC,EAAe,iBAAiB,EACxCC,EAAOC,EAAqC,CAAE,KAAM,UAAY,CAAA,EAChEC,EAAWC,IACX,CAAE,YAAAC,GAAgBC,IAClB,CAAE,MAAAC,GAAUC,IACZ,CAAE,SAAAC,EAAU,SAAAC,CAAS,EAAIC,EAAU,EAEnCC,EAAW,MAAOC,GAA0C,CAC5D,GAAA,CACF,MAAMR,EAAY,WAAW,OAAOS,EAAkBD,CAAQ,CAAC,EAC/DJ,EAASV,EAAE,eAAe,EAAGgB,EAAa,OAAO,EACjDZ,EAASa,EAAiB,CAAE,MAAAT,CAAM,CAAC,CAAC,QAC7BU,GACPP,EAAS,8BAA+BO,CAAK,CAC/C,CAAA,EAIA,OAAAC,EAAA,KAACC,EAAc,CAAA,GAAGlB,EAChB,SAAA,CAAAmB,EAAA,IAACC,EAAA,CACC,SAAS,OACT,UAAS,GACT,KAAM,IAAMpB,EAAK,aAAaW,CAAQ,EAAE,CAAA,CAC1C,EACCQ,MAAAE,EAAA,CAAY,QAAQ,QAAQ,UAAU,WACrC,SAAAF,MAACE,EAAY,CAAA,QAAQ,QACnB,SAAAF,EAAA,IAACG,EAAuB,CAAA,SAAAX,CAAA,CAAoB,CAC9C,CAAA,EACF,CACF,CAAA,CAAA,CAEJ"}