{"version":3,"file":"ExpandableSection-15721cb7.js","sources":["../../../../node_modules/@patternfly/react-styles/css/components/ExpandableSection/expandable-section.mjs","../../../../node_modules/@patternfly/react-tokens/dist/esm/c_expandable_section_m_truncate__content_LineClamp.js","../../../../node_modules/@patternfly/react-core/dist/esm/components/ExpandableSection/ExpandableSection.js"],"sourcesContent":["import './expandable-section.css';\nexport default {\n  \"expandableSection\": \"pf-c-expandable-section\",\n  \"expandableSectionContent\": \"pf-c-expandable-section__content\",\n  \"expandableSectionToggle\": \"pf-c-expandable-section__toggle\",\n  \"expandableSectionToggleIcon\": \"pf-c-expandable-section__toggle-icon\",\n  \"expandableSectionToggleText\": \"pf-c-expandable-section__toggle-text\",\n  \"modifiers\": {\n    \"expanded\": \"pf-m-expanded\",\n    \"detached\": \"pf-m-detached\",\n    \"truncate\": \"pf-m-truncate\",\n    \"limitWidth\": \"pf-m-limit-width\",\n    \"displayLg\": \"pf-m-display-lg\",\n    \"indented\": \"pf-m-indented\",\n    \"active\": \"pf-m-active\",\n    \"expandTop\": \"pf-m-expand-top\",\n    \"overpassFont\": \"pf-m-overpass-font\"\n  }\n};","export const c_expandable_section_m_truncate__content_LineClamp = {\n  \"name\": \"--pf-c-expandable-section--m-truncate__content--LineClamp\",\n  \"value\": \"3\",\n  \"var\": \"var(--pf-c-expandable-section--m-truncate__content--LineClamp)\"\n};\nexport default c_expandable_section_m_truncate__content_LineClamp;","import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/ExpandableSection/expandable-section';\nimport { css } from '@patternfly/react-styles';\nimport lineClamp from '@patternfly/react-tokens/dist/esm/c_expandable_section_m_truncate__content_LineClamp';\nimport AngleRightIcon from '@patternfly/react-icons/dist/esm/icons/angle-right-icon';\nimport { debounce } from '../../helpers/util';\nimport { getResizeObserver } from '../../helpers/resizeObserver';\nexport var ExpandableSectionVariant;\n(function (ExpandableSectionVariant) {\n    ExpandableSectionVariant[\"default\"] = \"default\";\n    ExpandableSectionVariant[\"truncate\"] = \"truncate\";\n})(ExpandableSectionVariant || (ExpandableSectionVariant = {}));\nconst setLineClamp = (lines, element) => {\n    if (!element || lines < 1) {\n        return;\n    }\n    element.style.setProperty(lineClamp.name, lines.toString());\n};\nexport class ExpandableSection extends React.Component {\n    constructor(props) {\n        super(props);\n        this.expandableContentRef = React.createRef();\n        this.observer = () => { };\n        this.checkToggleVisibility = () => {\n            var _a;\n            if ((_a = this.expandableContentRef) === null || _a === void 0 ? void 0 : _a.current) {\n                const maxLines = this.props.truncateMaxLines || parseInt(lineClamp.value);\n                const totalLines = this.expandableContentRef.current.scrollHeight /\n                    parseInt(getComputedStyle(this.expandableContentRef.current).lineHeight);\n                this.setState({\n                    hasToggle: totalLines > maxLines\n                });\n            }\n        };\n        this.resize = () => {\n            const { offsetWidth } = this.expandableContentRef.current;\n            if (this.state.previousWidth !== offsetWidth) {\n                this.setState({ previousWidth: offsetWidth });\n                this.checkToggleVisibility();\n            }\n        };\n        this.handleResize = debounce(this.resize, 250);\n        this.state = {\n            isExpanded: props.isExpanded,\n            hasToggle: true,\n            previousWidth: undefined\n        };\n    }\n    calculateToggleText(toggleText, toggleTextExpanded, toggleTextCollapsed, propOrStateIsExpanded) {\n        if (propOrStateIsExpanded && toggleTextExpanded !== '') {\n            return toggleTextExpanded;\n        }\n        if (!propOrStateIsExpanded && toggleTextCollapsed !== '') {\n            return toggleTextCollapsed;\n        }\n        return toggleText;\n    }\n    componentDidMount() {\n        if (this.props.variant === ExpandableSectionVariant.truncate) {\n            const expandableContent = this.expandableContentRef.current;\n            this.setState({ previousWidth: expandableContent.offsetWidth });\n            this.observer = getResizeObserver(expandableContent, this.handleResize, false);\n            if (this.props.truncateMaxLines) {\n                setLineClamp(this.props.truncateMaxLines, expandableContent);\n            }\n            this.checkToggleVisibility();\n        }\n    }\n    componentDidUpdate(prevProps) {\n        if (this.props.variant === ExpandableSectionVariant.truncate &&\n            prevProps.truncateMaxLines !== this.props.truncateMaxLines) {\n            const expandableContent = this.expandableContentRef.current;\n            setLineClamp(this.props.truncateMaxLines, expandableContent);\n            this.checkToggleVisibility();\n        }\n    }\n    componentWillUnmount() {\n        if (this.props.variant === ExpandableSectionVariant.truncate) {\n            this.observer();\n        }\n    }\n    render() {\n        const _a = this.props, { onToggle: onToggleProp, \n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        isActive, className, toggleText, toggleTextExpanded, toggleTextCollapsed, toggleContent, children, isExpanded, isDetached, displaySize, isWidthLimited, isIndented, contentId, variant, \n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        truncateMaxLines } = _a, props = __rest(_a, [\"onToggle\", \"isActive\", \"className\", \"toggleText\", \"toggleTextExpanded\", \"toggleTextCollapsed\", \"toggleContent\", \"children\", \"isExpanded\", \"isDetached\", \"displaySize\", \"isWidthLimited\", \"isIndented\", \"contentId\", \"variant\", \"truncateMaxLines\"]);\n        let onToggle = onToggleProp;\n        let propOrStateIsExpanded = isExpanded;\n        // uncontrolled\n        if (isExpanded === undefined) {\n            propOrStateIsExpanded = this.state.isExpanded;\n            onToggle = isOpen => {\n                this.setState({ isExpanded: isOpen }, () => onToggleProp(this.state.isExpanded));\n            };\n        }\n        const computedToggleText = this.calculateToggleText(toggleText, toggleTextExpanded, toggleTextCollapsed, propOrStateIsExpanded);\n        const expandableToggle = !isDetached && (React.createElement(\"button\", { className: css(styles.expandableSectionToggle), type: \"button\", \"aria-expanded\": propOrStateIsExpanded, onClick: () => onToggle(!propOrStateIsExpanded) },\n            variant !== ExpandableSectionVariant.truncate && (React.createElement(\"span\", { className: css(styles.expandableSectionToggleIcon) },\n                React.createElement(AngleRightIcon, { \"aria-hidden\": true }))),\n            React.createElement(\"span\", { className: css(styles.expandableSectionToggleText) }, toggleContent || computedToggleText)));\n        return (React.createElement(\"div\", Object.assign({ className: css(styles.expandableSection, propOrStateIsExpanded && styles.modifiers.expanded, isActive && styles.modifiers.active, isDetached && styles.modifiers.detached, displaySize === 'large' && styles.modifiers.displayLg, isWidthLimited && styles.modifiers.limitWidth, isIndented && styles.modifiers.indented, variant === ExpandableSectionVariant.truncate && styles.modifiers.truncate, className) }, props),\n            variant === ExpandableSectionVariant.default && expandableToggle,\n            React.createElement(\"div\", { ref: this.expandableContentRef, className: css(styles.expandableSectionContent), hidden: variant !== ExpandableSectionVariant.truncate && !propOrStateIsExpanded, id: contentId }, children),\n            variant === ExpandableSectionVariant.truncate && this.state.hasToggle && expandableToggle));\n    }\n}\nExpandableSection.displayName = 'ExpandableSection';\nExpandableSection.defaultProps = {\n    className: '',\n    toggleText: '',\n    toggleTextExpanded: '',\n    toggleTextCollapsed: '',\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    onToggle: (isExpanded) => undefined,\n    isActive: false,\n    isDetached: false,\n    displaySize: 'default',\n    isWidthLimited: false,\n    isIndented: false,\n    contentId: '',\n    variant: 'default'\n};\n//# sourceMappingURL=ExpandableSection.js.map"],"names":["styles","c_expandable_section_m_truncate__content_LineClamp","lineClamp","ExpandableSectionVariant","setLineClamp","lines","element","ExpandableSection","React.Component","props","React.createRef","_a","maxLines","totalLines","offsetWidth","debounce","toggleText","toggleTextExpanded","toggleTextCollapsed","propOrStateIsExpanded","expandableContent","getResizeObserver","prevProps","onToggleProp","isActive","className","toggleContent","children","isExpanded","isDetached","displaySize","isWidthLimited","isIndented","contentId","variant","truncateMaxLines","__rest","onToggle","isOpen","computedToggleText","expandableToggle","React.createElement","css","AngleRightIcon"],"mappings":"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","x_google_ignoreList":[0,1,2]}